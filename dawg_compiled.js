(function(){window.console||(window.console={});for(var a="log info warn error debug trace dir group groupCollapsed groupEnd time timeEnd profile profileEnd dirxml assert count markTimeline timeStamp clear".split(" "),b=0;b<a.length;b++)window.console[a[b]]||(window.console[a[b]]=function(){})})();function debug(a){if(window.console)try{console.log(a)}catch(b){alert(a)}}
function empty(a){if(void 0===a||NaN===a)return!0;if("number"==typeof a||"boolean"==typeof a||"[object Date]"===Object.prototype.toString.call(a))return!1;if(null==a||0===a.length)return!0;if("object"==typeof a){var b=!0,c;for(c in a)b=!1;return b}return!1}function isInt(a){return/^\d+$/.test(a)}function isNumber(a){return!isNaN(a)}function lpad(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c}
function getDeviceName(){var a=navigator.userAgent.toLowerCase();return-1<a.indexOf("ipad")?"ipad":-1<a.indexOf("iphone")?"iphone":-1<a.indexOf("android")?"android":-1<a.indexOf("windows phone")||-1<a.indexOf("iemobile")||-1<a.indexOf("windows mobile")?"windows phone":-1<a.indexOf("blackberry")?"blackberry":"unknown"}
function getBrowserName(){var a=navigator.userAgent.toLowerCase();return-1<a.indexOf("firefox")?"firefox":-1<a.indexOf("chrome")?"chrome":-1<a.indexOf("msie")||-1<a.indexOf("windows")?"msie":-1<a.indexOf("safari")?"safari":-1<a.indexOf("opera")?"opera":"unknown"}function isPhone(){return 568>=window.innerWidth?!0:!1}function isTablet(){return 568<window.innerWidth&&1024>=window.innerWidth?!0:!1}function isDesktop(){return 1024<window.innerWidth?!0:!1}
function getOrientation(){return window.innerHeight>window.innerWidth?"portrait":"landscape"}function getBrowser(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(android)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],a=getBrowserName(),b=parseInt(b[2]||0);return{browser:a,version:b}}
function createCookie(a,b,c){var e=new Date;empty(c)?e.setUTCFullYear(2030):e.setTime(e.getTime()+36E5*c);a=a+"="+escape(b)+"; expires="+e.toGMTString()+"; path=/";document.cookie=a}function getCookie(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var e=b[c];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(a))return e.substring(a.length,e.length)}return null}function deleteCookie(a){createCookie(a,"",-1)}
function refreshCookie(a,b){var c=getCookie(a);empty(c)||createCookie(a,c,b)}function imageScaleHeight(a,b,c){return Math.round(c/a*b)}function imageScaleWidth(a,b,c){return Math.round(c/b*a)}function ellipse(a,b){if(empty(a))return null;a.length>=b&&(a=a.substring(0,b-3)+"...");return a}function HMStoSeconds(a,b,c){return 3600*a+60*b+c}function timeStart(){return(new Date).getTime()}function timeEnd(a){return(new Date).getTime()-a}
function rgbToHex(a,b,c){return"#"+(16777216+(a<<16)+(b<<8)+c).toString(16).slice(1)}function hexToRgb(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,c,e,h){return c+c+e+e+h+h});return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null}
function generateColorSeries(a,b,c){var e=[];if(0>=c||null==a||null==b)return e;a.r=Math.max(a.r,0);a.r=Math.max(a.r,0);a.r=Math.max(a.r,0);b.r=Math.min(b.r,255);b.r=Math.min(b.r,255);b.r=Math.min(b.r,255);if(1==c)return e.push({r:Math.floor(a.r),g:Math.floor(a.g),b:Math.floor(a.b)}),e;var h=(b.r-a.r)/(c-1),m=(b.g-a.g)/(c-1);b=(b.b-a.b)/(c-1);var d=a.r,f=a.g;a=a.b;for(var q=0;q<c;q++)e.push({r:Math.floor(d),g:Math.floor(f),b:Math.floor(a)}),d+=h,f+=m,a+=b;return e}
function getUrlVars(){for(var a=[],b,c=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),e=0;e<c.length;e++)b=c[e].split("="),a.push(b[0]),a[b[0]]=b[1];return a};!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,g=k.type(a);return"function"===g||k.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===g||0===b||"number"==typeof b&&0<b&&b-1 in a}function e(a,b,g){if(k.isFunction(b))return k.grep(a,function(a,E){return!!b.call(a,E,
a)!==g});if(b.nodeType)return k.grep(a,function(a){return a===b!==g});if("string"==typeof b){if(Za.test(b))return k.filter(b,a,g);b=k.filter(b,a)}return k.grep(a,function(a){return 0<=k.inArray(a,b)!==g})}function h(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a){var b=$a[a]={};return k.each(a.match(qa)||[],function(a,E){b[E]=!0}),b}function d(){M.addEventListener?(M.removeEventListener("DOMContentLoaded",f,!1),a.removeEventListener("load",f,!1)):(M.detachEvent("onreadystatechange",
f),a.detachEvent("onload",f))}function f(){(M.addEventListener||"load"===event.type||"complete"===M.readyState)&&(d(),k.ready())}function q(a,b,g){if(void 0===g&&1===a.nodeType){var c="data-"+b.replace(ab,"-$1").toLowerCase();if(g=a.getAttribute(c),"string"==typeof g){try{g="true"===g?!0:"false"===g?!1:"null"===g?null:+g+""===g?+g:bb.test(g)?k.parseJSON(g):g}catch(d){}k.data(a,b,g)}else g=void 0}return g}function t(a){for(var b in a)if(("data"!==b||!k.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}
function z(a,b,g,c){if(k.acceptData(a)){var d,l,f=k.expando,e=a.nodeType,B=e?k.cache:a,v=e?a[f]:a[f]&&f;if(v&&B[v]&&(c||B[v].data)||void 0!==g||"string"!=typeof b)return v||(v=e?a[f]=ga.pop()||k.guid++:f),B[v]||(B[v]=e?{}:{toJSON:k.noop}),("object"==typeof b||"function"==typeof b)&&(c?B[v]=k.extend(B[v],b):B[v].data=k.extend(B[v].data,b)),l=B[v],c||(l.data||(l.data={}),l=l.data),void 0!==g&&(l[k.camelCase(b)]=g),"string"==typeof b?(d=l[b],null==d&&(d=l[k.camelCase(b)])):d=l,d}}function s(a,b,g){if(k.acceptData(a)){var c,
d,l=a.nodeType,f=l?k.cache:a,e=l?a[k.expando]:k.expando;if(f[e]){if(b&&(c=g?f[e]:f[e].data)){k.isArray(b)?b=b.concat(k.map(b,k.camelCase)):b in c?b=[b]:(b=k.camelCase(b),b=b in c?[b]:b.split(" "));for(d=b.length;d--;)delete c[b[d]];if(g?!t(c):!k.isEmptyObject(c))return}(g||(delete f[e].data,t(f[e])))&&(l?k.cleanData([a],!0):F.deleteExpando||f!=f.window?delete f[e]:f[e]=null)}}}function w(){return!0}function y(){return!1}function r(){try{return M.activeElement}catch(a){}}function u(a){var b=cb.split("|");
a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function n(a,b){var g,c,d=0,l=typeof a.getElementsByTagName!==ka?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==ka?a.querySelectorAll(b||"*"):void 0;if(!l)for(l=[],g=a.childNodes||a;null!=(c=g[d]);d++)!b||k.nodeName(c,b)?l.push(c):k.merge(l,n(c,b));return void 0===b||b&&k.nodeName(a,b)?k.merge([a],l):l}function C(a){Ra.test(a.type)&&(a.defaultChecked=a.checked)}function I(a,b){return k.nodeName(a,
"table")&&k.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function L(a){return a.type=(null!==k.find.attr(a,"type"))+"/"+a.type,a}function H(a){var b=Sa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var g,c=0;null!=(g=a[c]);c++)k._data(g,"globalEval",!b||k._data(b[c],"globalEval"))}function G(a,b){if(1===b.nodeType&&k.hasData(a)){var g,c,d;c=k._data(a);var l=k._data(b,c),
f=c.events;if(f)for(g in delete l.handle,l.events={},f)for(c=0,d=f[g].length;d>c;c++)k.event.add(b,g,f[g][c]);l.data&&(l.data=k.extend({},l.data))}}function P(b,g){var c,d=k(g.createElement(b)).appendTo(g.body),l=a.getDefaultComputedStyle&&(c=a.getDefaultComputedStyle(d[0]))?c.display:k.css(d[0],"display");return d.detach(),l}function Q(a){var b=M,g=db[a];return g||(g=P(a,b),"none"!==g&&g||(Ca=(Ca||k("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||
Ca[0].contentDocument).document,b.write(),b.close(),g=P(a,b),Ca.detach()),db[a]=g),g}function U(a,b){return{get:function(){var g=a();if(null!=g)return g?void delete this.get:(this.get=b).apply(this,arguments)}}}function D(a,b){if(b in a)return b;for(var g=b.charAt(0).toUpperCase()+b.slice(1),c=b,d=Ab.length;d--;)if(b=Ab[d]+g,b in a)return b;return c}function J(a,b){for(var g,c,d,l=[],f=0,e=a.length;e>f;f++)c=a[f],c.style&&(l[f]=k._data(c,"olddisplay"),g=c.style.display,b?(l[f]||"none"!==g||(c.style.display=
""),""===c.style.display&&Da(c)&&(l[f]=k._data(c,"olddisplay",Q(c.nodeName)))):(d=Da(c),(g&&"none"!==g||!d)&&k._data(c,"olddisplay",d?g:k.css(c,"display"))));for(f=0;e>f;f++)c=a[f],c.style&&(b&&"none"!==c.style.display&&""!==c.style.display||(c.style.display=b?l[f]||"":"none"));return a}function N(a,b,g){return(a=Nb.exec(b))?Math.max(0,a[1]-(g||0))+(a[2]||"px"):b}function ca(a,b,g,c,d){b=g===(c?"border":"content")?4:"width"===b?1:0;for(var l=0;4>b;b+=2)"margin"===g&&(l+=k.css(a,g+sa[b],!0,d)),c?("content"===
g&&(l-=k.css(a,"padding"+sa[b],!0,d)),"margin"!==g&&(l-=k.css(a,"border"+sa[b]+"Width",!0,d))):(l+=k.css(a,"padding"+sa[b],!0,d),"padding"!==g&&(l+=k.css(a,"border"+sa[b]+"Width",!0,d)));return l}function Z(a,b,g){var c=!0,d="width"===b?a.offsetWidth:a.offsetHeight,l=Ea(a),f=F.boxSizing&&"border-box"===k.css(a,"boxSizing",!1,l);if(0>=d||null==d){if(d=Fa(a,b,l),(0>d||null==d)&&(d=a.style[b]),eb.test(d))return d;c=f&&(F.boxSizingReliable()||d===a.style[b]);d=parseFloat(d)||0}return d+ca(a,b,g||(f?"border":
"content"),c,l)+"px"}function O(a,b,g,c,d){return new O.prototype.init(a,b,g,c,d)}function T(){return setTimeout(function(){Ja=void 0}),Ja=k.now()}function W(a,b){var g,c={height:a},d=0;for(b=b?1:0;4>d;d+=2-b)g=sa[d],c["margin"+g]=c["padding"+g]=a;return b&&(c.opacity=c.width=a),c}function da(a,b,g){for(var c,d=(Ta[b]||[]).concat(Ta["*"]),k=0,l=d.length;l>k;k++)if(c=d[k].call(g,b,a))return c}function S(a,b){var g,c,d,l,f;for(g in a)if(c=k.camelCase(g),d=b[c],l=a[g],k.isArray(l)&&(d=l[1],l=a[g]=l[0]),
g!==c&&(a[c]=l,delete a[g]),f=k.cssHooks[c],f&&"expand"in f)for(g in l=f.expand(l),delete a[c],l)g in a||(a[g]=l[g],b[g]=d);else b[c]=d}function g(a,b,g){var c,d=0,l=fb.length,f=k.Deferred().always(function(){delete e.elem}),e=function(){if(c)return!1;for(var b=Ja||T(),b=Math.max(0,v.startTime+v.duration-b),g=1-(b/v.duration||0),d=0,ba=v.tweens.length;ba>d;d++)v.tweens[d].run(g);return f.notifyWith(a,[v,g,b]),1>g&&ba?b:(f.resolveWith(a,[v]),!1)},v=f.promise({elem:a,props:k.extend({},b),opts:k.extend(!0,
{specialEasing:{}},g),originalProperties:b,originalOptions:g,startTime:Ja||T(),duration:g.duration,tweens:[],createTween:function(b,g){var c=k.Tween(a,v.opts,b,g,v.opts.specialEasing[b]||v.opts.easing);return v.tweens.push(c),c},stop:function(b){var g=0,d=b?v.tweens.length:0;if(c)return this;for(c=!0;d>g;g++)v.tweens[g].run(1);return b?f.resolveWith(a,[v,b]):f.rejectWith(a,[v,b]),this}});g=v.props;for(S(g,v.opts.specialEasing);l>d;d++)if(b=fb[d].call(v,a,g,v.opts))return b;return k.map(g,da,v),k.isFunction(v.opts.start)&&
v.opts.start.call(a,v),k.fx.timer(k.extend(e,{elem:a,anim:v,queue:v.opts.queue})),v.progress(v.opts.progress).done(v.opts.done,v.opts.complete).fail(v.opts.fail).always(v.opts.always)}function l(a){return function(b,g){"string"!=typeof b&&(g=b,b="*");var c,d=0,l=b.toLowerCase().match(qa)||[];if(k.isFunction(g))for(;c=l[d++];)"+"===c.charAt(0)?(c=c.slice(1)||"*",(a[c]=a[c]||[]).unshift(g)):(a[c]=a[c]||[]).push(g)}}function v(a,b,g,c){function d(e){var v;return l[e]=!0,k.each(a[e]||[],function(a,E){var k=
E(b,g,c);return"string"!=typeof k||f||l[k]?f?!(v=k):void 0:(b.dataTypes.unshift(k),d(k),!1)}),v}var l={},f=a===pb;return d(b.dataTypes[0])||!l["*"]&&d("*")}function R(a,b){var g,c,d=k.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((d[c]?a:g||(g={}))[c]=b[c]);return g&&k.extend(!0,a,g),a}function K(a,b,g,c){var d;if(k.isArray(b))k.each(b,function(b,d){g||Ob.test(a)?c(a,d):K(a+"["+("object"==typeof d?b:"")+"]",d,g,c)});else if(g||"object"!==k.type(b))c(a,b);else for(d in b)K(a+"["+d+"]",b[d],
g,c)}function aa(){try{return new a.XMLHttpRequest}catch(b){}}function V(a){return k.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var ga=[],A=ga.slice,Y=ga.concat,ta=ga.push,na=ga.indexOf,ha={},pa=ha.toString,ia=ha.hasOwnProperty,F={},k=function(a,b){return new k.fn.init(a,b)},ua=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,va=/^-ms-/,la=/-([\da-z])/gi,gb=function(a,b){return b.toUpperCase()};k.fn=k.prototype={jquery:"1.11.1",constructor:k,selector:"",length:0,toArray:function(){return A.call(this)},
get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:A.call(this)},pushStack:function(a){a=k.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return k.each(this,a,b)},map:function(a){return this.pushStack(k.map(this,function(b,g){return a.call(b,g,b)}))},slice:function(){return this.pushStack(A.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=
a&&b>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ta,sort:ga.sort,splice:ga.splice};k.extend=k.fn.extend=function(){var a,b,g,c,d,l,f=arguments[0]||{},e=1,v=arguments.length,B=!1;"boolean"==typeof f&&(B=f,f=arguments[e]||{},e++);"object"==typeof f||k.isFunction(f)||(f={});for(e===v&&(f=this,e--);v>e;e++)if(null!=(d=arguments[e]))for(c in d)a=f[c],g=d[c],f!==g&&(B&&g&&(k.isPlainObject(g)||(b=k.isArray(g)))?(b?(b=!1,l=a&&k.isArray(a)?a:[]):l=a&&k.isPlainObject(a)?
a:{},f[c]=k.extend(B,l,g)):void 0!==g&&(f[c]=g));return f};k.extend({expando:"jQuery"+("1.11.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===k.type(a)},isArray:Array.isArray||function(a){return"array"===k.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!k.isArray(a)&&0<=a-parseFloat(a)},isEmptyObject:function(a){for(var b in a)return!1;return!0},isPlainObject:function(a){var b;
if(!a||"object"!==k.type(a)||a.nodeType||k.isWindow(a))return!1;try{if(a.constructor&&!ia.call(a,"constructor")&&!ia.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(g){return!1}if(F.ownLast)for(b in a)return ia.call(a,b);for(b in a);return void 0===b||ia.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ha[pa.call(a)]||"object":typeof a},globalEval:function(b){b&&k.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(va,
"ms-").replace(la,gb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,g){var d,k=0,l=a.length,f=c(a);if(g)if(f)for(;l>k&&(d=b.apply(a[k],g),!1!==d);k++);else for(k in a){if(d=b.apply(a[k],g),!1===d)break}else if(f)for(;l>k&&(d=b.call(a[k],k,a[k]),!1!==d);k++);else for(k in a)if(d=b.call(a[k],k,a[k]),!1===d)break;return a},trim:function(a){return null==a?"":(a+"").replace(ua,"")},makeArray:function(a,b){var g=b||[];return null!=a&&(c(Object(a))?
k.merge(g,"string"==typeof a?[a]:a):ta.call(g,a)),g},inArray:function(a,b,g){var c;if(b){if(na)return na.call(b,a,g);c=b.length;for(g=g?0>g?Math.max(0,c+g):g:0;c>g;g++)if(g in b&&b[g]===a)return g}return-1},merge:function(a,b){for(var g=+b.length,c=0,d=a.length;g>c;)a[d++]=b[c++];if(g!==g)for(;void 0!==b[c];)a[d++]=b[c++];return a.length=d,a},grep:function(a,b,g){for(var c=[],d=0,k=a.length,l=!g;k>d;d++)g=!b(a[d],d),g!==l&&c.push(a[d]);return c},map:function(a,b,g){var d,k=0,l=a.length,f=[];if(c(a))for(;l>
k;k++)d=b(a[k],k,g),null!=d&&f.push(d);else for(k in a)d=b(a[k],k,g),null!=d&&f.push(d);return Y.apply([],f)},guid:1,proxy:function(a,b){var g,c,d;return"string"==typeof b&&(d=a[b],b=a,a=d),k.isFunction(a)?(g=A.call(arguments,2),c=function(){return a.apply(b||this,g.concat(A.call(arguments)))},c.guid=a.guid=a.guid||k.guid++,c):void 0},now:function(){return+new Date},support:F});k.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ha["[object "+b+"]"]=b.toLowerCase()});
var ja=function(a){function b(a,g,c,d){var E,k,l,f,ba;if((g?g.ownerDocument||g:D)!==w&&aa(g),g=g||w,c=c||[],!a||"string"!=typeof a)return c;if(1!==(f=g.nodeType)&&9!==f)return[];if(Y&&!d){if(E=db.exec(a))if(l=E[1])if(9===f){if(k=g.getElementById(l),!k||!k.parentNode)return c;if(k.id===l)return c.push(k),c}else{if(g.ownerDocument&&(k=g.ownerDocument.getElementById(l))&&Q(g,k)&&k.id===l)return c.push(k),c}else{if(E[2])return ra.apply(c,g.getElementsByTagName(a)),c;if((l=E[3])&&r.getElementsByClassName&&
g.getElementsByClassName)return ra.apply(c,g.getElementsByClassName(l)),c}if(r.qsa&&(!J||!J.test(a))){if(k=E=V,l=g,ba=9===f&&a,1===f&&"object"!==g.nodeName.toLowerCase()){f=z(a);(E=g.getAttribute("id"))?k=E.replace(ka,"\\$&"):g.setAttribute("id",k);k="[id='"+k+"'] ";for(l=f.length;l--;)f[l]=k+q(f[l]);l=xa.test(a)&&B(g.parentNode)||g;ba=f.join(",")}if(ba)try{return ra.apply(c,l.querySelectorAll(ba)),c}catch(e){}finally{E||g.removeAttribute("id")}}}return y(a.replace(Oa,"$1"),g,c,d)}function g(){function a(g,
c){return b.push(g+" ")>K.cacheLength&&delete a[b.shift()],a[g+" "]=c}var b=[];return a}function c(a){return a[V]=!0,a}function d(a){var b=w.createElement("div");try{return!!a(b)}catch(g){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function k(a,b){for(var g=a.split("|"),c=a.length;c--;)K.attrHandle[g[c]]=b}function l(a,b){var g=b&&a,c=g&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||kb)-(~a.sourceIndex||kb);if(c)return c;if(g)for(;g=g.nextSibling;)if(g===b)return-1;return a?1:-1}
function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function e(a){return function(b){var g=b.nodeName.toLowerCase();return("input"===g||"button"===g)&&b.type===a}}function v(a){return c(function(b){return b=+b,c(function(g,c){for(var d,E=a([],g.length,b),k=E.length;k--;)g[d=E[k]]&&(g[d]=!(c[d]=g[d]))})})}function B(a){return a&&typeof a.getElementsByTagName!==L&&a}function h(){}function q(a){for(var b=0,g=a.length,c="";g>b;b++)c+=a[b].value;return c}function n(a,
b,g){var c=b.dir,d=g&&"parentNode"===c,E=da++;return b.first?function(b,g,E){for(;b=b[c];)if(1===b.nodeType||d)return a(b,g,E)}:function(b,g,k){var l,f,ba=[N,E];if(k)for(;b=b[c];){if((1===b.nodeType||d)&&a(b,g,k))return!0}else for(;b=b[c];)if(1===b.nodeType||d){if(f=b[V]||(b[V]={}),(l=f[c])&&l[0]===N&&l[1]===E)return ba[2]=l[2];if(f[c]=ba,ba[2]=a(b,g,k))return!0}}}function u(a){return 1<a.length?function(b,g,c){for(var d=a.length;d--;)if(!a[d](b,g,c))return!1;return!0}:a[0]}function m(a,b,g,c,d){for(var E,
k=[],l=0,f=a.length,ba=null!=b;f>l;l++)(E=a[l])&&(!g||g(E,c,d))&&(k.push(E),ba&&b.push(l));return k}function R(a,g,d,E,k,l){return E&&!E[V]&&(E=R(E)),k&&!k[V]&&(k=R(k,l)),c(function(c,l,f,e){var v,ea,B=[],h=[],q=l.length,n;if(!(n=c)){n=g||"*";for(var u=f.nodeType?[f]:f,Qa=[],R=0,O=u.length;O>R;R++)b(n,u[R],Qa);n=Qa}n=!a||!c&&g?n:m(n,B,a,f,e);u=d?k||(c?a:q||E)?[]:l:n;if(d&&d(n,u,f,e),E)for(v=m(u,h),E(v,[],f,e),f=v.length;f--;)(ea=v[f])&&(u[h[f]]=!(n[h[f]]=ea));if(c){if(k||a){if(k){v=[];for(f=u.length;f--;)(ea=
u[f])&&v.push(n[f]=ea);k(null,u=[],v,e)}for(f=u.length;f--;)(ea=u[f])&&-1<(v=k?Z.call(c,ea):B[f])&&(c[v]=!(l[v]=ea))}}else u=m(u===l?u.splice(q,u.length):u),k?k(null,l,u,e):ra.apply(l,u)})}function O(a){var b,g,c,d=a.length,E=K.relative[a[0].type];g=E||K.relative[" "];for(var k=E?1:0,l=n(function(a){return a===b},g,!0),f=n(function(a){return-1<Z.call(b,a)},g,!0),ba=[function(a,g,c){return!E&&(c||g!==C)||((b=g).nodeType?l(a,g,c):f(a,g,c))}];d>k;k++)if(g=K.relative[a[k].type])ba=[n(u(ba),g)];else{if(g=
K.filter[a[k].type].apply(null,a[k].matches),g[V]){for(c=++k;d>c&&!K.relative[a[c].type];c++);return R(1<k&&u(ba),1<k&&q(a.slice(0,k-1).concat({value:" "===a[k-2].type?"*":""})).replace(Oa,"$1"),g,c>k&&O(a.slice(k,c)),d>c&&O(a=a.slice(c)),d>c&&q(a))}ba.push(g)}return u(ba)}function t(a,g){var d=0<g.length,E=0<a.length,k=function(c,k,l,f,e){var v,ea,B,h=0,q="0",u=c&&[],n=[],Qa=C,R=c||E&&K.find.TAG("*",e),O=N+=null==Qa?1:Math.random()||0.1,t=R.length;for(e&&(C=k!==w&&k);q!==t&&null!=(v=R[q]);q++){if(E&&
v){for(ea=0;B=a[ea++];)if(B(v,k,l)){f.push(v);break}e&&(N=O)}d&&((v=!B&&v)&&h--,c&&u.push(v))}if(h+=q,d&&q!==h){for(ea=0;B=g[ea++];)B(u,n,k,l);if(c){if(0<h)for(;q--;)u[q]||n[q]||(n[q]=ta.call(f));n=m(n)}ra.apply(f,n);e&&!c&&0<n.length&&1<h+g.length&&b.uniqueSort(f)}return e&&(N=O,C=Qa),u};return d?c(k):k}var p,r,K,A,X,z,T,y,C,s,P,aa,w,W,Y,J,I,Na,Q,V="sizzle"+-new Date,D=a.document,N=0,da=0,U=g(),ga=g(),S=g(),F=function(a,b){return a===b&&(P=!0),0},L="undefined",kb=-2147483648,G={}.hasOwnProperty,
H=[],ta=H.pop,ia=H.push,ra=H.push,na=H.slice,Z=H.indexOf||function(a){for(var b=0,g=this.length;g>b;b++)if(this[b]===a)return b;return-1},ca="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ha="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ca+"))|)[\\x20\\t\\r\\n\\f]*\\]",Sa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+
ha+")*)|.*)\\)|)",Oa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),pa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,M=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ua=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),ma=RegExp(Sa),va=RegExp("^"+ca+"$"),la={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+ha),PSEUDO:RegExp("^"+
Sa),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)",
"i")},Ca=/^(?:input|select|textarea|button)$/i,Ya=/^h\d$/i,za=/^[^{]+\{\s*\[native \w/,db=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,xa=/[+~]/,ka=/'|\\/g,fa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ja=function(a,b,g){a="0x"+b-65536;return a!==a||g?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)};try{ra.apply(H=na.call(D.childNodes),D.childNodes),H[D.childNodes.length].nodeType}catch(oa){ra={apply:H.length?function(a,b){ia.apply(a,na.call(b))}:
function(a,b){for(var g=a.length,c=0;a[g++]=b[c++];);a.length=g-1}}}r=b.support={};X=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};aa=b.setDocument=function(a){var b,g=a?a.ownerDocument||a:D;a=g.defaultView;return g!==w&&9===g.nodeType&&g.documentElement?(w=g,W=g.documentElement,Y=!X(g),a&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",function(){aa()},!1):a.attachEvent&&a.attachEvent("onunload",function(){aa()})),r.attributes=d(function(a){return a.className=
"i",!a.getAttribute("className")}),r.getElementsByTagName=d(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),r.getElementsByClassName=za.test(g.getElementsByClassName)&&d(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),r.getById=d(function(a){return W.appendChild(a).id=V,!g.getElementsByName||!g.getElementsByName(V).length}),r.getById?(K.find.ID=function(a,
b){if(typeof b.getElementById!==L&&Y){var g=b.getElementById(a);return g&&g.parentNode?[g]:[]}},K.filter.ID=function(a){var b=a.replace(fa,ja);return function(a){return a.getAttribute("id")===b}}):(delete K.find.ID,K.filter.ID=function(a){var b=a.replace(fa,ja);return function(a){return(a=typeof a.getAttributeNode!==L&&a.getAttributeNode("id"))&&a.value===b}}),K.find.TAG=r.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==L?b.getElementsByTagName(a):void 0}:function(a,b){var g,
c=[],d=0,E=b.getElementsByTagName(a);if("*"===a){for(;g=E[d++];)1===g.nodeType&&c.push(g);return c}return E},K.find.CLASS=r.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==L&&Y?b.getElementsByClassName(a):void 0},I=[],J=[],(r.qsa=za.test(g.querySelectorAll))&&(d(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>";a.querySelectorAll("[msallowclip^='']").length&&J.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||
J.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||J.push(":checked")}),d(function(a){var b=g.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&J.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled");a.querySelectorAll("*,:x");
J.push(",.*:")})),(r.matchesSelector=za.test(Na=W.matches||W.webkitMatchesSelector||W.mozMatchesSelector||W.oMatchesSelector||W.msMatchesSelector))&&d(function(a){r.disconnectedMatch=Na.call(a,"div");Na.call(a,"[s!='']:x");I.push("!=",Sa)}),J=J.length&&RegExp(J.join("|")),I=I.length&&RegExp(I.join("|")),b=za.test(W.compareDocumentPosition),Q=b||za.test(W.contains)?function(a,b){var g=9===a.nodeType?a.documentElement:a,c=b&&b.parentNode;return a===c||!(!c||1!==c.nodeType||!(g.contains?g.contains(c):
a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},F=b?function(a,b){if(a===b)return P=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!r.sortDetached&&b.compareDocumentPosition(a)===c?a===g||a.ownerDocument===D&&Q(D,a)?-1:b===g||b.ownerDocument===D&&Q(D,b)?1:s?Z.call(s,a)-Z.call(s,b):0:4&c?-1:1)}:function(a,b){if(a===
b)return P=!0,0;var c,d=0;c=a.parentNode;var E=b.parentNode,k=[a],f=[b];if(!c||!E)return a===g?-1:b===g?1:c?-1:E?1:s?Z.call(s,a)-Z.call(s,b):0;if(c===E)return l(a,b);for(c=a;c=c.parentNode;)k.unshift(c);for(c=b;c=c.parentNode;)f.unshift(c);for(;k[d]===f[d];)d++;return d?l(k[d],f[d]):k[d]===D?-1:f[d]===D?1:0},g):w};b.matches=function(a,g){return b(a,null,null,g)};b.matchesSelector=function(a,g){if((a.ownerDocument||a)!==w&&aa(a),g=g.replace(ua,"='$1']"),r.matchesSelector&&Y&&!(I&&I.test(g)||J&&J.test(g)))try{var c=
Na.call(a,g);if(c||r.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return 0<b(g,w,null,[a]).length};b.contains=function(a,b){return(a.ownerDocument||a)!==w&&aa(a),Q(a,b)};b.attr=function(a,b){(a.ownerDocument||a)!==w&&aa(a);var g=K.attrHandle[b.toLowerCase()],g=g&&G.call(K.attrHandle,b.toLowerCase())?g(a,b,!Y):void 0;return void 0!==g?g:r.attributes||!Y?a.getAttribute(b):(g=a.getAttributeNode(b))&&g.specified?g.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};b.uniqueSort=function(a){var b,g=[],c=0,d=0;if(P=!r.detectDuplicates,s=!r.sortStable&&a.slice(0),a.sort(F),P){for(;b=a[d++];)b===a[d]&&(c=g.push(d));for(;c--;)a.splice(g[c],1)}return s=null,a};A=b.getText=function(a){var b,g="",c=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)g+=A(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[c++];)g+=A(b);return g};K=b.selectors={cacheLength:50,createPseudo:c,
match:la,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(fa,ja),a[3]=(a[3]||a[4]||a[5]||"").replace(fa,ja),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&
b.error(a[0]),a},PSEUDO:function(a){var b,g=!a[6]&&a[2];return la.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":g&&ma.test(g)&&(b=z(g,!0))&&(b=g.indexOf(")",g.length-b)-g.length)&&(a[0]=a[0].slice(0,b),a[2]=g.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(fa,ja).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=U[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&
U(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==L&&a.getAttribute("class")||"")})},ATTR:function(a,g,c){return function(d){d=b.attr(d,a);return null==d?"!="===g:g?(d+="","="===g?d===c:"!="===g?d!==c:"^="===g?c&&0===d.indexOf(c):"*="===g?c&&-1<d.indexOf(c):"$="===g?c&&d.slice(-c.length)===c:"~="===g?-1<(" "+d+" ").indexOf(c):"|="===g?d===c||d.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,g,c,d){var E="nth"!==a.slice(0,3),k="last"!==a.slice(-4),
l="of-type"===b;return 1===c&&0===d?function(a){return!!a.parentNode}:function(b,g,f){var ba,e,v,ea,B;g=E!==k?"nextSibling":"previousSibling";var h=b.parentNode,q=l&&b.nodeName.toLowerCase();f=!f&&!l;if(h){if(E){for(;g;){for(e=b;e=e[g];)if(l?e.nodeName.toLowerCase()===q:1===e.nodeType)return!1;B=g="only"===a&&!B&&"nextSibling"}return!0}if(B=[k?h.firstChild:h.lastChild],k&&f)for(f=h[V]||(h[V]={}),ba=f[a]||[],ea=ba[0]===N&&ba[1],v=ba[0]===N&&ba[2],e=ea&&h.childNodes[ea];e=++ea&&e&&e[g]||(v=ea=0)||B.pop();){if(1===
e.nodeType&&++v&&e===b){f[a]=[N,ea,v];break}}else if(f&&(ba=(b[V]||(b[V]={}))[a])&&ba[0]===N)v=ba[1];else for(;(e=++ea&&e&&e[g]||(v=ea=0)||B.pop())&&((l?e.nodeName.toLowerCase()!==q:1!==e.nodeType)||!++v||(f&&((e[V]||(e[V]={}))[a]=[N,v]),e!==b)););return v-=d,v===c||0===v%c&&0<=v/c}}},PSEUDO:function(a,g){var d,E=K.pseudos[a]||K.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return E[V]?E(g):1<E.length?(d=[a,a,"",g],K.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,b){for(var c,
d=E(a,g),k=d.length;k--;)c=Z.call(a,d[k]),a[c]=!(b[c]=d[k])}):function(a){return E(a,0,d)}):E}},pseudos:{not:c(function(a){var b=[],g=[],d=T(a.replace(Oa,"$1"));return d[V]?c(function(a,b,g,c){var E;g=d(a,null,c,[]);for(c=a.length;c--;)(E=g[c])&&(a[c]=!(b[c]=E))}):function(a,c,E){return b[0]=a,d(b,null,E,g),!g.pop()}}),has:c(function(a){return function(g){return 0<b(a,g).length}}),contains:c(function(a){return function(b){return-1<(b.textContent||b.innerText||A(b)).indexOf(a)}}),lang:c(function(a){return va.test(a||
"")||b.error("unsupported lang: "+a),a=a.replace(fa,ja).toLowerCase(),function(b){var g;do if(g=Y?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return g=g.toLowerCase(),g===a||0===g.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var g=a.location&&a.location.hash;return g&&g.slice(1)===b.id},root:function(a){return a===W},focus:function(a){return a===w.activeElement&&(!w.hasFocus||w.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!K.pseudos.empty(a)},header:function(a){return Ya.test(a.nodeName)},input:function(a){return Ca.test(a.nodeName)},button:function(a){var b=
a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:v(function(){return[0]}),last:v(function(a,b){return[b-1]}),eq:v(function(a,b,g){return[0>g?g+b:g]}),even:v(function(a,b){for(var g=0;b>g;g+=2)a.push(g);return a}),odd:v(function(a,b){for(var g=1;b>g;g+=2)a.push(g);return a}),lt:v(function(a,b,g){for(b=0>g?g+b:g;0<=--b;)a.push(b);
return a}),gt:v(function(a,b,g){for(g=0>g?g+b:g;++g<b;)a.push(g);return a})}};K.pseudos.nth=K.pseudos.eq;for(p in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})K.pseudos[p]=f(p);for(p in{submit:!0,reset:!0})K.pseudos[p]=e(p);h.prototype=K.filters=K.pseudos;K.setFilters=new h;z=b.tokenize=function(a,g){var c,d,E,k,l,f,e;if(l=ga[a+" "])return g?0:l.slice(0);l=a;f=[];for(e=K.preFilter;l;){c&&!(d=pa.exec(l))||(d&&(l=l.slice(d[0].length)||l),f.push(E=[]));c=!1;(d=M.exec(l))&&(c=d.shift(),E.push({value:c,
type:d[0].replace(Oa," ")}),l=l.slice(c.length));for(k in K.filter)!(d=la[k].exec(l))||e[k]&&!(d=e[k](d))||(c=d.shift(),E.push({value:c,type:k,matches:d}),l=l.slice(c.length));if(!c)break}return g?l.length:l?b.error(a):ga(a,f).slice(0)};return T=b.compile=function(a,b){var g,c=[],d=[],E=S[a+" "];if(!E){b||(b=z(a));for(g=b.length;g--;)E=O(b[g]),E[V]?c.push(E):d.push(E);E=S(a,t(d,c));E.selector=a}return E},y=b.select=function(a,b,g,c){var d,E,k,l,f,ba="function"==typeof a&&a,e=!c&&z(a=ba.selector||
a);if(g=g||[],1===e.length){if(E=e[0]=e[0].slice(0),2<E.length&&"ID"===(k=E[0]).type&&r.getById&&9===b.nodeType&&Y&&K.relative[E[1].type]){if(b=(K.find.ID(k.matches[0].replace(fa,ja),b)||[])[0],!b)return g;ba&&(b=b.parentNode);a=a.slice(E.shift().value.length)}for(d=la.needsContext.test(a)?0:E.length;d--&&(k=E[d],!K.relative[l=k.type]);)if((f=K.find[l])&&(c=f(k.matches[0].replace(fa,ja),xa.test(E[0].type)&&B(b.parentNode)||b))){if(E.splice(d,1),a=c.length&&q(E),!a)return ra.apply(g,c),g;break}}return(ba||
T(a,e))(c,b,!Y,g,xa.test(a)&&B(b.parentNode)||b),g},r.sortStable=V.split("").sort(F).join("")===V,r.detectDuplicates=!!P,aa(),r.sortDetached=d(function(a){return 1&a.compareDocumentPosition(w.createElement("div"))}),d(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||k("type|href|height|width",function(a,b,g){return g?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),r.attributes&&d(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",
""),""===a.firstChild.getAttribute("value")})||k("value",function(a,b,g){return g||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),d(function(a){return null==a.getAttribute("disabled")})||k("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,g){var c;return g?void 0:!0===a[b]?b.toLowerCase():(c=a.getAttributeNode(b))&&c.specified?c.value:null}),b}(a);k.find=ja;k.expr=ja.selectors;k.expr[":"]=k.expr.pseudos;
k.unique=ja.uniqueSort;k.text=ja.getText;k.isXMLDoc=ja.isXML;k.contains=ja.contains;var hb=k.expr.match.needsContext,xa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Za=/^.[^:#\[\.,]*$/;k.filter=function(a,b,g){var c=b[0];return g&&(a=":not("+a+")"),1===b.length&&1===c.nodeType?k.find.matchesSelector(c,a)?[c]:[]:k.find.matches(a,k.grep(b,function(a){return 1===a.nodeType}))};k.fn.extend({find:function(a){var b,g=[],c=this,d=c.length;if("string"!=typeof a)return this.pushStack(k(a).filter(function(){for(b=0;d>b;b++)if(k.contains(c[b],
this))return!0}));for(b=0;d>b;b++)k.find(a,c[b],g);return g=this.pushStack(1<d?k.unique(g):g),g.selector=this.selector?this.selector+" "+a:a,g},filter:function(a){return this.pushStack(e(this,a||[],!1))},not:function(a){return this.pushStack(e(this,a||[],!0))},is:function(a){return!!e(this,"string"==typeof a&&hb.test(a)?k(a):a||[],!1).length}});var fa,M=a.document,qb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(a,b){var g,c;if(!a)return this;if("string"==typeof a){if(g="<"===a.charAt(0)&&
">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:qb.exec(a),!g||!g[1]&&b)return!b||b.jquery?(b||fa).find(a):this.constructor(b).find(a);if(g[1]){if(b=b instanceof k?b[0]:b,k.merge(this,k.parseHTML(g[1],b&&b.nodeType?b.ownerDocument||b:M,!0)),xa.test(g[1])&&k.isPlainObject(b))for(g in b)k.isFunction(this[g])?this[g](b[g]):this.attr(g,b[g]);return this}if(c=M.getElementById(g[2]),c&&c.parentNode){if(c.id!==g[2])return fa.find(a);this.length=1;this[0]=c}return this.context=M,this.selector=a,this}return a.nodeType?
(this.context=this[0]=a,this.length=1,this):k.isFunction(a)?"undefined"!=typeof fa.ready?fa.ready(a):a(k):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),k.makeArray(a,this))}).prototype=k.fn;fa=k(M);var rb=/^(?:parents|prev(?:Until|All))/,sb={children:!0,contents:!0,next:!0,prev:!0};k.extend({dir:function(a,b,g){var c=[];for(a=a[b];a&&9!==a.nodeType&&(void 0===g||1!==a.nodeType||!k(a).is(g));)1===a.nodeType&&c.push(a),a=a[b];return c},sibling:function(a,b){for(var g=[];a;a=
a.nextSibling)1===a.nodeType&&a!==b&&g.push(a);return g}});k.fn.extend({has:function(a){var b,g=k(a,this),c=g.length;return this.filter(function(){for(b=0;c>b;b++)if(k.contains(this,g[b]))return!0})},closest:function(a,b){for(var g,c=0,d=this.length,l=[],f=hb.test(a)||"string"!=typeof a?k(a,b||this.context):0;d>c;c++)for(g=this[c];g&&g!==b;g=g.parentNode)if(11>g.nodeType&&(f?-1<f.index(g):1===g.nodeType&&k.find.matchesSelector(g,a))){l.push(g);break}return this.pushStack(1<l.length?k.unique(l):l)},
index:function(a){return a?"string"==typeof a?k.inArray(this[0],k(a)):k.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(k.unique(k.merge(this.get(),k(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});k.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return k.dir(a,"parentNode")},parentsUntil:function(a,b,g){return k.dir(a,
"parentNode",g)},next:function(a){return h(a,"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return k.dir(a,"nextSibling")},prevAll:function(a){return k.dir(a,"previousSibling")},nextUntil:function(a,b,g){return k.dir(a,"nextSibling",g)},prevUntil:function(a,b,g){return k.dir(a,"previousSibling",g)},siblings:function(a){return k.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return k.sibling(a.firstChild)},contents:function(a){return k.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:k.merge([],a.childNodes)}},function(a,b){k.fn[a]=function(g,c){var d=k.map(this,b,g);return"Until"!==a.slice(-5)&&(c=g),c&&"string"==typeof c&&(d=k.filter(c,d)),1<this.length&&(sb[a]||(d=k.unique(d)),rb.test(a)&&(d=d.reverse())),this.pushStack(d)}});var qa=/\S+/g,$a={};k.Callbacks=function(a){a="string"==typeof a?$a[a]||m(a):k.extend({},a);var b,g,c,d,l,f,e=[],v=!a.once&&[],B=function(k){g=a.memory&&k;c=!0;l=f||0;f=0;d=e.length;for(b=!0;e&&d>l;l++)if(!1===
e[l].apply(k[0],k[1])&&a.stopOnFalse){g=!1;break}b=!1;e&&(v?v.length&&B(v.shift()):g?e=[]:h.disable())},h={add:function(){if(e){var c=e.length;!function Pb(b){k.each(b,function(b,g){var c=k.type(g);"function"===c?a.unique&&h.has(g)||e.push(g):g&&g.length&&"string"!==c&&Pb(g)})}(arguments);b?d=e.length:g&&(f=c,B(g))}return this},remove:function(){return e&&k.each(arguments,function(a,g){for(var c;-1<(c=k.inArray(g,e,c));)e.splice(c,1),b&&(d>=c&&d--,l>=c&&l--)}),this},has:function(a){return a?-1<k.inArray(a,
e):!(!e||!e.length)},empty:function(){return e=[],d=0,this},disable:function(){return e=v=g=void 0,this},disabled:function(){return!e},lock:function(){return v=void 0,g||h.disable(),this},locked:function(){return!v},fireWith:function(a,g){return!e||c&&!v||(g=g||[],g=[a,g.slice?g.slice():g],b?v.push(g):B(g)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};k.extend({Deferred:function(a){var b=[["resolve","done",k.Callbacks("once memory"),"resolved"],
["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],g="pending",c={state:function(){return g},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var a=arguments;return k.Deferred(function(g){k.each(b,function(b,E){var l=k.isFunction(a[b])&&a[b];d[E[1]](function(){var a=l&&l.apply(this,arguments);a&&k.isFunction(a.promise)?a.promise().done(g.resolve).fail(g.reject).progress(g.notify):g[E[0]+"With"](this===c?g.promise():
this,l?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?k.extend(a,c):c}},d={};return c.pipe=c.then,k.each(b,function(a,E){var k=E[2],l=E[3];c[E[1]]=k.add;l&&k.add(function(){g=l},b[1^a][2].disable,b[2][2].lock);d[E[0]]=function(){return d[E[0]+"With"](this===d?c:this,arguments),this};d[E[0]+"With"]=k.fireWith}),c.promise(d),a&&a.call(d,d),d},when:function(a){var b=0,g=A.call(arguments),c=g.length,d=1!==c||a&&k.isFunction(a.promise)?c:0,l=1===d?a:k.Deferred(),f=function(a,
b,g){return function(c){b[a]=this;g[a]=1<arguments.length?A.call(arguments):c;g===e?l.notifyWith(b,g):--d||l.resolveWith(b,g)}},e,v,B;if(1<c)for(e=Array(c),v=Array(c),B=Array(c);c>b;b++)g[b]&&k.isFunction(g[b].promise)?g[b].promise().done(f(b,B,g)).fail(l.reject).progress(f(b,v,e)):--d;return d||l.resolveWith(B,g),l.promise()}});var ya;k.fn.ready=function(a){return k.ready.promise().done(a),this};k.extend({isReady:!1,readyWait:1,holdReady:function(a){a?k.readyWait++:k.ready(!0)},ready:function(a){if(!0===
a?!--k.readyWait:!k.isReady){if(!M.body)return setTimeout(k.ready);k.isReady=!0;!0!==a&&0<--k.readyWait||(ya.resolveWith(M,[k]),k.fn.triggerHandler&&(k(M).triggerHandler("ready"),k(M).off("ready")))}}});k.ready.promise=function(b){if(!ya)if(ya=k.Deferred(),"complete"===M.readyState)setTimeout(k.ready);else if(M.addEventListener)M.addEventListener("DOMContentLoaded",f,!1),a.addEventListener("load",f,!1);else{M.attachEvent("onreadystatechange",f);a.attachEvent("onload",f);var g=!1;try{g=null==a.frameElement&&
M.documentElement}catch(c){}g&&g.doScroll&&!function Mb(){if(!k.isReady){try{g.doScroll("left")}catch(a){return setTimeout(Mb,50)}d();k.ready()}}()}return ya.promise(b)};var ka="undefined",ib;for(ib in k(F))break;F.ownLast="0"!==ib;F.inlineBlockNeedsLayout=!1;k(function(){var a,b,g,c;(g=M.getElementsByTagName("body")[0])&&g.style&&(b=M.createElement("div"),c=M.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",g.appendChild(c).appendChild(b),typeof b.style.zoom!==
ka&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",F.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(g.style.zoom=1)),g.removeChild(c))});(function(){var a=M.createElement("div");if(null==F.deleteExpando){F.deleteExpando=!0;try{delete a.test}catch(b){F.deleteExpando=!1}}})();k.acceptData=function(a){var b=k.noData[(a.nodeName+" ").toLowerCase()],g=+a.nodeType||1;return 1!==g&&9!==g?!1:!b||!0!==b&&a.getAttribute("classid")===b};var bb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
ab=/([A-Z])/g;k.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?k.cache[a[k.expando]]:a[k.expando],!!a&&!t(a)},data:function(a,b,g){return z(a,b,g)},removeData:function(a,b){return s(a,b)},_data:function(a,b,g){return z(a,b,g,!0)},_removeData:function(a,b){return s(a,b,!0)}});k.fn.extend({data:function(a,b){var g,c,d,l=this[0],f=l&&l.attributes;if(void 0===a){if(this.length&&(d=k.data(l),1===l.nodeType&&
!k._data(l,"parsedAttrs"))){for(g=f.length;g--;)f[g]&&(c=f[g].name,0===c.indexOf("data-")&&(c=k.camelCase(c.slice(5)),q(l,c,d[c])));k._data(l,"parsedAttrs",!0)}return d}return"object"==typeof a?this.each(function(){k.data(this,a)}):1<arguments.length?this.each(function(){k.data(this,a,b)}):l?q(l,a,k.data(l,a)):void 0},removeData:function(a){return this.each(function(){k.removeData(this,a)})}});k.extend({queue:function(a,b,g){var c;return a?(b=(b||"fx")+"queue",c=k._data(a,b),g&&(!c||k.isArray(g)?
c=k._data(a,b,k.makeArray(g)):c.push(g)),c||[]):void 0},dequeue:function(a,b){b=b||"fx";var g=k.queue(a,b),c=g.length,d=g.shift(),l=k._queueHooks(a,b),f=function(){k.dequeue(a,b)};"inprogress"===d&&(d=g.shift(),c--);d&&("fx"===b&&g.unshift("inprogress"),delete l.stop,d.call(a,f,l));!c&&l&&l.empty.fire()},_queueHooks:function(a,b){var g=b+"queueHooks";return k._data(a,g)||k._data(a,g,{empty:k.Callbacks("once memory").add(function(){k._removeData(a,b+"queue");k._removeData(a,g)})})}});k.fn.extend({queue:function(a,
b){var g=2;return"string"!=typeof a&&(b=a,a="fx",g--),arguments.length<g?k.queue(this[0],a):void 0===b?this:this.each(function(){var g=k.queue(this,a,b);k._queueHooks(this,a);"fx"===a&&"inprogress"!==g[0]&&k.dequeue(this,a)})},dequeue:function(a){return this.each(function(){k.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var g,c=1,d=k.Deferred(),l=this,f=this.length,e=function(){--c||d.resolveWith(l,[l])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||
"fx";f--;)(g=k._data(l[f],a+"queueHooks"))&&g.empty&&(c++,g.empty.add(e));return e(),d.promise(b)}});var Ga=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,sa=["Top","Right","Bottom","Left"],Da=function(a,b){return a=b||a,"none"===k.css(a,"display")||!k.contains(a.ownerDocument,a)},wa=k.access=function(a,b,g,c,d,l,f){var e=0,v=a.length,B=null==g;if("object"===k.type(g))for(e in d=!0,g)k.access(a,b,e,g[e],!0,l,f);else if(void 0!==c&&(d=!0,k.isFunction(c)||(f=!0),B&&(f?(b.call(a,c),b=null):(B=b,b=function(a,
b,g){return B.call(k(a),g)})),b))for(;v>e;e++)b(a[e],g,f?c:c.call(a[e],e,b(a[e],g)));return d?a:B?b.call(a):v?b(a[0],g):l},Ra=/^(?:checkbox|radio)$/i;!function(){var a=M.createElement("input"),b=M.createElement("div"),g=M.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",F.leadingWhitespace=3===b.firstChild.nodeType,F.tbody=!b.getElementsByTagName("tbody").length,F.htmlSerialize=!!b.getElementsByTagName("link").length,F.html5Clone="<:nav></:nav>"!==
M.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,g.appendChild(a),F.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",F.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,g.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",F.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,F.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){F.noCloneEvent=!1}),b.cloneNode(!0).click()),null==F.deleteExpando){F.deleteExpando=
!0;try{delete b.test}catch(c){F.deleteExpando=!1}}}();(function(){var b,g,c=M.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})g="on"+b,(F[b+"Bubbles"]=g in a)||(c.setAttribute(g,"t"),F[b+"Bubbles"]=!1===c.attributes[g].expando)})();var Ka=/^(?:input|select|textarea)$/i,tb=/^key/,Ua=/^(?:mouse|pointer|contextmenu)|click/,La=/^(?:focusinfocus|focusoutblur)$/,jb=/^([^.]*)(?:\.(.+)|)$/;k.event={global:{},add:function(a,b,g,c,d){var l,f,e,v,B,h,q,u,n,m;if(e=k._data(a)){g.handler&&(v=g,g=
v.handler,d=v.selector);g.guid||(g.guid=k.guid++);(f=e.events)||(f=e.events={});(h=e.handle)||(h=e.handle=function(a){return typeof k===ka||a&&k.event.triggered===a.type?void 0:k.event.dispatch.apply(h.elem,arguments)},h.elem=a);b=(b||"").match(qa)||[""];for(e=b.length;e--;)l=jb.exec(b[e])||[],n=m=l[1],l=(l[2]||"").split(".").sort(),n&&(B=k.event.special[n]||{},n=(d?B.delegateType:B.bindType)||n,B=k.event.special[n]||{},q=k.extend({type:n,origType:m,data:c,handler:g,guid:g.guid,selector:d,needsContext:d&&
k.expr.match.needsContext.test(d),namespace:l.join(".")},v),(u=f[n])||(u=f[n]=[],u.delegateCount=0,B.setup&&!1!==B.setup.call(a,c,l,h)||(a.addEventListener?a.addEventListener(n,h,!1):a.attachEvent&&a.attachEvent("on"+n,h))),B.add&&(B.add.call(a,q),q.handler.guid||(q.handler.guid=g.guid)),d?u.splice(u.delegateCount++,0,q):u.push(q),k.event.global[n]=!0);a=null}},remove:function(a,b,g,c,d){var l,f,e,v,B,h,q,n,u,m,R,O=k.hasData(a)&&k._data(a);if(O&&(h=O.events)){b=(b||"").match(qa)||[""];for(B=b.length;B--;)if(e=
jb.exec(b[B])||[],u=R=e[1],m=(e[2]||"").split(".").sort(),u){q=k.event.special[u]||{};u=(c?q.delegateType:q.bindType)||u;n=h[u]||[];e=e[2]&&RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)");for(v=l=n.length;l--;)f=n[l],!d&&R!==f.origType||g&&g.guid!==f.guid||e&&!e.test(f.namespace)||c&&c!==f.selector&&("**"!==c||!f.selector)||(n.splice(l,1),f.selector&&n.delegateCount--,q.remove&&q.remove.call(a,f));v&&!n.length&&(q.teardown&&!1!==q.teardown.call(a,m,O.handle)||k.removeEvent(a,u,O.handle),delete h[u])}else for(u in h)k.event.remove(a,
u+b[B],g,c,!0);k.isEmptyObject(h)&&(delete O.handle,k._removeData(a,"events"))}},trigger:function(b,g,c,d){var l,f,e,v,B,h,q=[c||M],n=ia.call(b,"type")?b.type:b;h=ia.call(b,"namespace")?b.namespace.split("."):[];if(e=l=c=c||M,3!==c.nodeType&&8!==c.nodeType&&!La.test(n+k.event.triggered)&&(0<=n.indexOf(".")&&(h=n.split("."),n=h.shift(),h.sort()),f=0>n.indexOf(":")&&"on"+n,b=b[k.expando]?b:new k.Event(n,"object"==typeof b&&b),b.isTrigger=d?2:3,b.namespace=h.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+
h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=c),g=null==g?[b]:k.makeArray(g,[b]),B=k.event.special[n]||{},d||!B.trigger||!1!==B.trigger.apply(c,g))){if(!d&&!B.noBubble&&!k.isWindow(c)){v=B.delegateType||n;for(La.test(v+n)||(e=e.parentNode);e;e=e.parentNode)q.push(e),l=e;l===(c.ownerDocument||M)&&q.push(l.defaultView||l.parentWindow||a)}for(h=0;(e=q[h++])&&!b.isPropagationStopped();)b.type=1<h?v:B.bindType||n,(l=(k._data(e,"events")||{})[b.type]&&k._data(e,"handle"))&&
l.apply(e,g),(l=f&&e[f])&&l.apply&&k.acceptData(e)&&(b.result=l.apply(e,g),!1===b.result&&b.preventDefault());if(b.type=n,!(d||b.isDefaultPrevented()||B._default&&!1!==B._default.apply(q.pop(),g))&&k.acceptData(c)&&f&&c[n]&&!k.isWindow(c)){(l=c[f])&&(c[f]=null);k.event.triggered=n;try{c[n]()}catch(u){}k.event.triggered=void 0;l&&(c[f]=l)}return b.result}},dispatch:function(a){a=k.event.fix(a);var b,g,c,d,l,f=[],e=A.call(arguments);b=(k._data(this,"events")||{})[a.type]||[];var v=k.event.special[a.type]||
{};if(e[0]=a,a.delegateTarget=this,!v.preDispatch||!1!==v.preDispatch.call(this,a)){f=k.event.handlers.call(this,a,b);for(b=0;(d=f[b++])&&!a.isPropagationStopped();)for(a.currentTarget=d.elem,l=0;(c=d.handlers[l++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(c.namespace)||(a.handleObj=c,a.data=c.data,g=((k.event.special[c.origType]||{}).handle||c.handler).apply(d.elem,e),void 0===g||!1!==(a.result=g)||(a.preventDefault(),a.stopPropagation()));return v.postDispatch&&
v.postDispatch.call(this,a),a.result}},handlers:function(a,b){var g,c,d,l,f=[],e=b.delegateCount,v=a.target;if(e&&v.nodeType&&(!a.button||"click"!==a.type))for(;v!=this;v=v.parentNode||this)if(1===v.nodeType&&(!0!==v.disabled||"click"!==a.type)){d=[];for(l=0;e>l;l++)c=b[l],g=c.selector+" ",void 0===d[g]&&(d[g]=c.needsContext?0<=k(g,this).index(v):k.find(g,this,null,[v]).length),d[g]&&d.push(c);d.length&&f.push({elem:v,handlers:d})}return e<b.length&&f.push({elem:this,handlers:b.slice(e)}),f},fix:function(a){if(a[k.expando])return a;
var b,g,c;b=a.type;var d=a,l=this.fixHooks[b];l||(this.fixHooks[b]=l=Ua.test(b)?this.mouseHooks:tb.test(b)?this.keyHooks:{});c=l.props?this.props.concat(l.props):this.props;a=new k.Event(d);for(b=c.length;b--;)g=c[b],a[g]=d[g];return a.target||(a.target=d.srcElement||M),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,l.filter?l.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var g,c,d,l=b.button,k=b.fromElement;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||M,d=c.documentElement,g=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||g&&g.scrollLeft||0)-(d&&
d.clientLeft||g&&g.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||g&&g.scrollTop||0)-(d&&d.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&k&&(a.relatedTarget=k===a.target?b.toElement:k),a.which||void 0===l||(a.which=1&l?1:2&l?3:4&l?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==r()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===r()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return k.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return k.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,g,c){a=k.extend(new k.Event,g,{type:a,isSimulated:!0,originalEvent:{}});c?k.event.trigger(a,null,b):k.event.dispatch.call(b,a);a.isDefaultPrevented()&&g.preventDefault()}};k.removeEvent=M.removeEventListener?function(a,b,g){a.removeEventListener&&
a.removeEventListener(b,g,!1)}:function(a,b,g){b="on"+b;a.detachEvent&&(typeof a[b]===ka&&(a[b]=null),a.detachEvent(b,g))};k.Event=function(a,b){return this instanceof k.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?w:y):this.type=a,b&&k.extend(this,b),this.timeStamp=a&&a.timeStamp||k.now(),void(this[k.expando]=!0)):new k.Event(a,b)};k.Event.prototype={isDefaultPrevented:y,isPropagationStopped:y,
isImmediatePropagationStopped:y,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=w;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=w;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=w;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};k.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){k.event.special[a]={delegateType:b,bindType:b,handle:function(a){var g,c=a.relatedTarget,d=a.handleObj;return(!c||c!==this&&!k.contains(this,c))&&(a.type=d.origType,g=d.handler.apply(this,arguments),a.type=b),g}}});F.submitBubbles||(k.event.special.submit={setup:function(){return k.nodeName(this,"form")?!1:void k.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=k.nodeName(a,"input")||
k.nodeName(a,"button")?a.form:void 0)&&!k._data(a,"submitBubbles")&&(k.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),k._data(a,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&k.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return k.nodeName(this,"form")?!1:void k.event.remove(this,"._submit")}});F.changeBubbles||(k.event.special.change={setup:function(){return Ka.test(this.nodeName)?(("checkbox"===
this.type||"radio"===this.type)&&(k.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),k.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);k.event.simulate("change",this,a,!0)})),!1):void k.event.add(this,"beforeactivate._change",function(a){a=a.target;Ka.test(a.nodeName)&&!k._data(a,"changeBubbles")&&(k.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||
k.event.simulate("change",this.parentNode,a,!0)}),k._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return k.event.remove(this,"._change"),!Ka.test(this.nodeName)}});F.focusinBubbles||k.each({focus:"focusin",blur:"focusout"},function(a,b){var g=function(a){k.event.simulate(b,a.target,k.event.fix(a),!0)};k.event.special[b]={setup:function(){var c=
this.ownerDocument||this,d=k._data(c,b);d||c.addEventListener(a,g,!0);k._data(c,b,(d||0)+1)},teardown:function(){var c=this.ownerDocument||this,d=k._data(c,b)-1;d?k._data(c,b,d):(c.removeEventListener(a,g,!0),k._removeData(c,b))}}});k.fn.extend({on:function(a,b,g,c,d){var l,f;if("object"==typeof a){"string"!=typeof b&&(g=g||b,b=void 0);for(l in a)this.on(l,b,g,a[l],d);return this}if(null==g&&null==c?(c=b,g=b=void 0):null==c&&("string"==typeof b?(c=g,g=void 0):(c=g,g=b,b=void 0)),!1===c)c=y;else if(!c)return this;
return 1===d&&(f=c,c=function(a){return k().off(a),f.apply(this,arguments)},c.guid=f.guid||(f.guid=k.guid++)),this.each(function(){k.event.add(this,a,c,g,b)})},one:function(a,b,g,c){return this.on(a,b,g,c,1)},off:function(a,b,g){var c,d;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,k(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(d in a)this.off(d,b,a[d]);return this}return(!1===b||"function"==typeof b)&&(g=
b,b=void 0),!1===g&&(g=y),this.each(function(){k.event.remove(this,a,g,b)})},trigger:function(a,b){return this.each(function(){k.event.trigger(a,b,this)})},triggerHandler:function(a,b){var g=this[0];return g?k.event.trigger(a,b,g,!0):void 0}});var cb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Va=/ jQuery\d+="(?:null|\d+)"/g,Wa=RegExp("<(?:"+cb+")[\\s/>]","i"),Ma=/^\s+/,oa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
Xa=/<([\w:]+)/,B=/<tbody/i,X=/<|&#?\w+;/,Na=/<(?:script|style|link)/i,kb=/checked\s*(?:[^=]|=\s*.checked.)/i,ra=/^$|\/(?:java|ecma)script/i,Sa=/^true\/(.*)/,Oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ma={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],_default:F.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Ya=u(M).appendChild(M.createElement("div"));ma.optgroup=ma.option;ma.tbody=ma.tfoot=ma.colgroup=ma.caption=ma.thead;ma.th=ma.td;k.extend({clone:function(a,b,g){var c,d,l,f,e,v=k.contains(a.ownerDocument,a);if(F.html5Clone||k.isXMLDoc(a)||!Wa.test("<"+a.nodeName+">")?l=a.cloneNode(!0):(Ya.innerHTML=a.outerHTML,Ya.removeChild(l=Ya.firstChild)),!(F.noCloneEvent&&F.noCloneChecked||1!==a.nodeType&&11!==
a.nodeType||k.isXMLDoc(a)))for(c=n(l),e=n(a),f=0;null!=(d=e[f]);++f)if(c[f]){var B=c[f],h=void 0,q=void 0,u=void 0;if(1===B.nodeType){if(h=B.nodeName.toLowerCase(),!F.noCloneEvent&&B[k.expando]){u=k._data(B);for(q in u.events)k.removeEvent(B,q,u.handle);B.removeAttribute(k.expando)}"script"===h&&B.text!==d.text?(L(B).text=d.text,H(B)):"object"===h?(B.parentNode&&(B.outerHTML=d.outerHTML),F.html5Clone&&d.innerHTML&&!k.trim(B.innerHTML)&&(B.innerHTML=d.innerHTML)):"input"===h&&Ra.test(d.type)?(B.defaultChecked=
B.checked=d.checked,B.value!==d.value&&(B.value=d.value)):"option"===h?B.defaultSelected=B.selected=d.defaultSelected:("input"===h||"textarea"===h)&&(B.defaultValue=d.defaultValue)}}if(b)if(g)for(e=e||n(a),c=c||n(l),f=0;null!=(d=e[f]);f++)G(d,c[f]);else G(a,l);return c=n(l,"script"),0<c.length&&p(c,!v&&n(a,"script")),l},buildFragment:function(a,b,g,c){for(var d,l,f,e,v,h,q,m=a.length,R=u(b),O=[],t=0;m>t;t++)if(l=a[t],l||0===l)if("object"===k.type(l))k.merge(O,l.nodeType?[l]:l);else if(X.test(l)){e=
e||R.appendChild(b.createElement("div"));v=(Xa.exec(l)||["",""])[1].toLowerCase();q=ma[v]||ma._default;e.innerHTML=q[1]+l.replace(oa,"<$1></$2>")+q[2];for(d=q[0];d--;)e=e.lastChild;if(!F.leadingWhitespace&&Ma.test(l)&&O.push(b.createTextNode(Ma.exec(l)[0])),!F.tbody)for(d=(l="table"!==v||B.test(l)?"<table>"!==q[1]||B.test(l)?0:e:e.firstChild)&&l.childNodes.length;d--;)k.nodeName(h=l.childNodes[d],"tbody")&&!h.childNodes.length&&l.removeChild(h);k.merge(O,e.childNodes);for(e.textContent="";e.firstChild;)e.removeChild(e.firstChild);
e=R.lastChild}else O.push(b.createTextNode(l));e&&R.removeChild(e);F.appendChecked||k.grep(n(O,"input"),C);for(t=0;l=O[t++];)if((!c||-1===k.inArray(l,c))&&(f=k.contains(l.ownerDocument,l),e=n(R.appendChild(l),"script"),f&&p(e),g))for(d=0;l=e[d++];)ra.test(l.type||"")&&g.push(l);return R},cleanData:function(a,b){for(var g,c,d,l,f=0,e=k.expando,v=k.cache,B=F.deleteExpando,h=k.event.special;null!=(g=a[f]);f++)if((b||k.acceptData(g))&&(d=g[e],l=d&&v[d])){if(l.events)for(c in l.events)h[c]?k.event.remove(g,
c):k.removeEvent(g,c,l.handle);v[d]&&(delete v[d],B?delete g[e]:typeof g.removeAttribute!==ka?g.removeAttribute(e):g[e]=null,ga.push(d))}}});k.fn.extend({text:function(a){return wa(this,function(a){return void 0===a?k.text(this):this.empty().append((this[0]&&this[0].ownerDocument||M).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,
function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=I(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var g,c=a?k.filter(a,this):this,d=0;null!=(g=c[d]);d++)b||1!==g.nodeType||k.cleanData(n(g)),g.parentNode&&
(b&&k.contains(g.ownerDocument,g)&&p(n(g,"script")),g.parentNode.removeChild(g));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&k.cleanData(n(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&k.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return k.clone(this,a,b)})},html:function(a){return wa(this,function(a){var b=this[0]||{},g=0,c=this.length;if(void 0===a)return 1===
b.nodeType?b.innerHTML.replace(Va,""):void 0;if(!("string"!=typeof a||Na.test(a)||!F.htmlSerialize&&Wa.test(a)||!F.leadingWhitespace&&Ma.test(a)||ma[(Xa.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(oa,"<$1></$2>");try{for(;c>g;g++)b=this[g]||{},1===b.nodeType&&(k.cleanData(n(b,!1)),b.innerHTML=a);b=0}catch(d){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode;k.cleanData(n(this));a&&a.replaceChild(b,
this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var g,c,d,l,f=0,e=this.length,v=this,B=e-1,h=a[0],q=k.isFunction(h);if(q||1<e&&"string"==typeof h&&!F.checkClone&&kb.test(h))return this.each(function(g){var c=v.eq(g);q&&(a[0]=h.call(this,g,c.html()));c.domManip(a,b)});if(e&&(l=k.buildFragment(a,this[0].ownerDocument,!1,this),g=l.firstChild,1===l.childNodes.length&&(l=g),g)){d=k.map(n(l,"script"),L);for(c=d.length;e>
f;f++)g=l,f!==B&&(g=k.clone(g,!0,!0),c&&k.merge(d,n(g,"script"))),b.call(this[f],g,f);if(c)for(l=d[d.length-1].ownerDocument,k.map(d,H),f=0;c>f;f++)g=d[f],ra.test(g.type||"")&&!k._data(g,"globalEval")&&k.contains(l,g)&&(g.src?k._evalUrl&&k._evalUrl(g.src):k.globalEval((g.text||g.textContent||g.innerHTML||"").replace(Oa,"")));l=g=null}return this}});k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){k.fn[a]=function(a){for(var g=
0,c=[],d=k(a),l=d.length-1;l>=g;g++)a=g===l?this:this.clone(!0),k(d[g])[b](a),ta.apply(c,a.get());return this.pushStack(c)}});var Ca,db={};!function(){var a;F.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,g,c;return g=M.getElementsByTagName("body")[0],g&&g.style?(b=M.createElement("div"),c=M.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",g.appendChild(c).appendChild(b),typeof b.style.zoom!==ka&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
b.appendChild(M.createElement("div")).style.width="5px",a=3!==b.offsetWidth),g.removeChild(c),a):void 0}}();var za=/^margin/,eb=RegExp("^("+Ga+")(?!px)[a-z%]+$","i"),Ea,Fa,Qb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ea=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Fa=function(a,b,g){var c,d,l,f,e=a.style;return g=g||Ea(a),f=g?g.getPropertyValue(b)||g[b]:void 0,g&&(""!==f||k.contains(a.ownerDocument,a)||(f=k.style(a,b)),eb.test(f)&&za.test(b)&&(c=e.width,d=e.minWidth,
l=e.maxWidth,e.minWidth=e.maxWidth=e.width=f,f=g.width,e.width=c,e.minWidth=d,e.maxWidth=l)),void 0===f?f:f+""}):M.documentElement.currentStyle&&(Ea=function(a){return a.currentStyle},Fa=function(a,b,g){var c,d,l,f,k=a.style;return g=g||Ea(a),f=g?g[b]:void 0,null==f&&k&&k[b]&&(f=k[b]),eb.test(f)&&!Qb.test(b)&&(c=k.left,d=a.runtimeStyle,l=d&&d.left,l&&(d.left=a.currentStyle.left),k.left="fontSize"===b?"1em":f,f=k.pixelLeft+"px",k.left=c,l&&(d.left=l)),void 0===f?f:f+""||"auto"});!function(){var b,
g,c,d,l,f,e;if(b=M.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=b.getElementsByTagName("a")[0],g=c&&c.style){g.cssText="float:left;opacity:.5";F.opacity="0.5"===g.opacity;F.cssFloat=!!g.cssFloat;b.style.backgroundClip="content-box";b.cloneNode(!0).style.backgroundClip="";F.clearCloneStyle="content-box"===b.style.backgroundClip;F.boxSizing=""===g.boxSizing||""===g.MozBoxSizing||""===g.WebkitBoxSizing;k.extend(F,{reliableHiddenOffsets:function(){return null==
f&&v(),f},boxSizingReliable:function(){return null==l&&v(),l},pixelPosition:function(){return null==d&&v(),d},reliableMarginRight:function(){return null==e&&v(),e}});var v=function(){var b,g,c,k;(g=M.getElementsByTagName("body")[0])&&g.style&&(b=M.createElement("div"),c=M.createElement("div"),c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",g.appendChild(c).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
d=l=!1,e=!0,a.getComputedStyle&&(d="1%"!==(a.getComputedStyle(b,null)||{}).top,l="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,k=b.appendChild(M.createElement("div")),k.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",k.style.marginRight=k.style.width="0",b.style.width="1px",e=!parseFloat((a.getComputedStyle(k,null)||{}).marginRight)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",
k=b.getElementsByTagName("td"),k[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===k[0].offsetHeight,f&&(k[0].style.display="",k[1].style.display="none",f=0===k[0].offsetHeight),g.removeChild(c))}}}();k.swap=function(a,b,g,c){var d,l={};for(d in b)l[d]=a.style[d],a.style[d]=b[d];g=g.apply(a,c||[]);for(d in b)a.style[d]=l[d];return g};var ub=/alpha\([^)]*\)/i,Rb=/opacity\s*=\s*([^)]*)/,Sb=/^(none|table(?!-c[ea]).+)/,Nb=RegExp("^("+Ga+")(.*)$","i"),Tb=RegExp("^([+-])=("+Ga+")","i"),
Ub={position:"absolute",visibility:"hidden",display:"block"},Bb={letterSpacing:"0",fontWeight:"400"},Ab=["Webkit","O","Moz","ms"];k.extend({cssHooks:{opacity:{get:function(a,b){if(b){var g=Fa(a,"opacity");return""===g?"1":g}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":F.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,g,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,
l,f,e=k.camelCase(b),v=a.style;if(b=k.cssProps[e]||(k.cssProps[e]=D(v,e)),f=k.cssHooks[b]||k.cssHooks[e],void 0===g)return f&&"get"in f&&void 0!==(d=f.get(a,!1,c))?d:v[b];if(l=typeof g,"string"===l&&(d=Tb.exec(g))&&(g=(d[1]+1)*d[2]+parseFloat(k.css(a,b)),l="number"),null!=g&&g===g&&("number"!==l||k.cssNumber[e]||(g+="px"),F.clearCloneStyle||""!==g||0!==b.indexOf("background")||(v[b]="inherit"),!(f&&"set"in f&&void 0===(g=f.set(a,g,c)))))try{v[b]=g}catch(B){}}},css:function(a,b,g,c){var d,l,f,e=k.camelCase(b);
return b=k.cssProps[e]||(k.cssProps[e]=D(a.style,e)),f=k.cssHooks[b]||k.cssHooks[e],f&&"get"in f&&(l=f.get(a,!0,g)),void 0===l&&(l=Fa(a,b,c)),"normal"===l&&b in Bb&&(l=Bb[b]),""===g||g?(d=parseFloat(l),!0===g||k.isNumeric(d)?d||0:l):l}});k.each(["height","width"],function(a,b){k.cssHooks[b]={get:function(a,g,c){return g?Sb.test(k.css(a,"display"))&&0===a.offsetWidth?k.swap(a,Ub,function(){return Z(a,b,c)}):Z(a,b,c):void 0},set:function(a,g,c){var d=c&&Ea(a);return N(a,g,c?ca(a,b,c,F.boxSizing&&"border-box"===
k.css(a,"boxSizing",!1,d),d):0)}}});F.opacity||(k.cssHooks.opacity={get:function(a,b){return Rb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var g=a.style,c=a.currentStyle,d=k.isNumeric(b)?"alpha(opacity="+100*b+")":"",l=c&&c.filter||g.filter||"";g.zoom=1;(1<=b||""===b)&&""===k.trim(l.replace(ub,""))&&g.removeAttribute&&(g.removeAttribute("filter"),""===b||c&&!c.filter)||(g.filter=ub.test(l)?l.replace(ub,d):l+" "+d)}});
k.cssHooks.marginRight=U(F.reliableMarginRight,function(a,b){return b?k.swap(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0});k.each({margin:"",padding:"",border:"Width"},function(a,b){k.cssHooks[a+b]={expand:function(g){var c=0,d={};for(g="string"==typeof g?g.split(" "):[g];4>c;c++)d[a+sa[c]+b]=g[c]||g[c-2]||g[0];return d}};za.test(a)||(k.cssHooks[a+b].set=N)});k.fn.extend({css:function(a,b){return wa(this,function(a,b,g){var c,d={},l=0;if(k.isArray(b)){g=Ea(a);for(c=b.length;c>l;l++)d[b[l]]=
k.css(a,b[l],!1,g);return d}return void 0!==g?k.style(a,b,g):k.css(a,b)},a,b,1<arguments.length)},show:function(){return J(this,!0)},hide:function(){return J(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Da(this)?k(this).show():k(this).hide()})}});k.Tween=O;O.prototype={constructor:O,init:function(a,b,g,c,d,l){this.elem=a;this.prop=g;this.easing=d||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=l||(k.cssNumber[g]?"":
"px")},cur:function(){var a=O.propHooks[this.prop];return a&&a.get?a.get(this):O.propHooks._default.get(this)},run:function(a){var b,g=O.propHooks[this.prop];return this.pos=b=this.options.duration?k.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):O.propHooks._default.set(this),this}};O.prototype.init.prototype=O.prototype;O.propHooks={_default:{get:function(a){var b;
return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=k.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){k.fx.step[a.prop]?k.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[k.cssProps[a.prop]]||k.cssHooks[a.prop])?k.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};k.easing={linear:function(a){return a},swing:function(a){return 0.5-
Math.cos(a*Math.PI)/2}};k.fx=O.prototype.init;k.fx.step={};var Ja,lb,Vb=/^(?:toggle|show|hide)$/,Cb=RegExp("^(?:([+-])=|)("+Ga+")([a-z%]*)$","i"),Wb=/queueHooks$/,fb=[function(a,b,g){var c,d,l,f,e,v,B,h=this,q={},n=a.style,u=a.nodeType&&Da(a),m=k._data(a,"fxshow");g.queue||(f=k._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,e=f.empty.fire,f.empty.fire=function(){f.unqueued||e()}),f.unqueued++,h.always(function(){h.always(function(){f.unqueued--;k.queue(a,"fx").length||f.empty.fire()})}));1===
a.nodeType&&("height"in b||"width"in b)&&(g.overflow=[n.overflow,n.overflowX,n.overflowY],v=k.css(a,"display"),B="none"===v?k._data(a,"olddisplay")||Q(a.nodeName):v,"inline"===B&&"none"===k.css(a,"float")&&(F.inlineBlockNeedsLayout&&"inline"!==Q(a.nodeName)?n.zoom=1:n.display="inline-block"));g.overflow&&(n.overflow="hidden",F.shrinkWrapBlocks()||h.always(function(){n.overflow=g.overflow[0];n.overflowX=g.overflow[1];n.overflowY=g.overflow[2]}));for(c in b)if(d=b[c],Vb.exec(d)){if(delete b[c],l=l||
"toggle"===d,d===(u?"hide":"show")){if("show"!==d||!m||void 0===m[c])continue;u=!0}q[c]=m&&m[c]||k.style(a,c)}else v=void 0;if(k.isEmptyObject(q))"inline"===("none"===v?Q(a.nodeName):v)&&(n.display=v);else for(c in m?"hidden"in m&&(u=m.hidden):m=k._data(a,"fxshow",{}),l&&(m.hidden=!u),u?k(a).show():h.done(function(){k(a).hide()}),h.done(function(){var b;k._removeData(a,"fxshow");for(b in q)k.style(a,b,q[b])}),q)b=da(u?m[c]:0,c,h),c in m||(m[c]=b.start,u&&(b.end=b.start,b.start="width"===c||"height"===
c?1:0))}],Ta={"*":[function(a,b){var g=this.createTween(a,b),c=g.cur(),d=Cb.exec(b),l=d&&d[3]||(k.cssNumber[a]?"":"px"),f=(k.cssNumber[a]||"px"!==l&&+c)&&Cb.exec(k.css(g.elem,a)),e=1,v=20;if(f&&f[3]!==l){l=l||f[3];d=d||[];f=+c||1;do e=e||".5",f/=e,k.style(g.elem,a,f+l);while(e!==(e=g.cur()/c)&&1!==e&&--v)}return d&&(f=g.start=+f||+c||0,g.unit=l,g.end=d[1]?f+(d[1]+1)*d[2]:+d[2]),g}]};k.Animation=k.extend(g,{tweener:function(a,b){k.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var g,c=0,d=a.length;d>
c;c++)g=a[c],Ta[g]=Ta[g]||[],Ta[g].unshift(b)},prefilter:function(a,b){b?fb.unshift(a):fb.push(a)}});k.speed=function(a,b,g){var c=a&&"object"==typeof a?k.extend({},a):{complete:g||!g&&b||k.isFunction(a)&&a,duration:a,easing:g&&b||b&&!k.isFunction(b)&&b};return c.duration=k.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in k.fx.speeds?k.fx.speeds[c.duration]:k.fx.speeds._default,(null==c.queue||!0===c.queue)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){k.isFunction(c.old)&&c.old.call(this);
c.queue&&k.dequeue(this,c.queue)},c};k.fn.extend({fadeTo:function(a,b,g,c){return this.filter(Da).css("opacity",0).show().end().animate({opacity:b},a,g,c)},animate:function(a,b,c,d){var l=k.isEmptyObject(a),f=k.speed(b,c,d);b=function(){var b=g(this,k.extend({},a),f);(l||k._data(this,"finish"))&&b.stop(!0)};return b.finish=b,l||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,g){var c=function(a){var b=a.stop;delete a.stop;b(g)};return"string"!=typeof a&&(g=b,b=a,a=void 0),b&&!1!==
a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",l=k.timers,f=k._data(this);if(d)f[d]&&f[d].stop&&c(f[d]);else for(d in f)f[d]&&f[d].stop&&Wb.test(d)&&c(f[d]);for(d=l.length;d--;)l[d].elem!==this||null!=a&&l[d].queue!==a||(l[d].anim.stop(g),b=!1,l.splice(d,1));!b&&g||k.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,g=k._data(this),c=g[a+"queue"];b=g[a+"queueHooks"];var d=k.timers,l=c?c.length:0;g.finish=!0;k.queue(this,a,
[]);b&&b.stop&&b.stop.call(this,!0);for(b=d.length;b--;)d[b].elem===this&&d[b].queue===a&&(d[b].anim.stop(!0),d.splice(b,1));for(b=0;l>b;b++)c[b]&&c[b].finish&&c[b].finish.call(this);delete g.finish})}});k.each(["toggle","show","hide"],function(a,b){var g=k.fn[b];k.fn[b]=function(a,c,d){return null==a||"boolean"==typeof a?g.apply(this,arguments):this.animate(W(b,!0),a,c,d)}});k.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},
function(a,b){k.fn[a]=function(a,g,c){return this.animate(b,a,g,c)}});k.timers=[];k.fx.tick=function(){var a,b=k.timers,g=0;for(Ja=k.now();g<b.length;g++)a=b[g],a()||b[g]!==a||b.splice(g--,1);b.length||k.fx.stop();Ja=void 0};k.fx.timer=function(a){k.timers.push(a);a()?k.fx.start():k.timers.pop()};k.fx.interval=13;k.fx.start=function(){lb||(lb=setInterval(k.fx.tick,k.fx.interval))};k.fx.stop=function(){clearInterval(lb);lb=null};k.fx.speeds={slow:600,fast:200,_default:400};k.fn.delay=function(a,b){return a=
k.fx?k.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,g){var c=setTimeout(b,a);g.stop=function(){clearTimeout(c)}})};(function(){var a,b,g,c,d;b=M.createElement("div");b.setAttribute("className","t");b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";c=b.getElementsByTagName("a")[0];g=M.createElement("select");d=g.appendChild(M.createElement("option"));a=b.getElementsByTagName("input")[0];c.style.cssText="top:1px";F.getSetAttribute="t"!==b.className;F.style=/top/.test(c.getAttribute("style"));
F.hrefNormalized="/a"===c.getAttribute("href");F.checkOn=!!a.value;F.optSelected=d.selected;F.enctype=!!M.createElement("form").enctype;g.disabled=!0;F.optDisabled=!d.disabled;a=M.createElement("input");a.setAttribute("value","");F.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");F.radioValue="t"===a.value})();var Xb=/\r/g;k.fn.extend({val:function(a){var b,g,c,d=this[0];if(arguments.length)return c=k.isFunction(a),this.each(function(g){var d;1===this.nodeType&&(d=c?a.call(this,
g,k(this).val()):a,null==d?d="":"number"==typeof d?d+="":k.isArray(d)&&(d=k.map(d,function(a){return null==a?"":a+""})),b=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,d,"value")||(this.value=d))});if(d)return b=k.valHooks[d.type]||k.valHooks[d.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(g=b.get(d,"value"))?g:(g=d.value,"string"==typeof g?g.replace(Xb,""):null==g?"":g)}});k.extend({valHooks:{option:{get:function(a){var b=k.find.attr(a,"value");
return null!=b?b:k.trim(k.text(a))}},select:{get:function(a){for(var b,g=a.options,c=a.selectedIndex,d="select-one"===a.type||0>c,l=d?null:[],f=d?c+1:g.length,e=0>c?f:d?c:0;f>e;e++)if(b=g[e],!(!b.selected&&e!==c||(F.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&k.nodeName(b.parentNode,"optgroup"))){if(a=k(b).val(),d)return a;l.push(a)}return l},set:function(a,b){for(var g,c,d=a.options,l=k.makeArray(b),f=d.length;f--;)if(c=d[f],0<=k.inArray(k.valHooks.option.get(c),
l))try{c.selected=g=!0}catch(e){c.scrollHeight}else c.selected=!1;return g||(a.selectedIndex=-1),d}}}});k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(a,b){return k.isArray(b)?a.checked=0<=k.inArray(k(a).val(),b):void 0}};F.checkOn||(k.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Pa,Db,Aa=k.expr.attrHandle,vb=/^(?:checked|selected)$/i,Ha=F.getSetAttribute,mb=F.input;k.fn.extend({attr:function(a,b){return wa(this,k.attr,a,b,1<arguments.length)},
removeAttr:function(a){return this.each(function(){k.removeAttr(this,a)})}});k.extend({attr:function(a,b,g){var c,d,l=a.nodeType;if(a&&3!==l&&8!==l&&2!==l)return typeof a.getAttribute===ka?k.prop(a,b,g):(1===l&&k.isXMLDoc(a)||(b=b.toLowerCase(),c=k.attrHooks[b]||(k.expr.match.bool.test(b)?Db:Pa)),void 0===g?c&&"get"in c&&null!==(d=c.get(a,b))?d:(d=k.find.attr(a,b),null==d?void 0:d):null!==g?c&&"set"in c&&void 0!==(d=c.set(a,g,b))?d:(a.setAttribute(b,g+""),g):void k.removeAttr(a,b))},removeAttr:function(a,
b){var g,c,d=0,l=b&&b.match(qa);if(l&&1===a.nodeType)for(;g=l[d++];)c=k.propFix[g]||g,k.expr.match.bool.test(g)?mb&&Ha||!vb.test(g)?a[c]=!1:a[k.camelCase("default-"+g)]=a[c]=!1:k.attr(a,g,""),a.removeAttribute(Ha?g:c)},attrHooks:{type:{set:function(a,b){if(!F.radioValue&&"radio"===b&&k.nodeName(a,"input")){var g=a.value;return a.setAttribute("type",b),g&&(a.value=g),b}}}}});Db={set:function(a,b,g){return!1===b?k.removeAttr(a,g):mb&&Ha||!vb.test(g)?a.setAttribute(!Ha&&k.propFix[g]||g,g):a[k.camelCase("default-"+
g)]=a[g]=!0,g}};k.each(k.expr.match.bool.source.match(/\w+/g),function(a,b){var g=Aa[b]||k.find.attr;Aa[b]=mb&&Ha||!vb.test(b)?function(a,b,c){var d,l;return c||(l=Aa[b],Aa[b]=d,d=null!=g(a,b,c)?b.toLowerCase():null,Aa[b]=l),d}:function(a,b,g){return g?void 0:a[k.camelCase("default-"+b)]?b.toLowerCase():null}});mb&&Ha||(k.attrHooks.value={set:function(a,b,g){return k.nodeName(a,"input")?void(a.defaultValue=b):Pa&&Pa.set(a,b,g)}});Ha||(Pa={set:function(a,b,g){var c=a.getAttributeNode(g);return c||
a.setAttributeNode(c=a.ownerDocument.createAttribute(g)),c.value=b+="","value"===g||b===a.getAttribute(g)?b:void 0}},Aa.id=Aa.name=Aa.coords=function(a,b,g){var c;return g?void 0:(c=a.getAttributeNode(b))&&""!==c.value?c.value:null},k.valHooks.button={get:function(a,b){var g=a.getAttributeNode(b);return g&&g.specified?g.value:void 0},set:Pa.set},k.attrHooks.contenteditable={set:function(a,b,g){Pa.set(a,""===b?!1:b,g)}},k.each(["width","height"],function(a,b){k.attrHooks[b]={set:function(a,g){return""===
g?(a.setAttribute(b,"auto"),g):void 0}}}));F.style||(k.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Yb=/^(?:input|select|textarea|button|object)$/i,Zb=/^(?:a|area)$/i;k.fn.extend({prop:function(a,b){return wa(this,k.prop,a,b,1<arguments.length)},removeProp:function(a){return a=k.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}});k.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,
b,g){var c,d,l,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return l=1!==f||!k.isXMLDoc(a),l&&(b=k.propFix[b]||b,d=k.propHooks[b]),void 0!==g?d&&"set"in d&&void 0!==(c=d.set(a,g,b))?c:a[b]=g:d&&"get"in d&&null!==(c=d.get(a,b))?c:a[b]},propHooks:{tabIndex:{get:function(a){var b=k.find.attr(a,"tabindex");return b?parseInt(b,10):Yb.test(a.nodeName)||Zb.test(a.nodeName)&&a.href?0:-1}}}});F.hrefNormalized||k.each(["href","src"],function(a,b){k.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});F.optSelected||
(k.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}});k.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){k.propFix[this.toLowerCase()]=this});F.enctype||(k.propFix.enctype="encoding");var wb=/[\t\r\n\f]/g;k.fn.extend({addClass:function(a){var b,g,c,d,l,f=0,e=this.length;b="string"==typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(qa)||[];e>f;f++)if(g=this[f],c=1===g.nodeType&&(g.className?(" "+g.className+" ").replace(wb," "):" ")){for(l=0;d=b[l++];)0>c.indexOf(" "+d+" ")&&(c+=d+" ");c=k.trim(c);g.className!==c&&(g.className=c)}return this},removeClass:function(a){var b,g,c,d,l,f=0,e=this.length;b=0===arguments.length||"string"==typeof a&&a;if(k.isFunction(a))return this.each(function(b){k(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(qa)||[];e>f;f++)if(g=
this[f],c=1===g.nodeType&&(g.className?(" "+g.className+" ").replace(wb," "):"")){for(l=0;d=b[l++];)for(;0<=c.indexOf(" "+d+" ");)c=c.replace(" "+d+" "," ");c=a?k.trim(c):"";g.className!==c&&(g.className=c)}return this},toggleClass:function(a,b){var g=typeof a;return"boolean"==typeof b&&"string"===g?b?this.addClass(a):this.removeClass(a):this.each(k.isFunction(a)?function(g){k(this).toggleClass(a.call(this,g,this.className,b),b)}:function(){if("string"===g)for(var b,c=0,d=k(this),l=a.match(qa)||[];b=
l[c++];)d.hasClass(b)?d.removeClass(b):d.addClass(b);else(g===ka||"boolean"===g)&&(this.className&&k._data(this,"__className__",this.className),this.className=this.className||!1===a?"":k._data(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,g=this.length;g>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(wb," ").indexOf(a))return!0;return!1}});k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){k.fn[b]=function(a,g){return 0<arguments.length?this.on(b,null,a,g):this.trigger(b)}});k.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,g){return this.on(a,null,b,g)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,g,c){return this.on(b,a,g,c)},undelegate:function(a,b,g){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",g)}});var xb=k.now(),yb=/\?/,$b=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
k.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var g,c=null,d=k.trim(b+"");return d&&!k.trim(d.replace($b,function(a,b,d,l){return g&&b&&(c=0),0===c?a:(g=d||b,c+=!l-!d,"")}))?Function("return "+d)():k.error("Invalid JSON: "+b)};k.parseXML=function(b){var g,c;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(c=new DOMParser,g=c.parseFromString(b,"text/xml")):(g=new ActiveXObject("Microsoft.XMLDOM"),g.async="false",g.loadXML(b))}catch(d){g=void 0}return g&&g.documentElement&&
!g.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+b),g};var Ia,Ba,ac=/#.*$/,Eb=/([?&])_=[^&]*/,bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,cc=/^(?:GET|HEAD)$/,dc=/^\/\//,Fb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Gb={},pb={},Hb="*/".concat("*");try{Ba=location.href}catch(kc){Ba=M.createElement("a"),Ba.href="",Ba=Ba.href}Ia=Fb.exec(Ba.toLowerCase())||[];k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ba,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ia[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Hb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?R(R(a,
k.ajaxSettings),b):R(k.ajaxSettings,a)},ajaxPrefilter:l(Gb),ajaxTransport:l(pb),ajax:function(a,b){function g(a,b,c,d){var v,q,r,p,A=b;if(2!==K){K=2;e&&clearTimeout(e);h=void 0;f=d||"";X.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(c){r=n;for(var z=X,T,y,s,C,P=r.contents,aa=r.dataTypes;"*"===aa[0];)aa.shift(),void 0===y&&(y=r.mimeType||z.getResponseHeader("Content-Type"));if(y)for(C in P)if(P[C]&&P[C].test(y)){aa.unshift(C);break}if(aa[0]in c)s=aa[0];else{for(C in c){if(!aa[0]||r.converters[C+" "+
aa[0]]){s=C;break}T||(T=C)}s=s||T}r=s?(s!==aa[0]&&aa.unshift(s),c[s]):void 0}var E;a:{c=n;T=r;y=X;s=d;var w,W,J;r={};z=c.dataTypes.slice();if(z[1])for(w in c.converters)r[w.toLowerCase()]=c.converters[w];for(C=z.shift();C;)if(c.responseFields[C]&&(y[c.responseFields[C]]=T),!J&&s&&c.dataFilter&&(T=c.dataFilter(T,c.dataType)),J=C,C=z.shift())if("*"===C)C=J;else if("*"!==J&&J!==C){if(w=r[J+" "+C]||r["* "+C],!w)for(E in r)if(W=E.split(" "),W[1]===C&&(w=r[J+" "+W[0]]||r["* "+W[0]])){!0===w?w=r[E]:!0!==
r[E]&&(C=W[0],z.unshift(W[1]));break}if(!0!==w)if(w&&c["throws"])T=w(T);else try{T=w(T)}catch(Y){E={state:"parsererror",error:w?Y:"No conversion from "+J+" to "+C};break a}}E={state:"success",data:T}}r=E;d?(n.ifModified&&(p=X.getResponseHeader("Last-Modified"),p&&(k.lastModified[l]=p),p=X.getResponseHeader("etag"),p&&(k.etag[l]=p)),204===a||"HEAD"===n.type?A="nocontent":304===a?A="notmodified":(A=r.state,v=r.data,q=r.error,d=!q)):(q=A,(a||!A)&&(A="error",0>a&&(a=0)));X.status=a;X.statusText=(b||A)+
"";d?R.resolveWith(u,[v,A,X]):R.rejectWith(u,[X,A,q]);X.statusCode(t);t=void 0;B&&m.trigger(d?"ajaxSuccess":"ajaxError",[X,n,d?v:q]);O.fireWith(u,[X,A]);B&&(m.trigger("ajaxComplete",[X,n]),--k.active||k.event.trigger("ajaxStop"))}}"object"==typeof a&&(b=a,a=void 0);b=b||{};var c,d,l,f,e,B,h,q,n=k.ajaxSetup({},b),u=n.context||n,m=n.context&&(u.nodeType||u.jquery)?k(u):k.event,R=k.Deferred(),O=k.Callbacks("once memory"),t=n.statusCode||{},r={},p={},K=0,A="canceled",X={readyState:0,getResponseHeader:function(a){var b;
if(2===K){if(!q)for(q={};b=bc.exec(f);)q[b[1].toLowerCase()]=b[2];b=q[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===K?f:null},setRequestHeader:function(a,b){var g=a.toLowerCase();return K||(a=p[g]=p[g]||a,r[a]=b),this},overrideMimeType:function(a){return K||(n.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>K)for(b in a)t[b]=[t[b],a[b]];else X.always(a[X.status]);return this},abort:function(a){a=a||A;return h&&h.abort(a),g(0,a),this}};if(R.promise(X).complete=
O.add,X.success=X.done,X.error=X.fail,n.url=((a||n.url||Ba)+"").replace(ac,"").replace(dc,Ia[1]+"//"),n.type=b.method||b.type||n.method||n.type,n.dataTypes=k.trim(n.dataType||"*").toLowerCase().match(qa)||[""],null==n.crossDomain&&(c=Fb.exec(n.url.toLowerCase()),n.crossDomain=!(!c||c[1]===Ia[1]&&c[2]===Ia[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(Ia[3]||("http:"===Ia[1]?"80":"443")))),n.data&&n.processData&&"string"!=typeof n.data&&(n.data=k.param(n.data,n.traditional)),v(Gb,n,b,X),2===K)return X;
(B=n.global)&&0===k.active++&&k.event.trigger("ajaxStart");n.type=n.type.toUpperCase();n.hasContent=!cc.test(n.type);l=n.url;n.hasContent||(n.data&&(l=n.url+=(yb.test(l)?"&":"?")+n.data,delete n.data),!1===n.cache&&(n.url=Eb.test(l)?l.replace(Eb,"$1_="+xb++):l+(yb.test(l)?"&":"?")+"_="+xb++));n.ifModified&&(k.lastModified[l]&&X.setRequestHeader("If-Modified-Since",k.lastModified[l]),k.etag[l]&&X.setRequestHeader("If-None-Match",k.etag[l]));(n.data&&n.hasContent&&!1!==n.contentType||b.contentType)&&
X.setRequestHeader("Content-Type",n.contentType);X.setRequestHeader("Accept",n.dataTypes[0]&&n.accepts[n.dataTypes[0]]?n.accepts[n.dataTypes[0]]+("*"!==n.dataTypes[0]?", "+Hb+"; q=0.01":""):n.accepts["*"]);for(d in n.headers)X.setRequestHeader(d,n.headers[d]);if(n.beforeSend&&(!1===n.beforeSend.call(u,X,n)||2===K))return X.abort();A="abort";for(d in{success:1,error:1,complete:1})X[d](n[d]);if(h=v(pb,n,b,X)){X.readyState=1;B&&m.trigger("ajaxSend",[X,n]);n.async&&0<n.timeout&&(e=setTimeout(function(){X.abort("timeout")},
n.timeout));try{K=1,h.send(r,g)}catch(z){if(!(2>K))throw z;g(-1,z)}}else g(-1,"No Transport");return X},getJSON:function(a,b,g){return k.get(a,b,g,"json")},getScript:function(a,b){return k.get(a,void 0,b,"script")}});k.each(["get","post"],function(a,b){k[b]=function(a,g,c,d){return k.isFunction(g)&&(d=d||c,c=g,g=void 0),k.ajax({url:a,type:b,dataType:d,data:g,success:c})}});k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){k.fn[b]=function(a){return this.on(b,
a)}});k._evalUrl=function(a){return k.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};k.fn.extend({wrapAll:function(a){if(k.isFunction(a))return this.each(function(b){k(this).wrapAll(a.call(this,b))});if(this[0]){var b=k(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(k.isFunction(a)?
function(b){k(this).wrapInner(a.call(this,b))}:function(){var b=k(this),g=b.contents();g.length?g.wrapAll(a):b.append(a)})},wrap:function(a){var b=k.isFunction(a);return this.each(function(g){k(this).wrapAll(b?a.call(this,g):a)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}});k.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!F.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||
k.css(a,"display"))};k.expr.filters.visible=function(a){return!k.expr.filters.hidden(a)};var ec=/%20/g,Ob=/\[\]$/,Ib=/\r?\n/g,fc=/^(?:submit|button|image|reset|file)$/i,gc=/^(?:input|select|textarea|keygen)/i;k.param=function(a,b){var g,c=[],d=function(a,b){b=k.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(a)||a.jquery&&!k.isPlainObject(a))k.each(a,function(){d(this.name,this.value)});
else for(g in a)K(g,a[g],b,d);return c.join("&").replace(ec,"+")};k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=k.prop(this,"elements");return a?k.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!k(this).is(":disabled")&&gc.test(this.nodeName)&&!fc.test(a)&&(this.checked||!Ra.test(a))}).map(function(a,b){var g=k(this).val();return null==g?null:k.isArray(g)?k.map(g,function(a){return{name:b.name,
value:a.replace(Ib,"\r\n")}}):{name:b.name,value:g.replace(Ib,"\r\n")}}).get()}});k.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&aa()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(g){}b=void 0}return b}:aa;var hc=0,nb={},ob=k.ajaxSettings.xhr();a.ActiveXObject&&k(a).on("unload",function(){for(var a in nb)nb[a](void 0,!0)});F.cors=!!ob&&"withCredentials"in ob;(ob=F.ajax=!!ob)&&k.ajaxTransport(function(a){if(!a.crossDomain||
F.cors){var b;return{send:function(g,c){var d,l=a.xhr(),f=++hc;if(l.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(d in a.xhrFields)l[d]=a.xhrFields[d];a.mimeType&&l.overrideMimeType&&l.overrideMimeType(a.mimeType);a.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");for(d in g)void 0!==g[d]&&l.setRequestHeader(d,g[d]+"");l.send(a.hasContent&&a.data||null);b=function(g,d){var e,v,B;if(b&&(d||4===l.readyState))if(delete nb[f],b=void 0,l.onreadystatechange=
k.noop,d)4!==l.readyState&&l.abort();else{B={};e=l.status;"string"==typeof l.responseText&&(B.text=l.responseText);try{v=l.statusText}catch(h){v=""}e||!a.isLocal||a.crossDomain?1223===e&&(e=204):e=B.text?200:404}B&&c(e,v,B,l.getAllResponseHeaders())};a.async?4===l.readyState?setTimeout(b):l.onreadystatechange=nb[f]=b:b()},abort:function(){b&&b(void 0,!0)}}}});k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},
converters:{"text script":function(a){return k.globalEval(a),a}}});k.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});k.ajaxTransport("script",function(a){if(a.crossDomain){var b,g=M.head||k("head")[0]||M.documentElement;return{send:function(c,d){b=M.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,g){(g||!b.readyState||/loaded|complete/.test(b.readyState))&&
(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,g||d(200,"success"))};g.insertBefore(b,g.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var Jb=[],zb=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||k.expando+"_"+xb++;return this[a]=!0,a}});k.ajaxPrefilter("json jsonp",function(b,g,c){var d,l,f,e=!1!==b.jsonp&&(zb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&
zb.test(b.data)&&"data");return e||"jsonp"===b.dataTypes[0]?(d=b.jsonpCallback=k.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,e?b[e]=b[e].replace(zb,"$1"+d):!1!==b.jsonp&&(b.url+=(yb.test(b.url)?"&":"?")+b.jsonp+"="+d),b.converters["script json"]=function(){return f||k.error(d+" was not called"),f[0]},b.dataTypes[0]="json",l=a[d],a[d]=function(){f=arguments},c.always(function(){a[d]=l;b[d]&&(b.jsonpCallback=g.jsonpCallback,Jb.push(d));f&&k.isFunction(l)&&l(f[0]);f=l=void 0}),"script"):
void 0});k.parseHTML=function(a,b,g){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(g=b,b=!1);b=b||M;var c=xa.exec(a);g=!g&&[];return c?[b.createElement(c[1])]:(c=k.buildFragment([a],b,g),g&&g.length&&k(g).remove(),k.merge([],c.childNodes))};var Kb=k.fn.load;k.fn.load=function(a,b,g){if("string"!=typeof a&&Kb)return Kb.apply(this,arguments);var c,d,l,f=this,e=a.indexOf(" ");return 0<=e&&(c=k.trim(a.slice(e,a.length)),a=a.slice(0,e)),k.isFunction(b)?(g=b,b=void 0):b&&"object"==typeof b&&
(l="POST"),0<f.length&&k.ajax({url:a,type:l,dataType:"html",data:b}).done(function(a){d=arguments;f.html(c?k("<div>").append(k.parseHTML(a)).find(c):a)}).complete(g&&function(a,b){f.each(g,d||[a.responseText,b,a])}),this};k.expr.filters.animated=function(a){return k.grep(k.timers,function(b){return a===b.elem}).length};var Lb=a.document.documentElement;k.offset={setOffset:function(a,b,g){var c,d,l,f,e,v,B=k.css(a,"position"),h=k(a),n={};"static"===B&&(a.style.position="relative");e=h.offset();l=k.css(a,
"top");v=k.css(a,"left");("absolute"===B||"fixed"===B)&&-1<k.inArray("auto",[l,v])?(c=h.position(),f=c.top,d=c.left):(f=parseFloat(l)||0,d=parseFloat(v)||0);k.isFunction(b)&&(b=b.call(a,g,e));null!=b.top&&(n.top=b.top-e.top+f);null!=b.left&&(n.left=b.left-e.left+d);"using"in b?b.using.call(a,n):h.css(n)}};k.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){k.offset.setOffset(this,a,b)});var b,g,c={top:0,left:0},d=this[0],l=d&&d.ownerDocument;if(l)return b=
l.documentElement,k.contains(b,d)?(typeof d.getBoundingClientRect!==ka&&(c=d.getBoundingClientRect()),g=V(l),{top:c.top+(g.pageYOffset||b.scrollTop)-(b.clientTop||0),left:c.left+(g.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):c},position:function(){if(this[0]){var a,b,g={top:0,left:0},c=this[0];return"fixed"===k.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),k.nodeName(a[0],"html")||(g=a.offset()),g.top+=k.css(a[0],"borderTopWidth",!0),g.left+=k.css(a[0],"borderLeftWidth",
!0)),{top:b.top-g.top-k.css(c,"marginTop",!0),left:b.left-g.left-k.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Lb;a&&!k.nodeName(a,"html")&&"static"===k.css(a,"position");)a=a.offsetParent;return a||Lb})}});k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var g=/Y/.test(b);k.fn[a]=function(c){return wa(this,function(a,c,d){var l=V(a);return void 0===d?l?b in l?l[b]:l.document.documentElement[c]:a[c]:void(l?l.scrollTo(g?
k(l).scrollLeft():d,g?d:k(l).scrollTop()):a[c]=d)},a,c,arguments.length,null)}});k.each(["top","left"],function(a,b){k.cssHooks[b]=U(F.pixelPosition,function(a,g){return g?(g=Fa(a,b),eb.test(g)?k(a).position()[b]+"px":g):void 0})});k.each({Height:"height",Width:"width"},function(a,b){k.each({padding:"inner"+a,content:b,"":"outer"+a},function(g,c){k.fn[c]=function(c,d){var l=arguments.length&&(g||"boolean"!=typeof c),f=g||(!0===c||!0===d?"margin":"border");return wa(this,function(b,g,c){var d;return k.isWindow(b)?
b.document.documentElement["client"+a]:9===b.nodeType?(d=b.documentElement,Math.max(b.body["scroll"+a],d["scroll"+a],b.body["offset"+a],d["offset"+a],d["client"+a])):void 0===c?k.css(b,g,f):k.style(b,g,c,f)},b,l?c:void 0,l,null)}})});k.fn.size=function(){return this.length};k.fn.andSelf=k.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var ic=a.jQuery,jc=a.$;return k.noConflict=function(b){return a.$===k&&(a.$=jc),b&&a.jQuery===k&&(a.jQuery=ic),k},typeof b===
ka&&(a.jQuery=a.$=k),k});(function(){var a=this,b=a._,c={},e=Array.prototype,h=Object.prototype,m=e.push,d=e.slice,f=e.concat,q=h.toString,t=h.hasOwnProperty,z=e.forEach,s=e.map,w=e.reduce,y=e.reduceRight,r=e.filter,u=e.every,n=e.some,C=e.indexOf,I=e.lastIndexOf,h=Array.isArray,L=Object.keys,H=Function.prototype.bind,p=function(a){return a instanceof p?a:this instanceof p?void(this._wrapped=a):new p(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):a._=p;
p.VERSION="1.6.0";var G=p.each=p.forEach=function(a,b,d){if(null==a)return a;if(z&&a.forEach===z)a.forEach(b,d);else if(a.length===+a.length)for(var f=0,e=a.length;e>f;f++){if(b.call(d,a[f],f,a)===c)return}else for(var h=p.keys(a),f=0,e=h.length;e>f;f++)if(b.call(d,a[h[f]],h[f],a)===c)return;return a};p.map=p.collect=function(a,b,c){var d=[];return null==a?d:s&&a.map===s?a.map(b,c):(G(a,function(a,g,f){d.push(b.call(c,a,g,f))}),d)};p.reduce=p.foldl=p.inject=function(a,b,c,d){var f=2<arguments.length;
if(null==a&&(a=[]),w&&a.reduce===w)return d&&(b=p.bind(b,d)),f?a.reduce(b,c):a.reduce(b);if(G(a,function(a,g,e){f?c=b.call(d,c,a,g,e):(c=a,f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return c};p.reduceRight=p.foldr=function(a,b,c,d){var f=2<arguments.length;if(null==a&&(a=[]),y&&a.reduceRight===y)return d&&(b=p.bind(b,d)),f?a.reduceRight(b,c):a.reduceRight(b);var e=a.length;if(e!==+e)var h=p.keys(a),e=h.length;if(G(a,function(n,q,u){q=h?h[--e]:--e;f?c=b.call(d,c,
a[q],q,u):(c=a[q],f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return c};p.find=p.detect=function(a,b,c){var d;return P(a,function(a,g,f){return b.call(c,a,g,f)?(d=a,!0):void 0}),d};p.filter=p.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(G(a,function(a,g,f){b.call(c,a,g,f)&&d.push(a)}),d)};p.reject=function(a,b,c){return p.filter(a,function(a,g,d){return!b.call(c,a,g,d)},c)};p.every=p.all=function(a,b,d){b||(b=p.identity);var f=!0;
return null==a?f:u&&a.every===u?a.every(b,d):(G(a,function(a,g,e){return(f=f&&b.call(d,a,g,e))?void 0:c}),!!f)};var P=p.some=p.any=function(a,b,d){b||(b=p.identity);var f=!1;return null==a?f:n&&a.some===n?a.some(b,d):(G(a,function(a,g,e){return f||(f=b.call(d,a,g,e))?c:void 0}),!!f)};p.contains=p.include=function(a,b){return null==a?!1:C&&a.indexOf===C?-1!=a.indexOf(b):P(a,function(a){return a===b})};p.invoke=function(a,b){var c=d.call(arguments,2),f=p.isFunction(b);return p.map(a,function(a){return(f?
b:a[b]).apply(a,c)})};p.pluck=function(a,b){return p.map(a,p.property(b))};p.where=function(a,b){return p.filter(a,p.matches(b))};p.findWhere=function(a,b){return p.find(a,p.matches(b))};p.max=function(a,b,c){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);var d=-1/0,f=-1/0;return G(a,function(a,g,e){g=b?b.call(c,a,g,e):a;g>f&&(d=a,f=g)}),d};p.min=function(a,b,c){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);var d=1/0,f=1/0;return G(a,
function(a,g,e){g=b?b.call(c,a,g,e):a;f>g&&(d=a,f=g)}),d};p.shuffle=function(a){var b,c=0,d=[];return G(a,function(a){b=p.random(c++);d[c-1]=d[b];d[b]=a}),d};p.sample=function(a,b,c){return null==b||c?(a.length!==+a.length&&(a=p.values(a)),a[p.random(a.length-1)]):p.shuffle(a).slice(0,Math.max(0,b))};var Q=function(a){return null==a?p.identity:p.isFunction(a)?a:p.property(a)};p.sortBy=function(a,b,c){return b=Q(b),p.pluck(p.map(a,function(a,g,d){return{value:a,index:g,criteria:b.call(c,a,g,d)}}).sort(function(a,
b){var g=a.criteria,c=b.criteria;if(g!==c){if(g>c||void 0===g)return 1;if(c>g||void 0===c)return-1}return a.index-b.index}),"value")};var U=function(a){return function(b,c,d){var f={};return c=Q(c),G(b,function(e,h){var n=c.call(d,e,h,b);a(f,n,e)}),f}};p.groupBy=U(function(a,b,c){p.has(a,b)?a[b].push(c):a[b]=[c]});p.indexBy=U(function(a,b,c){a[b]=c});p.countBy=U(function(a,b){p.has(a,b)?a[b]++:a[b]=1});p.sortedIndex=function(a,b,c,d){c=Q(c);b=c.call(d,b);for(var f=0,e=a.length;e>f;){var h=f+e>>>1;
c.call(d,a[h])<b?f=h+1:e=h}return f};p.toArray=function(a){return a?p.isArray(a)?d.call(a):a.length===+a.length?p.map(a,p.identity):p.values(a):[]};p.size=function(a){return null==a?0:a.length===+a.length?a.length:p.keys(a).length};p.first=p.head=p.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:0>b?[]:d.call(a,0,b)};p.initial=function(a,b,c){return d.call(a,0,a.length-(null==b||c?1:b))};p.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:d.call(a,Math.max(a.length-b,
0))};p.rest=p.tail=p.drop=function(a,b,c){return d.call(a,null==b||c?1:b)};p.compact=function(a){return p.filter(a,p.identity)};var D=function(a,b,c){return b&&p.every(a,p.isArray)?f.apply(c,a):(G(a,function(a){p.isArray(a)||p.isArguments(a)?b?m.apply(c,a):D(a,b,c):c.push(a)}),c)};p.flatten=function(a,b){return D(a,b,[])};p.without=function(a){return p.difference(a,d.call(arguments,1))};p.partition=function(a,b){var c=[],d=[];return G(a,function(a){(b(a)?c:d).push(a)}),[c,d]};p.uniq=p.unique=function(a,
b,c,d){p.isFunction(b)&&(d=c,c=b,b=!1);c=c?p.map(a,c,d):a;var f=[],e=[];return G(c,function(c,d){(b?d&&e[e.length-1]===c:p.contains(e,c))||(e.push(c),f.push(a[d]))}),f};p.union=function(){return p.uniq(p.flatten(arguments,!0))};p.intersection=function(a){var b=d.call(arguments,1);return p.filter(p.uniq(a),function(a){return p.every(b,function(b){return p.contains(b,a)})})};p.difference=function(a){var b=f.apply(e,d.call(arguments,1));return p.filter(a,function(a){return!p.contains(b,a)})};p.zip=function(){for(var a=
p.max(p.pluck(arguments,"length").concat(0)),b=Array(a),c=0;a>c;c++)b[c]=p.pluck(arguments,""+c);return b};p.object=function(a,b){if(null==a)return{};for(var c={},d=0,f=a.length;f>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};p.indexOf=function(a,b,c){if(null==a)return-1;var d=0,f=a.length;if(c){if("number"!=typeof c)return d=p.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,f+c):c}if(C&&a.indexOf===C)return a.indexOf(b,c);for(;f>d;d++)if(a[d]===b)return d;return-1};p.lastIndexOf=function(a,b,
c){if(null==a)return-1;var d=null!=c;if(I&&a.lastIndexOf===I)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};p.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),f=0,e=Array(d);d>f;)e[f++]=a,a+=c;return e};var J=function(){};p.bind=function(a,b){var c,f;if(H&&a.bind===H)return H.apply(a,d.call(arguments,1));if(!p.isFunction(a))throw new TypeError;return c=d.call(arguments,2),f=function(){if(!(this instanceof
f))return a.apply(b,c.concat(d.call(arguments)));J.prototype=a.prototype;var e=new J;J.prototype=null;var h=a.apply(e,c.concat(d.call(arguments)));return Object(h)===h?h:e}};p.partial=function(a){var b=d.call(arguments,1);return function(){for(var c=0,d=b.slice(),f=0,e=d.length;e>f;f++)d[f]===p&&(d[f]=arguments[c++]);for(;c<arguments.length;)d.push(arguments[c++]);return a.apply(this,d)}};p.bindAll=function(a){var b=d.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");
return G(b,function(b){a[b]=p.bind(a[b],a)}),a};p.memoize=function(a,b){var c={};return b||(b=p.identity),function(){var d=b.apply(this,arguments);return p.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};p.delay=function(a,b){var c=d.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};p.defer=function(a){return p.delay.apply(p,[a,1].concat(d.call(arguments,1)))};p.throttle=function(a,b,c){var d,f,e,h=null,n=0;c||(c={});var q=function(){n=!1===c.leading?0:p.now();h=null;e=a.apply(d,
f);d=f=null};return function(){var u=p.now();n||!1!==c.leading||(n=u);var m=b-(u-n);return d=this,f=arguments,0>=m?(clearTimeout(h),h=null,n=u,e=a.apply(d,f),d=f=null):h||!1===c.trailing||(h=setTimeout(q,m)),e}};p.debounce=function(a,b,c){var d,f,e,h,n,q=function(){var u=p.now()-h;b>u?d=setTimeout(q,b-u):(d=null,c||(n=a.apply(e,f),e=f=null))};return function(){e=this;f=arguments;h=p.now();var u=c&&!d;return d||(d=setTimeout(q,b)),u&&(n=a.apply(e,f),e=f=null),n}};p.once=function(a){var b,c=!1;return function(){return c?
b:(c=!0,b=a.apply(this,arguments),a=null,b)}};p.wrap=function(a,b){return p.partial(b,a)};p.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};p.after=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}};p.keys=function(a){if(!p.isObject(a))return[];if(L)return L(a);var b=[],c;for(c in a)p.has(a,c)&&b.push(c);return b};p.values=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),f=0;c>f;f++)d[f]=
a[b[f]];return d};p.pairs=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),f=0;c>f;f++)d[f]=[b[f],a[b[f]]];return d};p.invert=function(a){for(var b={},c=p.keys(a),d=0,f=c.length;f>d;d++)b[a[c[d]]]=c[d];return b};p.functions=p.methods=function(a){var b=[],c;for(c in a)p.isFunction(a[c])&&b.push(c);return b.sort()};p.extend=function(a){return G(d.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a};p.pick=function(a){var b={},c=f.apply(e,d.call(arguments,1));return G(c,function(c){c in
a&&(b[c]=a[c])}),b};p.omit=function(a){var b={},c=f.apply(e,d.call(arguments,1)),h;for(h in a)p.contains(c,h)||(b[h]=a[h]);return b};p.defaults=function(a){return G(d.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a};p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a};p.tap=function(a,b){return b(a),a};var N=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped);b instanceof p&&
(b=b._wrapped);var f=q.call(a);if(f!=q.call(b))return!1;switch(f){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var e=c.length;e--;)if(c[e]==a)return d[e]==b;var e=a.constructor,h=b.constructor;if(e!==h&&!(p.isFunction(e)&&
e instanceof e&&p.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1;c.push(a);d.push(b);e=0;h=!0;if("[object Array]"==f){if(e=a.length,h=e==b.length)for(;e--&&(h=N(a[e],b[e],c,d)););}else{for(var n in a)if(p.has(a,n)&&(e++,!(h=p.has(b,n)&&N(a[n],b[n],c,d))))break;if(h){for(n in b)if(p.has(b,n)&&!e--)break;h=!e}}return c.pop(),d.pop(),h};p.isEqual=function(a,b){return N(a,b,[],[])};p.isEmpty=function(a){if(null==a)return!0;if(p.isArray(a)||p.isString(a))return 0===a.length;
for(var b in a)if(p.has(a,b))return!1;return!0};p.isElement=function(a){return!(!a||1!==a.nodeType)};p.isArray=h||function(a){return"[object Array]"==q.call(a)};p.isObject=function(a){return a===Object(a)};G("Arguments Function String Number Date RegExp".split(" "),function(a){p["is"+a]=function(b){return q.call(b)=="[object "+a+"]"}});p.isArguments(arguments)||(p.isArguments=function(a){return!(!a||!p.has(a,"callee"))});"function"!=typeof/./&&(p.isFunction=function(a){return"function"==typeof a});
p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};p.isNaN=function(a){return p.isNumber(a)&&a!=+a};p.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==q.call(a)};p.isNull=function(a){return null===a};p.isUndefined=function(a){return void 0===a};p.has=function(a,b){return t.call(a,b)};p.noConflict=function(){return a._=b,this};p.identity=function(a){return a};p.constant=function(a){return function(){return a}};p.property=function(a){return function(b){return b[a]}};p.matches=
function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}};p.times=function(a,b,c){for(var d=Array(Math.max(0,a)),f=0;a>f;f++)d[f]=b.call(c,f);return d};p.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};p.now=Date.now||function(){return(new Date).getTime()};var ca={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};ca.unescape=p.invert(ca.escape);var Z={escape:RegExp("["+p.keys(ca.escape).join("")+"]","g"),
unescape:RegExp("("+p.keys(ca.unescape).join("|")+")","g")};p.each(["escape","unescape"],function(a){p[a]=function(b){return null==b?"":(""+b).replace(Z[a],function(b){return ca[a][b]})}});p.result=function(a,b){if(null!=a){var c=a[b];return p.isFunction(c)?c.call(a):c}};p.mixin=function(a){G(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];return m.apply(a,arguments),S.call(this,c.apply(p,a))}})};var O=0;p.uniqueId=function(a){var b=++O+"";return a?a+b:b};
p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var T=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},da=/\\|'|\r|\n|\t|\u2028|\u2029/g;p.template=function(a,b,c){var d;c=p.defaults({},c,p.templateSettings);var f=RegExp([(c.escape||T).source,(c.interpolate||T).source,(c.evaluate||T).source].join("|")+"|$","g"),e=0,h="__p+='";a.replace(f,function(b,c,d,f,l){return h+=a.slice(e,l).replace(da,function(a){return"\\"+
W[a]}),c&&(h+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(h+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),f&&(h+="';\n"+f+"\n__p+='"),e=l+b.length,b});h+="';\n";c.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{d=new Function(c.variable||"obj","_",h)}catch(n){throw n.source=h,n;}if(b)return d(b,p);b=function(a){return d.call(this,a,p)};return b.source="function("+(c.variable||"obj")+"){\n"+
h+"}",b};p.chain=function(a){return p(a).chain()};var S=function(a){return this._chain?p(a).chain():a};p.mixin(p);G("pop push reverse shift sort splice unshift".split(" "),function(a){var b=e[a];p.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],S.call(this,c)}});G(["concat","join","slice"],function(a){var b=e[a];p.prototype[a]=function(){return S.call(this,b.apply(this._wrapped,arguments))}});p.extend(p.prototype,{chain:function(){return this._chain=
!0,this},value:function(){return this._wrapped}});"function"==typeof define&&define.amd&&define("underscore",[],function(){return p})}).call(this);(function(a,b){if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,h,m){a.Backbone=b(a,m,c,h)});else if("undefined"!==typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)})(this,function(a,b,c,e){var h=a.Backbone,m=[].slice;b.VERSION="1.1.2";b.$=e;b.noConflict=function(){a.Backbone=h;return this};b.emulateHTTP=!1;b.emulateJSON=!1;var d=b.Events={on:function(a,b,c){if(!q(this,"on",a,[b,c])||
!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,d){if(!q(this,"once",a,[b,d])||!b)return this;var f=this,e=c.once(function(){f.off(a,e);b.apply(this,arguments)});e._callback=b;return this.on(a,e,d)},off:function(a,b,d){var f,e,g,l,h,n,u,m;if(!this._events||!q(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;l=a?[a]:c.keys(this._events);h=0;for(n=l.length;h<n;h++)if(a=
l[h],g=this._events[a]){this._events[a]=f=[];if(b||d)for(u=0,m=g.length;u<m;u++)e=g[u],(b&&b!==e.callback&&b!==e.callback._callback||d&&d!==e.context)&&f.push(e);f.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=m.call(arguments,1);if(!q(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;c&&t(c,b);d&&t(d,arguments);return this},stopListening:function(a,b,d){var f=this._listeningTo;if(!f)return this;var e=!b&&!d;d||"object"!==
typeof b||(d=this);a&&((f={})[a._listenId]=a);for(var g in f)a=f[g],a.off(b,d,this),(e||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},f=/\s+/,q=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(f.test(c)){c=c.split(f);e=0;for(var g=c.length;e<g;e++)a[b].apply(a,[c[e]].concat(d));return!1}return!0},t=function(a,b){var c,d=-1,f=a.length,g=b[0],e=b[1],h=b[2];switch(b.length){case 0:for(;++d<f;)(c=a[d]).callback.call(c.ctx);
break;case 1:for(;++d<f;)(c=a[d]).callback.call(c.ctx,g);break;case 2:for(;++d<f;)(c=a[d]).callback.call(c.ctx,g,e);break;case 3:for(;++d<f;)(c=a[d]).callback.call(c.ctx,g,e,h);break;default:for(;++d<f;)(c=a[d]).callback.apply(c.ctx,b)}};c.each({listenTo:"on",listenToOnce:"once"},function(a,b){d[b]=function(b,d,f){var g=this._listeningTo||(this._listeningTo={}),e=b._listenId||(b._listenId=c.uniqueId("l"));g[e]=b;f||"object"!==typeof d||(f=this);b[a](d,f,this);return this}});d.bind=d.on;d.unbind=d.off;
c.extend(b,d);var z=b.Model=function(a,b){var d=a||{};b||(b={});this.cid=c.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(d=this.parse(d,b)||{});d=c.defaults({},d,c.result(this,"defaults"));this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};c.extend(z.prototype,d,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},
get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var f,e,g,l,h,n,q;if(null==a)return this;"object"===typeof a?(e=a,d=b):(e={})[a]=b;d||(d={});if(!this._validate(e,d))return!1;g=d.unset;l=d.silent;a=[];h=this._changing;this._changing=!0;h||(this._previousAttributes=c.clone(this.attributes),this.changed={});q=this.attributes;n=this._previousAttributes;this.idAttribute in e&&(this.id=e[this.idAttribute]);
for(f in e)b=e[f],c.isEqual(q[f],b)||a.push(f),c.isEqual(n[f],b)?delete this.changed[f]:this.changed[f]=b,g?delete q[f]:q[f]=b;if(!l)for(a.length&&(this._pending=d),b=0,f=a.length;b<f;b++)this.trigger("change:"+a[b],this,q[a[b]],d);if(h)return this;if(!l)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={},d;for(d in this.attributes)b[d]=
void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,f=this._changing?this._previousAttributes:this.attributes,e;for(e in a)c.isEqual(f[e],b=a[e])||((d||(d={}))[e]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},
fetch:function(a){a=a?c.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;a.success=function(c){if(!b.set(b.parse(c,a),a))return!1;d&&d(b,c,a);b.trigger("sync",b,c,a)};Z(this,a);return this.sync("read",this,a)},save:function(a,b,d){var f,e=this.attributes;null==a||"object"===typeof a?(f=a,d=b):(f={})[a]=b;d=c.extend({validate:!0},d);if(f&&!d.wait){if(!this.set(f,d))return!1}else if(!this._validate(f,d))return!1;f&&d.wait&&(this.attributes=c.extend({},e,f));void 0===d.parse&&(d.parse=
!0);var g=this,l=d.success;d.success=function(a){g.attributes=e;var b=g.parse(a,d);d.wait&&(b=c.extend(f||{},b));if(c.isObject(b)&&!g.set(b,d))return!1;l&&l(g,a,d);g.trigger("sync",g,a,d)};Z(this,d);a=this.isNew()?"create":d.patch?"patch":"update";"patch"===a&&(d.attrs=f);a=this.sync(a,this,d);f&&d.wait&&(this.attributes=e);return a},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,f=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(c){(a.wait||b.isNew())&&f();d&&d(b,
c,a);b.isNew()||b.trigger("sync",b,c,a)};if(this.isNew())return a.success(),!1;Z(this,a);var e=this.sync("delete",this,a);a.wait||f();return e},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||ca();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||
{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;if(!d)return!0;this.trigger("invalid",this,d,c.extend(b,{validationError:d}));return!1}});c.each("keys values pairs invert pick omit".split(" "),function(a){z.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.attributes);return c[a].apply(c,b)}});var s=b.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);
void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,c.extend({silent:!0},b))},w={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};c.extend(s.prototype,d,{model:z,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,y))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a);b||
(b={});var f,e,g,l;f=0;for(e=a.length;f<e;f++)if(l=a[f]=this.get(a[f]))delete this._byId[l.id],delete this._byId[l.cid],g=this.indexOf(l),this.models.splice(g,1),this.length--,b.silent||(b.index=g,l.trigger("remove",l,this,b)),this._removeReference(l,b);return d?a[0]:a},set:function(a,b){b=c.defaults({},b,w);b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var f,e,g,l,h,n,q=b.at,u=this.model,m=this.comparator&&null==q&&!1!==b.sort,t=c.isString(this.comparator)?this.comparator:
null,r=[],p=[],y={},C=b.add,s=b.merge,P=b.remove,J=!m&&C&&P?[]:!1;f=0;for(e=a.length;f<e;f++){h=a[f]||{};g=h instanceof z?l=h:h[u.prototype.idAttribute||"id"];if(g=this.get(g))P&&(y[g.cid]=!0),s&&(h=h===l?l.attributes:h,b.parse&&(h=g.parse(h,b)),g.set(h,b),m&&!n&&g.hasChanged(t)&&(n=!0)),a[f]=g;else if(C){l=a[f]=this._prepareModel(h,b);if(!l)continue;r.push(l);this._addReference(l,b)}l=g||l;!J||!l.isNew()&&y[l.id]||J.push(l);y[l.id]=!0}if(P){f=0;for(e=this.length;f<e;++f)y[(l=this.models[f]).cid]||
p.push(l);p.length&&this.remove(p,b)}if(r.length||J&&J.length)if(m&&(n=!0),this.length+=r.length,null!=q)for(f=0,e=r.length;f<e;f++)this.models.splice(q+f,0,r[f]);else for(J&&(this.models.length=0),h=J||r,f=0,e=h.length;f<e;f++)this.models.push(h[f]);n&&this.sort({silent:!0});if(!b.silent){f=0;for(e=r.length;f<e;f++)(l=r[f]).trigger("add",l,this,b);(n||J&&J.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,f=this.models.length;d<f;d++)this._removeReference(this.models[d],
b);b.previousModels=this.models;this._reset();a=this.add(a,c.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return m.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||
this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");a||(a={});c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,
this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":"set"](c,a);b&&b(d,c,a);d.trigger("sync",d,c,a)};Z(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,f=b.success;b.success=function(a,c){b.wait&&d.add(a,
b);f&&f(a,c,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof z)return a;b=b?c.clone(b):{};b.collection=this;var d=new this.model(a,b);if(!d.validationError)return d;this.trigger("invalid",this,d.validationError,b);return!1},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.collection||(a.collection=
this);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments)}});c.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample".split(" "),
function(a){s.prototype[a]=function(){var b=m.call(arguments);b.unshift(this.models);return c[a].apply(c,b)}});c.each(["groupBy","countBy","sortBy","indexBy"],function(a){s.prototype[a]=function(b,d){var f=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,f,d)}});e=b.View=function(a){this.cid=c.uniqueId("view");a||(a={});c.extend(this,c.pick(a,u));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var r=/^(\S+)\s*(.*)$/,u="model collection el id attributes className tagName events".split(" ");
c.extend(e.prototype,d,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(a,c){this.$el&&this.undelegateEvents();this.$el=a instanceof b.$?a:b.$(a);this.el=this.$el[0];!1!==c&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];c.isFunction(d)||
(d=this[a[b]]);if(d){var f=b.match(r),e=f[1],f=f[2],d=c.bind(d,this),e=e+(".delegateEvents"+this.cid);if(""===f)this.$el.on(e,d);else this.$el.on(e,f,d)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id"));this.className&&(a["class"]=c.result(this,"className"));a=b.$("<"+c.result(this,"tagName")+
">").attr(a);this.setElement(a,!1)}}});b.sync=function(a,d,f){var e=C[a];c.defaults(f||(f={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var h={type:e,dataType:"json"};f.url||(h.url=c.result(d,"url")||ca());null!=f.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(h.contentType="application/json",h.data=JSON.stringify(f.attrs||d.toJSON(f)));f.emulateJSON&&(h.contentType="application/x-www-form-urlencoded",h.data=h.data?{model:h.data}:{});if(f.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===
e)){h.type="POST";f.emulateJSON&&(h.data._method=e);var g=f.beforeSend;f.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(g)return g.apply(this,arguments)}}"GET"===h.type||f.emulateJSON||(h.processData=!1);"PATCH"===h.type&&n&&(h.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=f.xhr=b.ajax(c.extend(h,f));d.trigger("request",d,a,f);return a};var n="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),
C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var I=b.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,H=/(\(\?)?:\w+/g,p=/\*\w+/g,G=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(I.prototype,d,{initialize:function(){},route:function(a,d,f){c.isRegExp(a)||(a=this._routeToRegExp(a));c.isFunction(d)&&(f=d,d="");f||(f=this[d]);var e=this;b.history.route(a,
function(c){c=e._extractParameters(a,c);e.execute(f,c);e.trigger.apply(e,["route:"+d].concat(c));e.trigger("route",d,c);b.history.trigger("route",e,d,c)});return this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){b.history.navigate(a,c);return this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(G,"\\$&").replace(L,"(?:$1)?").replace(H,
function(a,b){return b?a:"([^/?]+)"}).replace(p,"([^?]*?)");return RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var P=b.History=function(){this.handlers=[];c.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},Q=/^[#\/]|\s+$/g,U=/^\/+|\/+$/g,D=/msie [\w.]+/,J=/\/$/,N=/#.*$/;P.started=!1;c.extend(P.prototype,
d,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(J,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(Q,"")},start:function(a){if(P.started)throw Error("Backbone.history has already been started");
P.started=!0;this.options=c.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var d=document.documentMode,d=D.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(U,"/");d&&this._wantsHashChange&&(this.iframe=b.$('<iframe src="javascript:0" tabindex="-1">').hide().appendTo("body")[0].contentWindow,
this.navigate(a));if(this._hasPushState)b.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in window&&!d)b.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&
this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(Q,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);P.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));
if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=this.fragment=this.getFragment(a);return c.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!P.started)return!1;b&&!0!==b||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));a=a.replace(N,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},
document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});b.history=new P;z.extend=s.extend=I.extend=e.extend=P.extend=function(a,
b){var d=this,f;f=a&&c.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)};c.extend(f,d,b);var e=function(){this.constructor=f};e.prototype=d.prototype;f.prototype=new e;a&&c.extend(f.prototype,a);f.__super__=d.prototype;return f};var ca=function(){throw Error('A "url" property or function must be specified');},Z=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return b});Backbone.Validation=function(a){var b={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},c={formatLabel:function(a,c){return q[b.labelFormatter](a,c)},format:function(){var a=Array.prototype.slice.call(arguments);return a.shift().replace(/\{(\d+)\}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}},e=function(b,c,d){return c=c||{},d=d||"",a.each(b,function(a,f){b.hasOwnProperty(f)&&(!a||"object"!=typeof a||a instanceof Array||
a instanceof Date||a instanceof RegExp||a instanceof Backbone.Model||a instanceof Backbone.Collection?c[d+f]=a:e(a,c,d+f+"."))}),c},h=function(){var d=function(b){return a.reduce(a.keys(b.validation||{}),function(a,b){return a[b]=void 0,a},{})},f=function(b,c){var d=b.validation?b.validation[c]||{}:{};return(a.isFunction(d)||a.isString(d))&&(d={fn:d}),a.isArray(d)||(d=[d]),a.reduce(d,function(b,c){return a.each(a.without(a.keys(c),"msg"),function(a){b.push({fn:t[a],val:c[a],msg:c.msg})}),b},[])},
h=function(b,d,e,h){return a.reduce(f(b,d),function(f,n){var q=a.extend({},c,t),q=n.fn.call(q,e,d,n.val,b,h);return!1===q||!1===f?!1:q&&!f?n.msg||q:f},"")},q=function(b,c){var d,f={},n=!0,q=a.clone(c),u=e(c);return a.each(u,function(a,c){(d=h(b,c,a,q))&&(f[c]=d,n=!1)}),{invalidAttrs:f,isValid:n}},r=function(b,c){return{preValidate:function(b,c){return h(this,b,c,a.extend({},this.attributes))},isValid:function(b){var c=e(this.attributes);return a.isString(b)?!h(this,b,c[b],a.extend({},this.attributes)):
a.isArray(b)?a.reduce(b,function(b,d){return b&&!h(this,d,c[d],a.extend({},this.attributes))},!0,this):(!0===b&&this.validate(),this.validation?this._isValid:!0)},validate:function(f,h){var n=this,u=!f,m=a.extend({},c,h),t=d(n),r=a.extend({},t,n.attributes,f),C=e(f||r),s=q(n,r);return n._isValid=s.isValid,a.each(t,function(a,c){s.invalidAttrs.hasOwnProperty(c)||m.valid(b,c,m.selector)}),a.each(t,function(a,c){var d=s.invalidAttrs.hasOwnProperty(c),f=C.hasOwnProperty(c);d&&(f||u)&&m.invalid(b,c,s.invalidAttrs[c],
m.selector)}),a.defer(function(){n.trigger("validated",n._isValid,n,s.invalidAttrs);n.trigger("validated:"+(n._isValid?"valid":"invalid"),n,s.invalidAttrs)}),!m.forceUpdate&&0<a.intersection(a.keys(s.invalidAttrs),a.keys(C)).length?s.invalidAttrs:void 0}}},u=function(a){delete a.validate;delete a.preValidate;delete a.isValid},n=function(b){a.extend(b,r(this.view,this.options))},C=function(a){u(a)};return{version:"0.8.1",configure:function(c){a.extend(b,c)},bind:function(c,d){var f=c.model,e=c.collection;
if(d=a.extend({},b,m,d),"undefined"==typeof f&&"undefined"==typeof e)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";f?a.extend(f,r(c,d)):e&&(e.each(function(b){a.extend(b,r(c,d))}),e.bind("add",n,{view:c,options:d}),e.bind("remove",C))},unbind:function(a){var b=a.collection;a.model&&u(a.model);b&&(b.each(function(a){u(a)}),b.unbind("add",n),b.unbind("remove",
C))},mixin:r(null,b)}}(),m=h.callbacks={valid:function(a,b,c){a.$("["+c+'~="'+b+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(a,b,c,d){a.$("["+d+'~="'+b+'"]').addClass("invalid").attr("data-error",c)}},d=h.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,
url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},
f=h.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",pattern:"{0} must be a valid {1}"},q=
h.labelFormatters={none:function(a){return a},sentenceCase:function(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return 0===b?a.toUpperCase():" "+a.toLowerCase()}).replace(/_/g," ")},label:function(a,b){return b.labels&&b.labels[a]||q.sentenceCase(a,b)}},t=h.validators=function(){var b=String.prototype.trim?function(a){return null===a?"":String.prototype.trim.call(a)}:function(a){var b=/^\s+/,c=/\s+$/;return null===a?"":a.toString().replace(b,"").replace(c,"")},c=function(b){return a.isNumber(b)||
a.isString(b)&&b.match(d.number)},e=function(c){return!(a.isNull(c)||a.isUndefined(c)||a.isString(c)&&""===b(c)||a.isArray(c)&&a.isEmpty(c))};return{fn:function(b,c,d,f,e){return a.isString(d)&&(d=f[d]),d.call(f,b,c,e)},required:function(b,c,d,h,q){return(d=a.isFunction(d)?d.call(h,b,c,q):d)||e(b)?d&&!e(b)?this.format(f.required,this.formatLabel(c,h)):void 0:!1},acceptance:function(b,c,d,e){return"true"===b||a.isBoolean(b)&&!1!==b?void 0:this.format(f.acceptance,this.formatLabel(c,e))},min:function(a,
b,d,e){return!c(a)||d>a?this.format(f.min,this.formatLabel(b,e),d):void 0},max:function(a,b,d,e){return!c(a)||a>d?this.format(f.max,this.formatLabel(b,e),d):void 0},range:function(a,b,d,e){return!c(a)||a<d[0]||a>d[1]?this.format(f.range,this.formatLabel(b,e),d[0],d[1]):void 0},length:function(a,c,d,h){return e(a)&&b(a).length===d?void 0:this.format(f.length,this.formatLabel(c,h),d)},minLength:function(a,c,d,h){return!e(a)||b(a).length<d?this.format(f.minLength,this.formatLabel(c,h),d):void 0},maxLength:function(a,
c,d,h){return!e(a)||b(a).length>d?this.format(f.maxLength,this.formatLabel(c,h),d):void 0},rangeLength:function(a,c,d,h){return!e(a)||b(a).length<d[0]||b(a).length>d[1]?this.format(f.rangeLength,this.formatLabel(c,h),d[0],d[1]):void 0},oneOf:function(b,c,d,e){return a.include(d,b)?void 0:this.format(f.oneOf,this.formatLabel(c,e),d.join(", "))},equalTo:function(a,b,c,d,e){return a!==e[c]?this.format(f.equalTo,this.formatLabel(b,d),this.formatLabel(c,d)):void 0},pattern:function(a,b,c,h){return e(a)&&
a.toString().match(d[c]||c)?void 0:this.format(f.pattern,this.formatLabel(b,h),c)}}}();return h}(_);Backbone.ModalView=Backbone.View.extend({name:"ModalView",modalBlanket:null,modalContainer:null,defaultOptions:{fadeInDuration:150,fadeOutDuration:150,showCloseButton:!0,bodyOverflowHidden:!1,setFocusOnFirstFormControl:!0,targetContainer:document.body,slideFromAbove:!1,slideFromBelow:!1,slideDistance:150,closeImageUrl:"img/close-modal.png",closeImageHoverUrl:"img/close-modal-hover.png",showModalAtScrollPosition:!0,permanentlyVisible:!1,backgroundClickClosesModal:!0,pressingEscapeClosesModal:!0,preventClose:!1,
css:{border:"2px solid #111","background-color":"#fff","-webkit-box-shadow":"0px 0px 15px 4px rgba(0, 0, 0, 0.5)","-moz-box-shadow":"0px 0px 15px 4px rgba(0, 0, 0, 0.5)","box-shadow":"0px 0px 15px 4px rgba(0, 0, 0, 0.5)","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"}},initialize:function(){},events:{},showModalBlanket:function(){return this.ensureModalBlanket().fadeIn(this.options.fadeInDuration)},hideModalBlanket:function(){return this.modalBlanket.fadeOut(this.options.fadeOutDuration)},
ensureModalContainer:function(a){null!=a&&null!=this.modalContainer&&(this.modalContainer.remove(),this.modalContainer=null);null==this.modalContainer&&(this.modalContainer=$("<div id='modalContainer'>").css({"z-index":"99999",position:"relative","-webkit-border-radius":"6px","-moz-border-radius":"6px","border-radius":"6px"}).appendTo(a));return this.modalContainer},ensureModalBlanket:function(){this.modalBlanket=$("#modal-blanket");0==this.modalBlanket.length?this.modalBlanket=$("<div id='modal-blanket'>").css({position:"absolute",
top:0,left:0,height:$(document).height(),width:"100%",opacity:0.5,backgroundColor:"#000","z-index":99900}).appendTo(document.body).hide():this.modalBlanket.css({height:$(document).height(),width:"100%"});return this.modalBlanket},keyup:function(a){27==a.keyCode&&this.options.pressingEscapeClosesModal&&this.hideModal()},click:function(a){"modal-blanket"==a.target.id&&this.options.backgroundClickClosesModal&&this.hideModal()},setFocusOnFirstFormControl:function(){var a=$("input, select, email, url, number, range, date, month, week, time, datetime, datetime-local, search, color",
$(this.el));0<a.length&&$(a[0]).focus()},hideModal:function(){if(!this.options.preventClose){this.trigger("closeModalWindow");this.hideModalBlanket();$(document.body).unbind("keyup",this.keyup);this.modalBlanket.unbind("click",this.click);!0===this.options.bodyOverflowHidden&&$(document.body).css("overflow",this.originalBodyOverflowValue);var a=this.modalContainer;$(this.modalContainer).fadeOut(this.options.fadeOutDuration,function(){a.remove()});$("#modalCloseButton").remove();this.stopListening();
this.unbind();this.remove()}},getCoordinate:function(a,b){if("undefined"!==typeof b[a]){var c=b[a];delete b[a];return c}},recenter:function(){return this.recentre()},recentre:function(){var a=$(this.el);this.getCoordinate("top",this.options.css);this.getCoordinate("left",this.options.css);this.getCoordinate("right",this.options.css);this.getCoordinate("bottom",this.options.css);var b=this.getOffsets(),c=$(window).height()/2,e=$(window).width()/2,h=this.modalContainer,c=c-a.outerHeight()/2;h.css({top:c+
b.y+"px"});a=e-a.outerWidth()/2;h.css({left:a+b.x+"px"});return this},getOffsets:function(){var a=0,b=0;this.options.showModalAtScrollPosition&&(a=$(document).scrollTop(),b=$(document).scrollLeft());return{x:b,y:a}},showModal:function(a){this.defaultOptions.targetContainer=document.body;this.options=$.extend(!0,{},this.defaultOptions,a,this.options);this.options.permanentlyVisible&&(this.options.showCloseButton=!1,this.options.backgroundClickClosesModal=!1,this.options.pressingEscapeClosesModal=!1);
var b=$(this.el),c=$(window).height()/2,e=$(window).width()/2;a=this.ensureModalContainer(this.options.targetContainer).empty();b.addClass("modal");var h={top:this.getCoordinate("top",this.options.css),left:this.getCoordinate("left",this.options.css),right:this.getCoordinate("right",this.options.css),bottom:this.getCoordinate("bottom",this.options.css),isEmpty:function(){return null==this.top&&null==this.left&&null==this.right&&null==this.bottom}};b.css(this.options.css);this.showModalBlanket();this.keyup=
_.bind(this.keyup,this);this.click=_.bind(this.click,this);$(document.body).keyup(this.keyup);this.modalBlanket.click(this.click);!0===this.options.bodyOverflowHidden&&(this.originalBodyOverflowValue=$(document.body).css("overflow"),$(document.body).css("overflow","hidden"));a.append(b);a.css({opacity:0,position:"absolute","z-index":999999});var m=this.getOffsets();h.isEmpty()?(c-=b.outerHeight()/2,10>c&&(c=10),c="undefined"!==typeof this.options.y?this.options.y:c+m.y,a.css({top:c+"px"}),b=e-b.outerWidth()/
2,b="undefined"!==typeof this.options.x?this.options.x:b+m.x,a.css({left:b+"px"})):(null!=h.top&&a.css({top:h.top+m.y}),null!=h.left&&a.css({left:h.left+m.x}),null!=h.right&&a.css({right:h.right}),null!=h.bottom&&a.css({bottom:h.bottom}));this.options.setFocusOnFirstFormControl&&this.setFocusOnFirstFormControl();if(this.options.showCloseButton){var d=this;$("<a href='#' id='modalCloseButton'>&#160;</a>").css({position:"absolute",top:"-10px",right:"-10px",width:"32px",height:"32px",background:"transparent url("+
d.options.closeImageUrl+") top left no-repeat","text-decoration":"none"}).appendTo(this.modalContainer).hover(function(){$(this).css("background","transparent url("+d.options.closeImageHoverUrl+") top left no-repeat")},function(){$(this).css("background","transparent url("+d.options.closeImageUrl+") top left no-repeat")}).click(function(a){a.preventDefault();d.hideModal()})}m={opacity:1};b=a.offset();this.options.slideFromAbove&&(a.css({top:b.top-this.options.slideDistance+"px"}),m.top=h.top);this.options.slideFromBelow&&
(a.css({top:b.top+this.options.slideDistance+"px"}),m.top=h.top);this.modalContainer.animate(m,this.options.fadeInDuration);return this}});(function(a){function b(a,b){return function(c){return q(a.call(this,c),b)}}function c(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function e(){}function h(a){C(a);d(this,a)}function m(a){a=y(a);var b=a.year||0,c=a.month||0,d=a.week||0,g=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+g+7*d;this._months=+c+12*b;this._data={};this._bubble()}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&
(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function f(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a,b,c){for(var d=Math.abs(a)+"";d.length<b;)d="0"+d;return(0<=a?c?"+":"":"-")+d}function t(a,b,c,d){var g,f,e=b._milliseconds,k=b._days;b=b._months;e&&a._d.setTime(+a._d+e*c);(k||b)&&(g=a.minute(),f=a.hour());k&&a.date(a.date()+k*c);b&&a.month(a.month()+b*c);e&&!d&&A.updateOffset(a);(k||b)&&(a.minute(g),a.hour(f))}function z(a){return"[object Array]"===Object.prototype.toString.call(a)}
function s(a,b,c){var d,g=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),e=0;for(d=0;g>d;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&e++;return e+f}function w(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=jb[a]||cb[b]||b}return a}function y(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=w(c),b&&(d[b]=a[c]));return d}function r(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12;d="month"}A[b]=function(g,f){var e,k,l=A.fn._lang[b],h=[];
if("number"==typeof g&&(f=g,g=a),k=function(a){a=A().utc().set(d,a);return l.call(A.fn._lang,a,g||"")},null!=f)return k(f);for(e=0;c>e;e++)h.push(k(e));return h}}function u(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=0<=a?Math.floor(a):Math.ceil(a)),b}function n(a){return 0===a%4&&0!==a%100||0===a%400}function C(a){var b;a._a&&-2===a._pf.overflow&&(b=0>a._a[pa]||11<a._a[pa]?pa:1>a._a[ia]||a._a[ia]>(new Date(Date.UTC(a._a[ha],a._a[pa]+1,0))).getUTCDate()?ia:0>a._a[F]||23<a._a[F]?F:0>a._a[k]||59<
a._a[k]?k:0>a._a[ua]||59<a._a[ua]?ua:0>a._a[va]||999<a._a[va]?va:-1,a._pf._overflowDayOfYear&&(ha>b||b>ia)&&(b=ia),a._pf.overflow=b)}function I(a){a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function L(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=
a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function H(a){return a?a.toLowerCase().replace("_","-"):a}function p(a,b){return b._isUTC?A(a).zone(b._offset||0):A(a).local()}function G(a){var b,c,d,g,f=0,e=function(a){if(!la[a]&&gb)try{require("./lang/"+a)}catch(b){}return la[a]};if(!a)return A.fn._lang;if(!z(a)){if(c=e(a))return c;a=[a]}for(;f<a.length;){g=H(a[f]).split("-");b=g.length;for(d=(d=H(a[f+1]))?d.split("-"):null;0<b;){if(c=e(g.slice(0,b).join("-")))return c;
if(d&&d.length>=b&&s(g,d,!0)>=b-1)break;b--}f++}return A.fn._lang}function P(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Q(a){var b,c,d=a.match(Za);b=0;for(c=d.length;c>b;b++)d[b]=oa[d[b]]?oa[d[b]]:P(d[b]);return function(g){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(g,a):d[b];return f}}function U(a,b){return a.isValid()?(b=D(b,a.lang()),Va[b]||(Va[b]=Q(b)),Va[b](a)):a.lang().invalidDate()}function D(a,b){function c(a){return b.longDateFormat(a)||
a}var d=5;for(fa.lastIndex=0;0<=d&&fa.test(a);)a=a.replace(fa,c),fa.lastIndex=0,d-=1;return a}function J(a,b){var c=b._strict;switch(a){case "DDDD":return Ga;case "YYYY":case "GGGG":case "gggg":return c?sa:rb;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return c?Da:sb;case "S":if(c)return bb;case "SS":if(c)return ab;case "SSS":case "DDD":return c?Ga:qb;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return $a;case "a":case "A":return G(b._l)._meridiemParse;case "X":return ib;case "Z":case "ZZ":return ya;
case "T":return ka;case "SSSS":return qa;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return c?ab:M;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return c?bb:M;default:var c=RegExp,d;d=T(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new c(d)}}function N(a){a=(a||"").match(ya)||[];a=((a[a.length-1]||[])+"").match(tb)||["-",0,0];var b=+(60*a[1])+u(a[2]);return"+"===
a[0]?-b:b}function ca(a){var b,c,d,g,f,e,l,h,q,m=[];if(!a._d){c=Z(a);a._w&&null==a._a[ia]&&null==a._a[pa]&&(g=function(b){var c=parseInt(b,10);return b?3>b.length?68<c?1900+c:2E3+c:c:null==a._a[ha]?A().weekYear():a._a[ha]},f=a._w,null!=f.GG||null!=f.W||null!=f.E?e=v(g(f.GG),f.W||1,f.E,4,1):(l=G(a._l),h=null!=f.d?S(f.d,l):null!=f.e?parseInt(f.e,10)+l._week.dow:0,q=parseInt(f.w,10)||1,null!=f.d&&h<l._week.dow&&q++,e=v(g(f.gg),q,h,l._week.doy,l._week.dow)),a._a[ha]=e.year,a._dayOfYear=e.dayOfYear);a._dayOfYear&&
(d=null==a._a[ha]?c[ha]:a._a[ha],a._dayOfYear>(n(d)?366:365)&&(a._pf._overflowDayOfYear=!0),b=da(d,0,a._dayOfYear),a._a[pa]=b.getUTCMonth(),a._a[ia]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=m[b]=c[b];for(;7>b;b++)a._a[b]=m[b]=null==a._a[b]?2===b?1:0:a._a[b];m[F]+=u((a._tzm||0)/60);m[k]+=u((a._tzm||0)%60);a._d=(a._useUTC?da:W).apply(null,m)}}function Z(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function O(a){a._a=
[];a._pf.empty=!0;var b,c,d,g,f;b=G(a._l);var e=""+a._i,l=e.length,h=0;d=D(a._f,b).match(Za)||[];for(b=0;b<d.length;b++)if(g=d[b],(c=(e.match(J(g,a))||[])[0])&&(f=e.substr(0,e.indexOf(c)),0<f.length&&a._pf.unusedInput.push(f),e=e.slice(e.indexOf(c)+c.length),h+=c.length),oa[g]){c?a._pf.empty=!1:a._pf.unusedTokens.push(g);var n=a,q=void 0,m=n._a;switch(g){case "M":case "MM":null!=c&&(m[pa]=u(c)-1);break;case "MMM":case "MMMM":q=G(n._l).monthsParse(c);null!=q?m[pa]=q:n._pf.invalidMonth=c;break;case "D":case "DD":null!=
c&&(m[ia]=u(c));break;case "DDD":case "DDDD":null!=c&&(n._dayOfYear=u(c));break;case "YY":m[ha]=u(c)+(68<u(c)?1900:2E3);break;case "YYYY":case "YYYYY":case "YYYYYY":m[ha]=u(c);break;case "a":case "A":n._isPm=G(n._l).isPM(c);break;case "H":case "HH":case "h":case "hh":m[F]=u(c);break;case "m":case "mm":m[k]=u(c);break;case "s":case "ss":m[ua]=u(c);break;case "S":case "SS":case "SSS":case "SSSS":m[va]=u(1E3*("0."+c));break;case "X":n._d=new Date(1E3*parseFloat(c));break;case "Z":case "ZZ":n._useUTC=
!0;n._tzm=N(c);break;case "w":case "ww":case "W":case "WW":case "d":case "dd":case "ddd":case "dddd":case "e":case "E":g=g.substr(0,1);case "gg":case "gggg":case "GG":case "GGGG":case "GGGGG":g=g.substr(0,2),c&&(n._w=n._w||{},n._w[g]=c)}}else a._strict&&!c&&a._pf.unusedTokens.push(g);a._pf.charsLeftOver=l-h;0<e.length&&a._pf.unusedInput.push(e);a._isPm&&12>a._a[F]&&(a._a[F]+=12);!1===a._isPm&&12===a._a[F]&&(a._a[F]=0);ca(a);C(a)}function T(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,
function(a,b,c,d,g){return b||c||d||g})}function W(a,b,c,d,g,f,e){b=new Date(a,b,c,d,g,f,e);return 1970>a&&b.setFullYear(a),b}function da(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function S(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function g(a,b,c,d,g){return g.relativeTime(b||1,!!c,a,d)}function l(a,b,c){var d;b=c-b;c-=a.day();return c>b&&(c-=7),b-7>c&&(c+=7),d=A(a).add("d",
c),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function v(a,b,c,d,g){var f,e,k=(new Date(q(a,6,!0)+"-01-01")).getUTCDay();return c=null!=c?c:g,f=g-k+(k>d?7:0),e=7*(b-1)+(c-g)+f+1,{year:0<e?a:a-1,dayOfYear:0<e?e:(n(a-1)?366:365)+e}}function R(b){var c=b._i,g=b._f;"undefined"==typeof b._pf&&I(b);if(null===c)b=A.invalid({nullInput:!0});else{"string"==typeof c&&(b._i=c=G().preparse(c));if(A.isMoment(c))b=d({},c),b._d=new Date(+c._d);else if(g)if(z(g)){var f=b,e,k,l;if(0===f._f.length)f._pf.invalidFormat=
!0,f._d=new Date(0/0);else{for(c=0;c<f._f.length;c++)g=0,e=d({},f),I(e),e._f=f._f[c],O(e),L(e)&&(g+=e._pf.charsLeftOver,g+=10*e._pf.unusedTokens.length,e._pf.score=g,(null==l||l>g)&&(l=g,k=e));d(f,k||e)}}else O(b);else if(e=b,k=e._i,l=ja.exec(k),k===a)e._d=new Date;else if(l)e._d=new Date(+l[1]);else if("string"==typeof k)if(l=e._i,f=wa.exec(l)){e._pf.iso=!0;for(k=4;0<k;k--)if(f[k]){e._f=Ra[k-1]+(f[6]||" ");break}for(k=0;4>k;k++)if(Ka[k][1].exec(l)){e._f+=Ka[k][0];break}l.match(ya)&&(e._f+="Z");O(e)}else e._d=
new Date(l);else z(k)?(e._a=k.slice(0),ca(e)):"[object Date]"===Object.prototype.toString.call(k)||k instanceof Date?e._d=new Date(+k):"object"==typeof k?e._d||(f=y(e._i),e._a=[f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond],ca(e)):e._d=new Date(k);b=new h(b)}return b}function K(a,b){A.fn[a]=A.fn[a+"s"]=function(a){var c=this._isUTC?"UTC":"";return null!=a?(this._d["set"+c+b](a),A.updateOffset(this),this):this._d["get"+c+b]()}}function aa(a){A.duration.fn[a]=function(){return this._data[a]}}
function V(a,b){A.duration.fn["as"+a]=function(){return+this/b}}function ga(a){var b=!1,c=A;"undefined"==typeof ender&&(a?(ta.moment=function(){return!b&&console&&console.warn&&(b=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),c.apply(null,arguments)},d(ta.moment,c)):ta.moment=A)}for(var A,Y,ta=this,na=Math.round,ha=0,pa=1,ia=2,F=3,k=4,ua=5,va=6,la={},gb="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,
ja=/^\/?Date\((\-?\d+)/i,hb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,xa=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Za=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,fa=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,M=/\d\d?/,qb=/\d{1,3}/,rb=/\d{1,4}/,sb=/[+\-]?\d{1,6}/,qa=/\d+/,$a=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
ya=/Z|[\+\-]\d\d:?\d\d/gi,ka=/T/i,ib=/[\+\-]?\d+(\.\d{1,3})?/,bb=/\d/,ab=/\d\d/,Ga=/\d{3}/,sa=/\d{4}/,Da=/[+\-]?\d{6}/,wa=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ra=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Ka=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],tb=/([\+\-]|\d\d)/gi,Ua=["Date","Hours","Minutes","Seconds","Milliseconds"],
La={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},jb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},cb={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Va={},Wa="DDD w W M D d".split(" "),Ma="MDHhmswW".split(""),oa={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,
a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return q(this.year()%100,2)},YYYY:function(){return q(this.year(),4)},YYYYY:function(){return q(this.year(),
5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":"-")+q(Math.abs(a),6)},gg:function(){return q(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return q(this.weekYear(),5)},GG:function(){return q(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return q(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},
A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return u(this.milliseconds()/100)},SS:function(){return q(u(this.milliseconds()/10),2)},SSS:function(){return q(this.milliseconds(),3)},SSSS:function(){return q(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+q(u(a/60),2)+":"+
q(u(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+q(u(a/60),2)+q(u(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Xa=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Wa.length;)Y=Wa.pop(),oa[Y+"o"]=c(oa[Y],Y);for(;Ma.length;)Y=Ma.pop(),oa[Y+Y]=b(oa[Y],2);oa.DDDD=b(oa.DDD,3);d(e.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?
this[c]=b:this["_"+c]=b},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;this._monthsParse||(this._monthsParse=[]);for(b=0;12>b;b++)if(this._monthsParse[b]||(c=A.utc([2E3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,
""),this._monthsParse[b]=RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;this._weekdaysParse||
(this._weekdaysParse=[]);for(b=0;7>b;b++)if(this._weekdaysParse[b]||(c=A([2E3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,
function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",
s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var g=this._relativeTime[c];return"function"==typeof g?g(a,b,c,d):g.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[0<a?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return l(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});A=function(b,c,d,g){return"boolean"==typeof d&&(g=d,d=a),R({_i:b,_f:c,_l:d,_strict:g,_isUTC:!1})};A.utc=function(b,c,d,g){return"boolean"==typeof d&&(g=d,d=a),R({_useUTC:!0,_isUTC:!0,_l:d,_i:b,_f:c,_strict:g}).utc()};A.unix=function(a){return A(1E3*a)};A.duration=function(a,b){var c,d,g,f=a,e=null;return A.isDuration(a)?f={ms:a._milliseconds,
d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(e=hb.exec(a))?(c="-"===e[1]?-1:1,f={y:0,d:u(e[ia])*c,h:u(e[F])*c,m:u(e[k])*c,s:u(e[ua])*c,ms:u(e[va])*c}):(e=xa.exec(a))&&(c="-"===e[1]?-1:1,g=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*c},f={y:g(e[2]),M:g(e[3]),d:g(e[4]),h:g(e[5]),m:g(e[6]),s:g(e[7]),w:g(e[8])}),d=new m(f),A.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d};A.version="2.5.0";A.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";A.updateOffset=
function(){};A.lang=function(a,b){var c,d;a?(b?(d=H(a),b.abbr=d,la[d]||(la[d]=new e),la[d].set(b)):null===b?(delete la[a],a="en"):la[a]||G(a),d=(c=A.duration.fn._lang=A.fn._lang=G(a),c._abbr)):d=A.fn._lang._abbr;return d};A.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),G(a)};A.isMoment=function(a){return a instanceof h};A.isDuration=function(a){return a instanceof m};for(Y=Xa.length-1;0<=Y;--Y)r(Xa[Y]);A.normalizeUnits=function(a){return w(a)};A.invalid=function(a){var b=
A.utc(0/0);return null!=a?d(b._pf,a):b._pf.userInvalidated=!0,b};A.parseZone=function(a){return A(a).parseZone()};d(A.fn=h.prototype,{clone:function(){return A(this)},valueOf:function(){return+this._d+6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=A(this).utc();return 0<a.year()&&9999>=a.year()?
U(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return L(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<s(this._a,(this._isUTC?A.utc(this._a):A(this._a)).toArray()):!1},parsingFlags:function(){return d({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),
this._isUTC=!1,this},format:function(a){a=U(this,a||A.defaultFormat);return this.lang().postformat(a)},add:function(a,b){var c;return c="string"==typeof a?A.duration(+b,a):A.duration(a,b),t(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?A.duration(+b,a):A.duration(a,b),t(this,c,-1),this},diff:function(a,b,c){var d,g;a=p(a,this);var e=6E4*(this.zone()-a.zone());return b=w(b),"year"===b||"month"===b?(d=432E5*(this.daysInMonth()+a.daysInMonth()),g=12*(this.year()-a.year())+
(this.month()-a.month()),g+=(this-A(this).startOf("month")-(a-A(a).startOf("month")))/d,g-=6E4*(this.zone()-A(this).startOf("month").zone()-(a.zone()-A(a).startOf("month").zone()))/d,"year"===b&&(g/=12)):(d=this-a,g="second"===b?d/1E3:"minute"===b?d/6E4:"hour"===b?d/36E5:"day"===b?(d-e)/864E5:"week"===b?(d-e)/6048E5:d),c?g:f(g)},from:function(a,b){return A.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(A(),a)},calendar:function(){var a=p(A(),this).startOf("day"),
a=this.diff(a,"days",!0),a=-6>a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse";return this.format(this.lang().calendar(a,this))},isLeapYear:function(){return n(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=S(a,this.lang()),this.add({d:a-b})):b},month:function(a){var b,c=this._isUTC?"UTC":
"";return null!=a?"string"==typeof a&&(a=this.lang().monthsParse(a),"number"!=typeof a)?this:(b=this.date(),this.date(1),this._d["set"+c+"Month"](a),this.date(Math.min(b,this.daysInMonth())),A.updateOffset(this),this):this._d["get"+c+"Month"]()},startOf:function(a){switch(a=w(a)){case "year":this.month(0);case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a?this.weekday(0):
"isoWeek"===a&&this.isoWeekday(1),this},endOf:function(a){return a=w(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+A(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+A(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+p(a,this).startOf(b)},min:function(a){return a=A.apply(null,arguments),this>
a?this:a},max:function(a){return a=A.apply(null,arguments),a>this?this:a},zone:function(a){var b=this._offset||0;return null==a?this._isUTC?b:this._d.getTimezoneOffset():("string"==typeof a&&(a=N(a)),16>Math.abs(a)&&(a*=60),this._offset=a,this._isUTC=!0,b!==a&&t(this,A.duration(b-a,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&
this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?A(a).zone():0,0===(this.zone()-a)%60},daysInMonth:function(){var a=this.year(),b=this.month();return(new Date(Date.UTC(a,b+1,0))).getUTCDate()},dayOfYear:function(a){var b=na((A(this).startOf("day")-A(this).startOf("year"))/864E5)+1;return null==a?b:this.add("d",a-b)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(a){var b=l(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",
a-b)},isoWeekYear:function(a){var b=l(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=l(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},get:function(a){return a=w(a),this[a]()},set:function(a,b){return a=
w(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=G(b),this)}});for(Y=0;Y<Ua.length;Y++)K(Ua[Y].toLowerCase().replace(/s$/,""),Ua[Y]);K("year","FullYear");A.fn.days=A.fn.day;A.fn.months=A.fn.month;A.fn.weeks=A.fn.week;A.fn.isoWeeks=A.fn.isoWeek;A.fn.toJSON=A.fn.toISOString;d(A.duration.fn=m.prototype,{_bubble:function(){var a,b;a=this._milliseconds;b=this._days;var c=this._months,d=this._data;d.milliseconds=a%1E3;a=f(a/1E3);d.seconds=a%60;a=f(a/
60);d.minutes=a%60;a=f(a/60);d.hours=a%24;b+=f(a/24);d.days=b%30;c+=f(b/30);d.months=c%12;b=f(c/12);d.years=b},weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*u(this._months/12)},humanize:function(a){var b=+this,c;c=!a;var d=this.lang(),f=na(Math.abs(b)/1E3),e=na(f/60),k=na(e/60),l=na(k/24),h=na(l/365),f=45>f&&["s",f]||1===e&&["m"]||45>e&&["mm",e]||1===k&&["h"]||22>k&&["hh",k]||1===l&&["d"]||25>=l&&["dd",l]||45>=
l&&["M"]||345>l&&["MM",na(l/30)]||1===h&&["y"]||["yy",h];c=(f[2]=c,f[3]=0<b,f[4]=d,g.apply({},f));return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=A.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=A.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=w(a),this[a.toLowerCase()+
"s"]()},as:function(a){return a=w(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:A.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),g=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||g||f?"T":"")+(d?d+"H":"")+(g?g+"M":"")+(f?f+"S":""):"P0D"}});for(Y in La)La.hasOwnProperty(Y)&&
(V(Y,La[Y]),aa(Y.toLowerCase()));V("Weeks",6048E5);A.duration.fn.asMonths=function(){return(+this-31536E6*this.years())/2592E6+12*this.years()};A.lang("en",{ordinal:function(a){var b=a%10,b=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});gb?(module.exports=A,ga(!0)):"function"==typeof define&&define.amd?define("moment",function(b,c,d){return d.config&&d.config()&&!0!==d.config().noGlobal&&ga(d.config().noGlobal===a),A}):ga()}).call(this);(function(){var a,b;b="undefined"===typeof require||null===require||require.amd?this.moment:require("moment");a=function(){function a(c,h){this.start=b(c);this.end=b(h)}a.prototype.contains=function(a){return this.start<=a&&a<=this.end};a.prototype._by_string=function(a,c){var m,d;m=b(this.start);for(d=[];this.contains(m);)c.call(this,m.clone()),d.push(m.add(a,1));return d};a.prototype._by_range=function(a,c){var m,d,f,q;d=Math.round(this/a);if(Infinity===d)return this;q=[];for(m=f=0;0<=d?f<=d:f>=
d;m=0<=d?++f:--f)q.push(c.call(this,b(this.start.valueOf()+a.valueOf()*m)));return q};a.prototype.overlaps=function(a){return this.start<a.end&&this.end>a.start};a.prototype.by=function(a,b){"string"===typeof a?this._by_string(a,b):this._by_range(a,b);return this};a.prototype.valueOf=function(){return this.end-this.start};return a}();b.fn.range=function(b,e){return new a(b,e)};b.fn.within=function(a){return a.contains(this._d)};null!=("undefined"!==typeof module&&null!==module?module.exports:void 0)&&
(module.exports=b)}).call(this);Date.DAYS="Sun Mon Tue Wed Thu Fri Sat".split(" ");Date.MONTHS="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");Date.DAYS_PER_MONTH=[31,29,31,30,31,30,31,31,30,31,30,31];Date.MILLI_SECS_PER_HOUR=36E5;Date.prototype.daysPerMonth=function(){var a=this.getMonth();return 1==a&&this.isLeapYear()?29:Date.DAYS_PER_MONTH[a]};Date.prototype.isLeapYear=function(){return 1==(new Date(this.getFullYear(),1,29)).getMonth()};Date.prototype.addHours=function(a){return new Date(this.getTime()+a*Date.MILLI_SECS_PER_HOUR)};
Date.prototype.addDays=function(a){return new Date(this.getTime()+24*a*Date.MILLI_SECS_PER_HOUR)};Date.prototype.addWeeks=function(a){return new Date(this.getTime()+168*a*Date.MILLI_SECS_PER_HOUR)};Date.prototype.addMonths=function(a){var b=new Date(this);b.setMonth(this.getMonth()+a);return b};Date.prototype.addYears=function(a){var b=new Date(this);b.setYear(this.getFullYear()+a);return b};Date.prototype.between=function(a,b){return this>=a&&this<=b};
Date.prototype.overlap=function(a,b,c,e){return a.between(c,e)||b.between(c,e)||c.between(a,b)||e.between(a,b)?!0:!1};Date.prototype.MySQLDateTojsDate=function(a){a=a.replace(/^([0-9]{2,4})-([0-1][0-9])-([0-3][0-9]) (?:([0-2][0-9]):([0-5][0-9]):([0-5][0-9]))?$/,"$1 $2 $3 $4 $5 $6").split(" ");return new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5])};Date.prototype.toMySQLDate=function(){return this.getFullYear()+"-"+(this.getMonth()+1)+"-"+this.getDate()+" "+this.getHours()+":"+this.getMinutes()+":"+this.getSeconds()};
Date.prototype.getMonthName=function(){return Date.MONTHS[this.getMonth()]};Date.prototype.getDayName=function(){return Date.DAYS[this.getDay()]};Date.prototype.format=function(a){return $.datepicker.formatDate(a,this)};Date.prototype.UTCSeconds=function(){x.getTime();x.getTimezoneOffset()};(function(a,b){function c(b,c){var h,m,z,s=b.nodeName.toLowerCase();return"area"===s?(h=b.parentNode,m=h.name,b.href&&m&&"map"===h.nodeName.toLowerCase()?(z=a("img[usemap=#"+m+"]")[0],!!z&&e(z)):!1):(/input|select|textarea|button|object/.test(s)?!b.disabled:"a"===s?b.href||c:c)&&e(b)}function e(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var h=0,m=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(b){return function(c,e){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();e&&e.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length){var f,
e;for(c=a(this[0]);c.length&&c[0]!==document;){if(f=c.css("position"),("absolute"===f||"relative"===f||"fixed"===f)&&(e=parseInt(c.css("zIndex"),10),!isNaN(e)&&0!==e))return e;c=c.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++h)})},removeUniqueId:function(){return this.each(function(){m.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):
function(b,c,e){return!!a.data(b,e[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var f=a.attr(b,"tabindex"),e=isNaN(f);return(e||0<=f)&&c(b,!e)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,f){function e(b,c,d,f){return a.each(h,function(){c-=parseFloat(a.css(b,"padding"+this))||0;d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0);f&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var h="Width"===f?["Left","Right"]:["Top","Bottom"],
m=f.toLowerCase(),s={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+f]=function(c){return c===b?s["inner"+f].call(this):this.each(function(){a(this).css(m,e(this,c)+"px")})};a.fn["outer"+f]=function(b,c){return"number"!=typeof b?s["outer"+f].call(this,b):this.each(function(){a(this).css(m,e(this,b,!0,c)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
a.extend(a.ui,{plugin:{add:function(b,c,e){var h;b=a.ui[b].prototype;for(h in e)b.plugins[h]=b.plugins[h]||[],b.plugins[h].push([c,e[h]])},call:function(a,b,c){var e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;e.length>b;b++)a.options[e[b][0]]&&e[b][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var e=c&&"left"===c?"scrollLeft":"scrollTop",h=!1;return 0<b[e]?!0:(b[e]=1,h=0<b[e],b[e]=0,h)}})})(jQuery);
(function(a,b){var c=0,e=Array.prototype.slice,h=a.cleanData;a.cleanData=function(b){for(var c,f=0;null!=(c=b[f]);f++)try{a(c).triggerHandler("remove")}catch(e){}h(b)};a.widget=function(c,d,f){var e,h,z,s,w={},y=c.split(".")[0];c=c.split(".")[1];e=y+"-"+c;f||(f=d,d=a.Widget);a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)};a[y]=a[y]||{};h=a[y][c];z=a[y][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new z(a,c)};a.extend(z,h,{version:f.version,
_proto:a.extend({},f),_childConstructors:[]});s=new d;s.options=a.widget.extend({},s.options);a.each(f,function(c,f){return a.isFunction(f)?(w[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,e=this._superApply;return this._super=a,this._superApply=b,c=f.apply(this,arguments),this._super=d,this._superApply=e,c}}(),b):(w[c]=f,b)});z.prototype=a.widget.extend(s,{widgetEventPrefix:h?s.widgetEventPrefix||
c:c},w,{constructor:z,namespace:y,widgetName:c,widgetFullName:e});h?(a.each(h._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,z,c._proto)}),delete h._childConstructors):d._childConstructors.push(z);a.widget.bridge(c,z)};a.widget.extend=function(c){for(var d,f,h=e.call(arguments,1),t=0,z=h.length;z>t;t++)for(d in h[t])f=h[t][d],h[t].hasOwnProperty(d)&&f!==b&&(c[d]=a.isPlainObject(f)?a.isPlainObject(c[d])?a.widget.extend({},c[d],f):a.widget.extend({},f):f);return c};
a.widget.bridge=function(c,d){var f=d.prototype.widgetFullName||c;a.fn[c]=function(h){var t="string"==typeof h,z=e.call(arguments,1),s=this;return h=!t&&z.length?a.widget.extend.apply(null,[h].concat(z)):h,t?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[h])&&"_"!==h.charAt(0)?(d=e[h].apply(e,z),d!==e&&d!==b?(s=d&&d.jquery?s.pushStack(d.get()):d,!1):b):a.error("no such method '"+h+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+
h+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(h||{})._init():a.data(this,f,new d(h,this))}),s}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);
this.bindings=a();this.hoverable=a();this.focusable=a();d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var f,e,h,z=c;
if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(z={},f=c.split("."),c=f.shift(),f.length){e=z[c]=a.widget.extend({},this.options[c]);for(h=0;f.length-1>h;h++)e[f[h]]=e[f[h]]||{},e=e[f[h]];if(c=f.pop(),1===arguments.length)return e[c]===b?null:e[c];e[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];z[c]=d}return this._setOptions(z),this},_setOptions:function(a){for(var b in a)this._setOption(b,a[b]);return this},_setOption:function(a,
b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,f){var e,h=this;"boolean"!=typeof c&&(f=d,d=c,c=!1);f?(d=e=a(d),this.bindings=this.bindings.add(d)):(f=d,d=this.element,e=
this.widget());a.each(f,function(f,s){function w(){return c||!0!==h.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof s?h[s]:s).apply(h,arguments):b}"string"!=typeof s&&(w.guid=s.guid=s.guid||w.guid||a.guid++);var y=f.match(/^(\w+)\s*(.*)$/),r=y[1]+h.eventNamespace;(y=y[2])?e.delegate(y,r,w):d.bind(r,w)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(b).undelegate(b)},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"==
typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,f){var e,
h=this.options[b];if(f=f||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],b=c.originalEvent)for(e in b)e in c||(c[e]=b[e]);return this.element.trigger(c,f),!(a.isFunction(h)&&!1===h.apply(this.element[0],[c].concat(f))||c.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(f,e,h){"string"==typeof e&&(e={effect:e});var z,s=e?!0===e||"number"==typeof e?c:e.effect||c:b;e=e||
{};"number"==typeof e&&(e={duration:e});z=!a.isEmptyObject(e);e.complete=h;e.delay&&f.delay(e.delay);z&&a.effects&&a.effects.effect[s]?f[b](e):s!==b&&f[s]?f[s](e.duration,e.easing,h):f.queue(function(c){a(this)[b]();h&&h.call(f[0]);c()})}})})(jQuery);
(function(a){var b=!1;a(document).mouseup(function(){b=!1});a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(e){return!0===a.data(e.target,b.widgetName+".preventClickEvent")?(a.removeData(e.target,b.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var e=this,h=1===c.which,m="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return h&&!m&&this._mouseCapture(c)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return e._mouseMove(a)},this._mouseUpDelegate=function(a){return e._mouseUp(a)},
a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),
!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,b){function c(a,b,c){return[parseFloat(a[0])*(w.test(a[0])?b/100:1),parseFloat(a[1])*(w.test(a[1])?c/100:1)]}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var h,m=Math.max,d=Math.abs,f=
Math.round,q=/left|center|right/,t=/top|center|bottom/,z=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,w=/%$/,y=a.fn.position;a.position={scrollbarWidth:function(){if(h!==b)return h;var c,d,f=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),e=f.children()[0];return a("body").append(f),c=e.offsetWidth,f.css("overflow","scroll"),d=e.offsetWidth,c===d&&(d=f[0].clientWidth),f.remove(),h=c-d},getScrollInfo:function(b){var c=
b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var c=a.isWindow(b[0]);return{element:b,isWindow:c,isDocument:!!b[0]&&9===b[0].nodeType,offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),
scrollTop:b.scrollTop(),width:c?b.width():b.outerWidth(),height:c?b.height():b.outerHeight()}}};a.fn.position=function(b){if(!b||!b.of)return y.apply(this,arguments);b=a.extend({},b);var h,n,C,w,L,H,p=a(b.of),G=a.position.getWithinInfo(b.within),P=a.position.getScrollInfo(G),Q=(b.collision||"flip").split(" "),U={};return H=e(p),p[0].preventDefault&&(b.at="left top"),n=H.width,C=H.height,w=H.offset,L=a.extend({},w),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=q.test(d[0])?
d.concat(["center"]):t.test(d[0])?["center"].concat(d):["center","center"]);d[0]=q.test(d[0])?d[0]:"center";d[1]=t.test(d[1])?d[1]:"center";a=z.exec(d[0]);c=z.exec(d[1]);U[this]=[a?a[0]:0,c?c[0]:0];b[this]=[s.exec(d[0])[0],s.exec(d[1])[0]]}),1===Q.length&&(Q[1]=Q[0]),"right"===b.at[0]?L.left+=n:"center"===b.at[0]&&(L.left+=n/2),"bottom"===b.at[1]?L.top+=C:"center"===b.at[1]&&(L.top+=C/2),h=c(U.at,n,C),L.left+=h[0],L.top+=h[1],this.each(function(){var e,q,t=a(this),z=t.outerWidth(),s=t.outerHeight(),
y=parseInt(a.css(this,"marginLeft"),10)||0,H=parseInt(a.css(this,"marginTop"),10)||0,W=z+y+(parseInt(a.css(this,"marginRight"),10)||0)+P.width,da=s+H+(parseInt(a.css(this,"marginBottom"),10)||0)+P.height,S=a.extend({},L),g=c(U.my,t.outerWidth(),t.outerHeight());"right"===b.my[0]?S.left-=z:"center"===b.my[0]&&(S.left-=z/2);"bottom"===b.my[1]?S.top-=s:"center"===b.my[1]&&(S.top-=s/2);S.left+=g[0];S.top+=g[1];a.support.offsetFractions||(S.left=f(S.left),S.top=f(S.top));e={marginLeft:y,marginTop:H};a.each(["left",
"top"],function(c,d){a.ui.position[Q[c]]&&a.ui.position[Q[c]][d](S,{targetWidth:n,targetHeight:C,elemWidth:z,elemHeight:s,collisionPosition:e,collisionWidth:W,collisionHeight:da,offset:[h[0]+g[0],h[1]+g[1]],my:b.my,at:b.at,within:G,elem:t})});b.using&&(q=function(a){var c=w.left-S.left,g=c+n-z,f=w.top-S.top,e=f+C-s,h={target:{element:p,left:w.left,top:w.top,width:n,height:C},element:{element:t,left:S.left,top:S.top,width:z,height:s},horizontal:0>g?"left":0<c?"right":"center",vertical:0>e?"top":0<
f?"bottom":"middle"};z>n&&n>d(c+g)&&(h.horizontal="center");s>C&&C>d(f+e)&&(h.vertical="middle");h.important=m(d(c),d(g))>m(d(f),d(e))?"horizontal":"vertical";b.using.call(this,a,h)});t.offset(a.extend(S,{using:q}))})};a.ui.position={fit:{left:function(a,b){var c,d=b.within,f=d.isWindow?d.scrollLeft:d.offset.left,d=d.width,e=a.left-b.collisionPosition.marginLeft,h=f-e,q=e+b.collisionWidth-d-f;b.collisionWidth>d?0<h&&0>=q?(c=a.left+h+b.collisionWidth-d-f,a.left+=h-c):a.left=0<q&&0>=h?f:h>q?f+d-b.collisionWidth:
f:0<h?a.left+=h:0<q?a.left-=q:a.left=m(a.left-e,a.left)},top:function(a,b){var c,d=b.within,d=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,e=a.top-b.collisionPosition.marginTop,h=d-e,q=e+b.collisionHeight-f-d;b.collisionHeight>f?0<h&&0>=q?(c=a.top+h+b.collisionHeight-f-d,a.top+=h-c):a.top=0<q&&0>=h?d:h>q?d+f-b.collisionHeight:d:0<h?a.top+=h:0<q?a.top-=q:a.top=m(a.top-e,a.top)}},flip:{left:function(a,b){var c,f,e=b.within,h=e.offset.left+e.scrollLeft,q=e.width,e=e.isWindow?e.scrollLeft:e.offset.left,
m=a.left-b.collisionPosition.marginLeft,t=m-e,m=m+b.collisionWidth-q-e,z="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,s="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,y=-2*b.offset[0];0>t?(c=a.left+z+s+y+b.collisionWidth-q-h,(0>c||d(t)>c)&&(a.left+=z+s+y)):0<m&&(f=a.left-b.collisionPosition.marginLeft+z+s+y-e,(0<f||m>d(f))&&(a.left+=z+s+y))},top:function(a,b){var c,f,e=b.within,h=e.offset.top+e.scrollTop,q=e.height,e=e.isWindow?e.scrollTop:e.offset.top,m=a.top-
b.collisionPosition.marginTop,t=m-e,m=m+b.collisionHeight-q-e,z="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,s="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,y=-2*b.offset[1];0>t?(f=a.top+z+s+y+b.collisionHeight-q-h,a.top+z+s+y>t&&(0>f||d(t)>f)&&(a.top+=z+s+y)):0<m&&(c=a.top-b.collisionPosition.marginTop+z+s+y-e,a.top+z+s+y>m&&(0<c||m>d(c))&&(a.top+=z+s+y))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,d,f,e=document.getElementsByTagName("body")[0];d=document.createElement("div");b=document.createElement(e?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};e&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in c)b.style[f]=c[f];b.appendChild(d);c=e||document.documentElement;c.insertBefore(b,c.firstChild);
d.style.cssText="position: absolute; left: 10.7432222px;";d=a(d).offset().left;a.support.offsetFractions=10<d&&11>d;b.innerHTML="";c.removeChild(b)})()})(jQuery);
(function(a){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,e,h=this.element[0].nodeName.toLowerCase(),m="textarea"===h,h="input"===h;this.isMultiLine=m?!0:h?!1:this.element.prop("isContentEditable");this.valueMethod=
this.element[m||h?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(d){if(this.element.prop("readOnly"))return b=!0,e=!0,c=!0,void 0;c=e=b=!1;var f=a.ui.keyCode;switch(d.keyCode){case f.PAGE_UP:b=!0;this._move("previousPage",d);break;case f.PAGE_DOWN:b=!0;this._move("nextPage",d);break;case f.UP:b=!0;this._keyEvent("previous",d);break;case f.DOWN:b=!0;this._keyEvent("next",d);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&
(b=!0,d.preventDefault(),this.menu.select(d));break;case f.TAB:this.menu.active&&this.menu.select(d);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(d),d.preventDefault());break;default:c=!0,this._searchTimeout(d)}},keypress:function(d){if(b)return b=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault(),void 0;if(!c){var f=a.ui.keyCode;switch(d.keyCode){case f.PAGE_UP:this._move("previousPage",d);break;case f.PAGE_DOWN:this._move("nextPage",
d);break;case f.UP:this._keyEvent("previous",d);break;case f.DOWN:this._keyEvent("next",d)}}},input:function(a){return e?(e=!1,a.preventDefault(),void 0):(this._searchTimeout(a),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(a),this._change(a),void 0)}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu");
this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),
this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)}),void 0;var e=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:e})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(e.value):this.liveRegion.text(e.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),e=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=e,this._delay(function(){this.previous=e;this.selectedItem=c}));
!1!==this._trigger("select",a,{item:c})&&this._value(c.value);this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},
_setOption:function(a,c){this._super(a,c);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&c&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,e=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,e){e(a.ui.autocomplete.filter(b,
c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,m){e.xhr&&e.xhr.abort();e.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){m(a)},error:function(){m([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,c){return a=null!=a?a:this._value(),this.term=this._value(),
a.length<this.options.minLength?this.close(c):!1!==this._trigger("search",c)?this._search(a):void 0},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",
null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,
function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b);this.isNewMenu=!0;this.menu.refresh();c.show();this._resizeMenu();c.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,
c){var e=this;a.each(c,function(a,c){e._renderItemData(b,c)})},_renderItemData:function(a,c){return this._renderItem(a,c).data("ui-autocomplete-item",c)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,c){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),this.menu.blur(),void 0):(this.menu[a](c),void 0):(this.search(null,c),void 0)},widget:function(){return this.menu.element},
_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,c){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(a,c),c.preventDefault())}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var e=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return e.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",
results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var c;this._superApply(arguments);this.options.disabled||this.cancelSearch||(c=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(c))}})})(jQuery);
(function(a,b){function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=e(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function e(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(m.inline?b.parent()[0]:m.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function h(b,c){a.extend(b,c);for(var e in c)null==c[e]&&(b[e]=c[e]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var m;a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return h(this._defaults,a||{}),this},_attachDatepicker:function(b,
c){var e,h,m;e=b.nodeName.toLowerCase();h="div"===e||"span"===e;b.id||(this.uuid+=1,b.id="dp"+this.uuid);m=this._newInst(a(b),h);m.settings=a.extend({},c||{});"input"===e?this._connectDatepicker(b,m):h&&this._inlineDatepicker(b,m)},_newInst:function(b,c){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?e(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,c){var e=a(b);c.append=a([]);c.trigger=a([]);e.hasClass(this.markerClassName)||(this._attachments(e,c),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var e,h,m;e=this._get(c,"appendText");var s=this._get(c,"isRTL");c.append&&c.append.remove();e&&(c.append=a("<span class='"+this._appendClass+
"'>"+e+"</span>"),b[s?"before":"after"](c.append));b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();e=this._get(c,"showOn");"focus"!==e&&"both"!==e||b.focus(this._showDatepicker);"button"!==e&&"both"!==e||(h=this._get(c,"buttonText"),m=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:m,alt:h,title:h}):a("<button type='button'></button>").addClass(this._triggerClass).html(m?a("<img/>").attr({src:m,alt:h,title:h}):
h)),b[s?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,e,h,m=new Date(2009,11,20),w=this._get(a,"dateFormat");w.match(/[DM]/)&&(b=function(a){for(h=
e=c=0;a.length>h;h++)a[h].length>c&&(c=a[h].length,e=h);return e},m.setMonth(b(this._get(a,w.match(/MM/)?"monthNames":"monthNamesShort"))),m.setDate(b(this._get(a,w.match(/DD/)?"dayNames":"dayNamesShort"))+20-m.getDay()));a.input.attr("size",this._formatDate(a,m).length)}},_inlineDatepicker:function(b,c){var e=a(b);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),
c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,e,m,z){var s,w,y,r,u;b=this._dialogInst;return b||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b)),h(b.settings,
m||{}),c=c&&c.constructor===Date?this._formatDate(b,c):c,this._dialogInput.val(c),this._pos=z?z.length?z:[z.pageX,z.pageY]:null,this._pos||(w=document.documentElement.clientWidth,y=document.documentElement.clientHeight,r=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[w/2-100+r,y/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=e,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var c,e=a(b),h=a.data(b,"datepicker");e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(h.append.remove(),h.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===c||"span"===c)&&e.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,e,h=a(b),m=a.data(b,"datepicker");h.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,m.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(e=h.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,e,h=a(b),m=a.data(b,"datepicker");h.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,m.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(e=h.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(c,e,q){var m,z,s,w,y=this._getInst(c);return 2===arguments.length&&"string"==
typeof e?"defaults"===e?a.extend({},a.datepicker._defaults):y?"all"===e?a.extend({},y.settings):this._get(y,e):null:(m=e||{},"string"==typeof e&&(m={},m[e]=q),y&&(this._curInst===y&&this._hideDatepicker(),z=this._getDateDatepicker(c,!0),s=this._getMinMaxDate(y,"min"),w=this._getMinMaxDate(y,"max"),h(y.settings,m),null!==s&&m.dateFormat!==b&&m.minDate===b&&(y.settings.minDate=this._formatDate(y,s)),null!==w&&m.dateFormat!==b&&m.maxDate===b&&(y.settings.maxDate=this._formatDate(y,w)),"disabled"in m&&
(m.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),y),this._autoSize(y),this._setDate(y,z),this._updateAlternate(y),this._updateDatepicker(y)),b)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=
this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,e,h,m=a.datepicker._getInst(b.target),s=!0,w=m.dpDiv.is(".ui-datepicker-rtl");if(m._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();s=!1;break;case 13:return h=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",m.dpDiv),h[0]&&a.datepicker._selectDay(b.target,m.selectedMonth,m.selectedYear,h[0]),c=a.datepicker._get(m,
"onSelect"),c?(e=a.datepicker._formatDate(m),c.apply(m.input?m.input[0]:null,[e,m])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(m,"stepBigMonths"):-a.datepicker._get(m,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(m,"stepBigMonths"):+a.datepicker._get(m,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
s=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);s=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,w?1:-1,"D");s=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(m,"stepBigMonths"):-a.datepicker._get(m,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");s=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,w?-1:1,"D");s=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(m,"stepBigMonths"):+a.datepicker._get(m,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");s=b.ctrlKey||b.metaKey;break;default:s=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):s=!1;s&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var e,h,m=a.datepicker._getInst(c.target);
return a.datepicker._get(m,"constrainInput")?(e=a.datepicker._possibleChars(a.datepicker._get(m,"dateFormat")),h=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">h||!e||-1<e.indexOf(h)):b},_doKeyUp:function(b){var c;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(c=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,e,m,z,s,w;c=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));e=(e=a.datepicker._get(c,"beforeShow"))?
e.apply(b,[b,c]):{};!1!==e&&(h(c.settings,e),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),m=!1,a(b).parents().each(function(){return m|="fixed"===a(this).css("position"),!m}),z={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(c),z=a.datepicker._checkOffset(c,z,m),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":m?"fixed":"absolute",display:"none",left:z.left+"px",top:z.top+"px"}),c.inline||(s=a.datepicker._get(c,"showAnim"),w=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[s]?c.dpDiv.show(s,a.datepicker._get(c,"showOptions"),w):c.dpDiv[s||"show"](s?w:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),
a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4;m=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,e=this._getNumberOfMonths(b),h=e[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<h&&b.dpDiv.addClass("ui-datepicker-multi-"+h).css("width",17*h+"em");b.dpDiv[(1!==e[0]||1!==e[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,e){var h=b.dpDiv.outerWidth(),
m=b.dpDiv.outerHeight(),s=b.input?b.input.outerWidth():0,w=b.input?b.input.outerHeight():0,y=document.documentElement.clientWidth+(e?0:a(document).scrollLeft()),r=document.documentElement.clientHeight+(e?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?h-s:0,c.left-=e&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=e&&c.top===b.input.offset().top+w?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+h>y&&y>h?Math.abs(c.left+h-y):0),c.top-=Math.min(c.top,c.top+
m>r&&r>m?Math.abs(m+w):0),c},_findPos:function(b){for(var c,e=this._getInst(b),e=this._get(e,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,e,h,m,s=this._curInst;!s||b&&s!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(s,"showAnim"),e=this._get(s,"duration"),h=function(){a.datepicker._tidyDialog(s)},a.effects&&(a.effects.effect[c]||a.effects[c])?
s.dpDiv.hide(c,a.datepicker._get(s,"showOptions"),e,h):s.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?e:null,h),c||h(),this._datepickerShowing=!1,m=this._get(s,"onClose"),m&&m.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var c=a.datepicker._getInst(b[0]);(b[0].id!==a.datepicker._mainDivId&&0===b.parents("#"+a.datepicker._mainDivId).length&&!(b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==c)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,e){b=a(b);var h=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(h,c+("M"===e?this._get(h,"showCurrentAtPos"):0),e),this._updateDatepicker(h))},_gotoToday:function(b){var c;b=a(b);var e=this._getInst(b[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear());this._notifyChange(e);
this._adjustDate(b)},_selectMonthYear:function(b,c,e){b=a(b);var h=this._getInst(b[0]);h["selected"+("M"===e?"Month":"Year")]=h["draw"+("M"===e?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(h);this._adjustDate(b)},_selectDay:function(b,c,e,h){var m,s=a(b);a(h).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(m=this._getInst(s[0]),m.selectedDay=m.currentDay=a("a",h).html(),m.selectedMonth=m.currentMonth=c,m.selectedYear=m.currentYear=e,this._selectDate(b,
this._formatDate(m,m.currentDay,m.currentMonth,m.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,c){var e;e=a(b);var h=this._getInst(e[0]);c=null!=c?c:this._formatDate(h);h.input&&h.input.val(c);this._updateAlternate(h);(e=this._get(h,"onSelect"))?e.apply(h.input?h.input[0]:null,[c,h]):h.input&&h.input.trigger("change");h.inline?this._updateDatepicker(h):(this._hideDatepicker(),this._lastInput=h.input[0],"object"!=typeof h.input[0]&&h.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var c,e,h,m=this._get(b,"altField");m&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),e=this._getDate(b),h=this.formatDate(c,e,this._getFormatConfig(b)),a(m).each(function(){a(this).val(h)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(c,e,
h){if(null==c||null==e)throw"Invalid arguments";if(e="object"==typeof e?""+e:e+"",""===e)return null;var m,z,s,w,y=0,r=(h?h.shortYearCutoff:null)||this._defaults.shortYearCutoff,r="string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10),u=(h?h.dayNamesShort:null)||this._defaults.dayNamesShort,n=(h?h.dayNames:null)||this._defaults.dayNames,C=(h?h.monthNamesShort:null)||this._defaults.monthNamesShort;h=(h?h.monthNames:null)||this._defaults.monthNames;var I=-1,L=-1,H=-1,p=-1,G=!1,P=function(a){a=
c.length>m+1&&c.charAt(m+1)===a;return a&&m++,a},Q=function(a){var b=P(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=e.substring(y).match(a);if(!a)throw"Missing number at position "+y;return y+=a[0].length,parseInt(a[0],10)},U=function(c,d,h){var n=-1;c=a.map(P(c)?h:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(c,function(a,c){var d=c[1];return e.substr(y,d.length).toLowerCase()===d.toLowerCase()?(n=c[0],y+=d.length,
!1):b}),-1!==n)return n+1;throw"Unknown name at position "+y;},D=function(){if(e.charAt(y)!==c.charAt(m))throw"Unexpected literal at position "+y;y++};for(m=0;c.length>m;m++)if(G)"'"!==c.charAt(m)||P("'")?D():G=!1;else switch(c.charAt(m)){case "d":H=Q("d");break;case "D":U("D",u,n);break;case "o":p=Q("o");break;case "m":L=Q("m");break;case "M":L=U("M",C,h);break;case "y":I=Q("y");break;case "@":w=new Date(Q("@"));I=w.getFullYear();L=w.getMonth()+1;H=w.getDate();break;case "!":w=new Date((Q("!")-this._ticksTo1970)/
1E4);I=w.getFullYear();L=w.getMonth()+1;H=w.getDate();break;case "'":P("'")?D():G=!0;break;default:D()}if(e.length>y&&(s=e.substr(y),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===I?I=(new Date).getFullYear():100>I&&(I+=(new Date).getFullYear()-(new Date).getFullYear()%100+(r>=I?0:-100)),-1<p)for(L=1,H=p;!(z=this._getDaysInMonth(I,L-1),z>=H);)L++,H-=z;if(w=this._daylightSavingAdjust(new Date(I,L-1,H)),w.getFullYear()!==I||w.getMonth()+1!==L||w.getDate()!==H)throw"Invalid date";
return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var e,h=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,m=(c?c.dayNames:null)||this._defaults.dayNames,w=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;
c=(c?c.monthNames:null)||this._defaults.monthNames;var y=function(b){b=a.length>e+1&&a.charAt(e+1)===b;return b&&e++,b},r=function(a,b,c){b=""+b;if(y(a))for(;c>b.length;)b="0"+b;return b},u=function(a,b,c,d){return y(a)?d[b]:c[b]},n="",C=!1;if(b)for(e=0;a.length>e;e++)if(C)"'"!==a.charAt(e)||y("'")?n+=a.charAt(e):C=!1;else switch(a.charAt(e)){case "d":n+=r("d",b.getDate(),2);break;case "D":n+=u("D",b.getDay(),h,m);break;case "o":n+=r("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-
(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":n+=r("m",b.getMonth()+1,2);break;case "M":n+=u("M",b.getMonth(),w,c);break;case "y":n+=y("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":n+=b.getTime();break;case "!":n+=1E4*b.getTime()+this._ticksTo1970;break;case "'":y("'")?n+="'":C=!0;break;default:n+=a.charAt(e)}return n},_possibleChars:function(a){var b,c="",e=!1,h=function(c){c=a.length>b+1&&a.charAt(b+1)===c;return c&&b++,c};for(b=0;a.length>
b;b++)if(e)"'"!==a.charAt(b)||h("'")?c+=a.charAt(b):e=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":h("'")?c+="'":e=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,h=this._getDefaultDate(a),m=h,w=this._getFormatConfig(a);
try{m=this.parseDate(c,e,w)||h}catch(y){e=b?"":e}a.selectedDay=m.getDate();a.drawMonth=a.selectedMonth=m.getMonth();a.drawYear=a.selectedYear=m.getFullYear();a.currentDay=e?m.getDate():0;a.currentMonth=e?m.getMonth():0;a.currentYear=e?m.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,e){var h=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},m=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,
"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(e){}for(var f=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,h=f.getFullYear(),m=f.getMonth(),f=f.getDate(),n=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,q=n.exec(c);q;){switch(q[2]||"d"){case "d":case "D":f+=parseInt(q[1],10);break;case "w":case "W":f+=7*parseInt(q[1],10);break;case "m":case "M":m+=parseInt(q[1],10);f=Math.min(f,a.datepicker._getDaysInMonth(h,m));break;case "y":case "Y":h+=parseInt(q[1],10),f=Math.min(f,a.datepicker._getDaysInMonth(h,
m))}q=n.exec(c)}return new Date(h,m,f)};c=null==c||""===c?e:"string"==typeof c?m(c):"number"==typeof c?isNaN(c)?e:h(c):new Date(c.getTime());return c=c&&"Invalid Date"==""+c?e:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var e=!b,h=a.selectedMonth,m=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));
a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();h===a.selectedMonth&&m===a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),
e="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(e,-c,"M")},next:function(){a.datepicker._adjustDate(e,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(e)},selectDay:function(){return a.datepicker._selectDay(e,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(e,
this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(e,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,e,h,m,w,y,r,u,n,C,I,L,H,p,G,P,Q,U,D,J,N,ca,Z,O,T,W,da=new Date,da=this._daylightSavingAdjust(new Date(da.getFullYear(),da.getMonth(),da.getDate())),S=this._get(a,"isRTL");w=this._get(a,"showButtonPanel");e=this._get(a,"hideIfNoPrevNext");m=this._get(a,"navigationAsDateFormat");var g=this._getNumberOfMonths(a),l=this._get(a,"showCurrentAtPos");
h=this._get(a,"stepMonths");var v=1!==g[0]||1!==g[1],R=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(a,"min"),aa=this._getMinMaxDate(a,"max"),l=a.drawMonth-l,V=a.drawYear;if(0>l&&(l+=12,V--),aa)for(b=this._daylightSavingAdjust(new Date(aa.getFullYear(),aa.getMonth()-g[0]*g[1]+1,aa.getDate())),b=K&&K>b?K:b;this._daylightSavingAdjust(new Date(V,l,1))>b;)l--,0>l&&(l=11,V--);a.drawMonth=l;a.drawYear=V;b=this._get(a,
"prevText");b=m?this.formatDate(b,this._daylightSavingAdjust(new Date(V,l-h,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,V,l)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(S?"e":"w")+"'>"+b+"</span></a>":e?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(S?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");
c=m?this.formatDate(c,this._daylightSavingAdjust(new Date(V,l+h,1)),this._getFormatConfig(a)):c;e=this._canAdjustMonth(a,1,V,l)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(S?"w":"e")+"'>"+c+"</span></a>":e?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(S?"w":"e")+"'>"+c+"</span></a>";h=this._get(a,"currentText");c=this._get(a,
"gotoCurrent")&&a.currentDay?R:da;h=m?this.formatDate(h,c,this._getFormatConfig(a)):h;m=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";w=w?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(S?m:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
h+"</button>":"")+(S?"":m)+"</div>":"";m=parseInt(this._get(a,"firstDay"),10);m=isNaN(m)?0:m;h=this._get(a,"showWeek");c=this._get(a,"dayNames");y=this._get(a,"dayNamesMin");r=this._get(a,"monthNames");u=this._get(a,"monthNamesShort");n=this._get(a,"beforeShowDay");C=this._get(a,"showOtherMonths");I=this._get(a,"selectOtherMonths");L=this._getDefaultDate(a);H="";for(G=0;g[0]>G;G++){P="";this.maxRows=4;for(Q=0;g[1]>Q;Q++){if(U=this._daylightSavingAdjust(new Date(V,l,a.selectedDay)),p=" ui-corner-all",
D="",v){if(D+="<div class='ui-datepicker-group",1<g[1])switch(Q){case 0:D+=" ui-datepicker-group-first";p=" ui-corner-"+(S?"right":"left");break;case g[1]-1:D+=" ui-datepicker-group-last";p=" ui-corner-"+(S?"left":"right");break;default:D+=" ui-datepicker-group-middle",p=""}D+="'>"}D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+p+"'>"+(/all|left/.test(p)&&0===G?S?e:b:"")+(/all|right/.test(p)&&0===G?S?b:e:"")+this._generateMonthYearHeader(a,l,V,K,aa,0<G||0<Q,r,u)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
J=h?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(p=0;7>p;p++)N=(p+m)%7,J+="<th"+(5<=(p+m+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[N]+"'>"+y[N]+"</span></th>";D+=J+"</tr></thead><tbody>";J=this._getDaysInMonth(V,l);V===a.selectedYear&&l===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,J));p=(this._getFirstDayOfMonth(V,l)-m+7)%7;J=Math.ceil((p+J)/7);this.maxRows=J=v?this.maxRows>J?this.maxRows:J:J;N=this._daylightSavingAdjust(new Date(V,
l,1-p));for(ca=0;J>ca;ca++){D+="<tr>";Z=h?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(N)+"</td>":"";for(p=0;7>p;p++)O=n?n.apply(a.input?a.input[0]:null,[N]):[!0,""],W=(T=N.getMonth()!==l)&&!I||!O[0]||K&&K>N||aa&&N>aa,Z+="<td class='"+(5<=(p+m+6)%7?" ui-datepicker-week-end":"")+(T?" ui-datepicker-other-month":"")+(N.getTime()===U.getTime()&&l===a.selectedMonth&&a._keyEvent||L.getTime()===N.getTime()&&L.getTime()===U.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+
" ui-state-disabled":"")+(T&&!C?"":" "+O[1]+(N.getTime()===R.getTime()?" "+this._currentClass:"")+(N.getTime()===da.getTime()?" ui-datepicker-today":""))+"'"+(T&&!C||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(T&&!C?"&#xa0;":W?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===da.getTime()?" ui-state-highlight":"")+(N.getTime()===
R.getTime()?" ui-state-active":"")+(T?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);D+=Z+"</tr>"}l++;11<l&&(l=0,V++);D+="</tbody></table>"+(v?"</div>"+(0<g[0]&&Q===g[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");P+=D}H+=P}return H+=w,a._keyEvent=!1,H},_generateMonthYearHeader:function(a,b,c,e,h,m,w,y){var r,u,n,C=this._get(a,"changeMonth"),I=this._get(a,"changeYear"),L=this._get(a,"showMonthAfterYear"),
H="<div class='ui-datepicker-title'>",p="";if(m||!C)p+="<span class='ui-datepicker-month'>"+w[b]+"</span>";else{w=e&&e.getFullYear()===c;r=h&&h.getFullYear()===c;p+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(u=0;12>u;u++)(!w||u>=e.getMonth())&&(!r||h.getMonth()>=u)&&(p+="<option value='"+u+"'"+(u===b?" selected='selected'":"")+">"+y[u]+"</option>");p+="</select>"}if(L||(H+=p+(!m&&C&&I?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",m||!I)H+="<span class='ui-datepicker-year'>"+
c+"</span>";else{y=this._get(a,"yearRange").split(":");n=(new Date).getFullYear();w=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?n+parseInt(a,10):parseInt(a,10);return isNaN(a)?n:a};b=w(y[0]);y=Math.max(b,w(y[1]||""));b=e?Math.max(b,e.getFullYear()):b;y=h?Math.min(y,h.getFullYear()):y;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";y>=b;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";H+=a.yearshtml;a.yearshtml=null}return H+=this._get(a,"yearSuffix"),L&&(H+=(!m&&C&&I?"":"&#xa0;")+p),H+="</div>"},_adjustInstDate:function(a,b,c){var e=a.drawYear+("Y"===c?b:0),h=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,h))+("D"===c?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,h,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();"M"!==
c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),e=this._getMinMaxDate(a,"max"),c=c&&c>b?c:b;return e&&c>e?e:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var h=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(0>b?b:h[0]*h[1]),1));return 0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(a,c)},_isInRange:function(a,b){var c,e,h=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),w=null,y=null,r=
this._get(a,"yearRange");return r&&(c=r.split(":"),e=(new Date).getFullYear(),w=parseInt(c[0],10),y=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(w+=e),c[1].match(/[+\-].*/)&&(y+=e)),(!h||b.getTime()>=h.getTime())&&(!m||b.getTime()<=m.getTime())&&(!w||b.getFullYear()>=w)&&(!y||y>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;
a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+
b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))};a.datepicker=new c;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.10.4"})(jQuery);
(function(a){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+
this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||
(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,
c){var e=this.active||this.element.children(".ui-menu-item").eq(0);c||this.focus(a,e)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,
"\\$&")}var e,h,m,d,f=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);
break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:f=!1,e=this.previousFilter||"",h=String.fromCharCode(b.keyCode),m=!1,clearTimeout(this.filterTimer),h===e?m=!0:h=e+h,d=RegExp("^"+c(h),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return d.test(a(this).children("a").text())}),e=m&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e,e.length||(h=String.fromCharCode(b.keyCode),d=RegExp("^"+c(h),"i"),e=this.activeMenu.children(".ui-menu-item").filter(function(){return d.test(a(this).children("a").text())})),
e.length?(this.focus(b,e),1<e.length?(this.previousFilter=h,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}f&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu;b=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);
b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),h=b.prev("a"),m=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);h.attr("aria-haspopup","true").prepend(m);b.attr("aria-labelledby",h.attr("id"))});b=b.add(this.element);b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,
role:this._itemRole()});b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")});b.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,c){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu);
this._super(a,c)},focus:function(a,c){var e;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(c);this.active=c.first();e=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",e.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);e=c.children(".ui-menu");e.length&&a&&/^mouse/.test(a.type)&&
this._startOpening(e);this.activeMenu=c.parent();this._trigger("focus",a,{item:c})},_scrollIntoView:function(b){var c,e,h,m,d,f;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,e=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,h=b.offset().top-this.activeMenu.offset().top-c-e,m=this.activeMenu.scrollTop(),d=this.activeMenu.height(),f=b.height(),0>h?this.activeMenu.scrollTop(m+h):h+f>d&&this.activeMenu.scrollTop(m+h-d+f))},blur:function(a,c){c||clearTimeout(this.timer);
this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded",
"true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer);this.timer=this._delay(function(){var e=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element);this._close(e);this.blur(b);this.activeMenu=e},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var c=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(a,c))},expand:function(a){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(a,c)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,c,e){var h;this.active&&(h="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));h&&h.length&&this.active||(h=this.activeMenu.children(".ui-menu-item")[c]());this.focus(e,h)},nextPage:function(b){var c,e,h;return this.active?(this.isLastItem()||(this._hasScroll()?(e=this.active.offset().top,h=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=
a(this),0>c.offset().top-e-h}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),void 0):(this.next(b),void 0)},previousPage:function(b){var c,e,h;return this.active?(this.isFirstItem()||(this._hasScroll()?(e=this.active.offset().top,h=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),0<c.offset().top-e+h}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first())),void 0):(this.next(b),
void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,c)}})})(jQuery);
(function(a){a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();
this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b,c;b=this.options;var e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),h=[];c=b.values&&b.values.length||1;e.length>c&&(e.slice(c).remove(),e=e.slice(0,c));for(b=e.length;c>b;b++)h.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");
this.handles=e.add(a(h.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",
bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a);this._on(a,this._handleEvents);this._hoverable(a);this._focusable(a)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");
this._mouseDestroy()},_mouseCapture:function(b){var c,e,h,m,d,f,q,t,z=this,s=this.options;return s.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(c),h=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(e-z.values(b));(h>c||h===c&&(b===z._lastChangedValue||z.values(b)===s.min))&&(h=c,m=a(this),d=b)}),f=this._start(b,d),!1===f?!1:
(this._mouseSliding=!0,this._handleIndex=d,m.addClass("ui-state-active").focus(),q=m.offset(),t=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=t?{left:0,top:0}:{left:b.pageX-q.left-m.width()/2,top:b.pageY-q.top-m.height()/2-(parseInt(m.css("borderTopWidth"),10)||0)-(parseInt(m.css("borderBottomWidth"),10)||0)+(parseInt(m.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,d,e),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var c=
this._normValueFromMouse({x:a.pageX,y:a.pageY});return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var c,e,h,m,d;return"horizontal"===
this.orientation?(c=this.elementSize.width,e=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(c=this.elementSize.height,e=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),h=e/c,1<h&&(h=1),0>h&&(h=0),"vertical"===this.orientation&&(h=1-h),m=this._valueMax()-this._valueMin(),d=this._valueMin()+h*m,this._trimAlignValue(d)},_start:function(a,c){var e={handle:this.handles[c],value:this.value()};return this.options.values&&this.options.values.length&&(e.value=
this.values(c),e.values=this.values()),this._trigger("start",a,e)},_slide:function(a,c,e){var h,m,d;this.options.values&&this.options.values.length?(h=this.values(c?0:1),2===this.options.values.length&&!0===this.options.range&&(0===c&&e>h||1===c&&h>e)&&(e=h),e!==this.values(c)&&(m=this.values(),m[c]=e,d=this._trigger("slide",a,{handle:this.handles[c],value:e,values:m}),this.values(c?0:1),!1!==d&&this.values(c,e))):e!==this.value()&&(d=this._trigger("slide",a,{handle:this.handles[c],value:e}),!1!==
d&&this.value(e))},_stop:function(a,c){var e={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(c),e.values=this.values());this._trigger("stop",a,e)},_change:function(a,c){if(!this._keySliding&&!this._mouseSliding){var e={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(e.value=this.values(c),e.values=this.values());this._lastChangedValue=c;this._trigger("change",a,e)}},value:function(a){return arguments.length?
(this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(b,c){var e,h,m;if(1<arguments.length)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b),void 0;if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();e=this.options.values;h=arguments[0];for(m=0;e.length>m;m+=1)e[m]=this._trimAlignValue(h[m]),
this._change(null,m);this._refreshValue()},_setOption:function(b,c){var e,h=0;switch("range"===b&&!0===this.options.range&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(h=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+
this.orientation);this._refreshValue();break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(e=0;h>e;e+=1)this._change(null,e);this._animateOff=!1;break;case "min":case "max":this._animateOff=!0;this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(a){var c,
e;if(arguments.length)return c=this.options.values[a],this._trimAlignValue(c);if(this.options.values&&this.options.values.length){c=this.options.values.slice();for(e=0;c.length>e;e+=1)c[e]=this._trimAlignValue(c[e]);return c}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var c=0<this.options.step?this.options.step:1,e=(a-this._valueMin())%c;a-=e;return 2*Math.abs(e)>=c&&(a+=0<e?c:-c),parseFloat(a.toFixed(5))},_valueMin:function(){return this.options.min},
_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,e,h,m,d=this.options.range,f=this.options,q=this,t=this._animateOff?!1:f.animate,z={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((q.values(d)-q._valueMin())/(q._valueMax()-q._valueMin()));z["horizontal"===q.orientation?"left":"bottom"]=c+"%";a(this).stop(1,1)[t?"animate":"css"](z,f.animate);!0===q.options.range&&("horizontal"===q.orientation?(0===d&&q.range.stop(1,1)[t?"animate":
"css"]({left:c+"%"},f.animate),1===d&&q.range[t?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:f.animate})):(0===d&&q.range.stop(1,1)[t?"animate":"css"]({bottom:c+"%"},f.animate),1===d&&q.range[t?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:f.animate})));b=c}):(e=this.value(),h=this._valueMin(),m=this._valueMax(),c=m!==h?(e-h)/(m-h)*100:0,z["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[t?"animate":"css"](z,f.animate),"min"===d&&"horizontal"===this.orientation&&
this.range.stop(1,1)[t?"animate":"css"]({width:c+"%"},f.animate),"max"===d&&"horizontal"===this.orientation&&this.range[t?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:f.animate}),"min"===d&&"vertical"===this.orientation&&this.range.stop(1,1)[t?"animate":"css"]({height:c+"%"},f.animate),"max"===d&&"vertical"===this.orientation&&this.range[t?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:f.animate}))},_handleEvents:{keydown:function(b){var c,e,h,m=a(b.target).data("ui-slider-handle-index");
switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(b.target).addClass("ui-state-active"),c=this._start(b,m),!1===c))return}switch(h=this.options.step,c=e=this.options.values&&this.options.values.length?this.values(m):this.value(),b.keyCode){case a.ui.keyCode.HOME:e=this._valueMin();
break;case a.ui.keyCode.END:e=this._valueMax();break;case a.ui.keyCode.PAGE_UP:e=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:e=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(c===this._valueMax())return;e=this._trimAlignValue(c+h);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c===this._valueMin())return;e=this._trimAlignValue(c-h)}this._slide(b,m,e)},click:function(a){a.preventDefault()},
keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})})(jQuery);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(a){a.minTime&&(a.minTime=n(a.minTime));a.maxTime&&(a.maxTime=n(a.maxTime));a.durationTime&&"function"!==typeof a.durationTime&&(a.durationTime=n(a.durationTime));if(0<a.disableTimeRanges.length){for(var b in a.disableTimeRanges)a.disableTimeRanges[b]=[n(a.disableTimeRanges[b][0]),n(a.disableTimeRanges[b][1])];a.disableTimeRanges=a.disableTimeRanges.sort(function(a,b){return a[0]-b[0]})}return a}
function c(b){var c=b.data("timepicker-settings"),e=b.data("timepicker-list");e&&e.length&&(e.remove(),b.data("timepicker-list",!1));var e=a("<ul />",{"class":"ui-timepicker-list"}),f=a("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});f.css({display:"none",position:"absolute"}).append(e);c.className&&f.addClass(c.className);null===c.minTime&&null===c.durationTime||!c.showDuration||f.addClass("ui-timepicker-with-duration");var m=c.minTime;"function"===typeof c.durationTime?m=n(c.durationTime()):
null!==c.durationTime&&(m=c.durationTime);var q=null!==c.minTime?c.minTime:0,p=null!==c.maxTime?c.maxTime:q+L-1;p<=q&&(p+=L);p===L-1&&-1!==c.timeFormat.indexOf("H")&&(p=L);for(var C=c.disableTimeRanges,t=0,s=C.length;q<=p;q+=60*c.step){var z=q,w=a("<li />");w.data("time",z);w.text(u(z,c.timeFormat));if((null!==c.minTime||null!==c.durationTime)&&c.showDuration){var I=a("<span />");I.addClass("ui-timepicker-duration");I.text(" ("+r(q-m)+")");w.append(I)}t<s&&(z>=C[t][1]&&(t+=1),C[t]&&z>=C[t][0]&&z<
C[t][1]&&w.addClass("ui-timepicker-disabled"));e.append(w)}f.data("timepicker-input",b);b.data("timepicker-list",f);c=c.appendTo;"string"===typeof c?c=a(c):"function"===typeof c&&(c=c(b));c.append(f);d(b,e);e.on("click","li",function(c){b.off("focus.timepicker");b.on("focus.timepicker-ie-hack",function(){b.off("focus.timepicker-ie-hack");b.on("focus.timepicker",G.show)});h(b)||b[0].focus();e.find("li").removeClass("ui-timepicker-selected");a(this).addClass("ui-timepicker-selected");y(b)&&(b.trigger("hideTimepicker"),
f.hide())})}function e(b){b=a(b.target);0===b.closest(".ui-timepicker-input").length&&0===b.closest(".ui-timepicker-wrapper").length&&(G.hide(),a("body").unbind(".ui-timepicker"),a(window).unbind(".ui-timepicker"))}function h(a){a=a.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&a.disableTouchKeyboard}function m(b,c,e){if(!e&&0!==e)return!1;var d=!1,f=30*b.data("timepicker-settings").step;c.find("li").each(function(b,c){var h=a(c),n=h.data("time")-
e;if(Math.abs(n)<f||n==f)return d=h,!1});return d}function d(a,b){b.find("li").removeClass("ui-timepicker-selected");var c=n(q(a));if(null!==c&&(c=m(a,b,c))){var e=c.offset().top-b.offset().top;(e+c.outerHeight()>b.outerHeight()||0>e)&&b.scrollTop(b.scrollTop()+c.position().top-c.outerHeight());c.addClass("ui-timepicker-selected")}}function f(){if(""!==this.value){var b=a(this),c=b.data("timepicker-list");if(!c||!c.is(":visible")){var e=n(this.value);if(null===e)b.trigger("timeFormatError");else{var c=
b.data("timepicker-settings"),d=!1;null!==c.minTime&&e<c.minTime?d=!0:null!==c.maxTime&&e>c.maxTime&&(d=!0);a.each(c.disableTimeRanges,function(){if(e>=this[0]&&e<this[1])return d=!0,!1});if(c.forceRoundTime)var f=e%(60*c.step),e=f>=30*c.step?e+(60*c.step-f):e-f;c=u(e,c.timeFormat);d?t(b,c,"error")&&b.trigger("timeRangeError"):t(b,c)}}}}function q(a){return a.is("input")?a.val():a.data("ui-timepicker-value")}function t(a,b,c){a.is("input")&&a.val(b);if(a.data("ui-timepicker-value")!=b)return a.data("ui-timepicker-value",
b),"select"==c?a.trigger("selectTime").trigger("changeTime").trigger("change"):"error"!=c&&a.trigger("changeTime"),!0;a.trigger("selectTime");return!1}function z(b){var c=a(this),e=c.data("timepicker-list");if(!e||!e.is(":visible"))if(40==b.keyCode)h(c)||c.focus();else return s(b,c);switch(b.keyCode){case 13:return y(c)&&G.hide.apply(this),b.preventDefault(),!1;case 38:var d=e.find(".ui-timepicker-selected");d.length?d.is(":first-child")||(d.removeClass("ui-timepicker-selected"),d.prev().addClass("ui-timepicker-selected"),
d.prev().position().top<d.outerHeight()&&e.scrollTop(e.scrollTop()-d.outerHeight())):(e.find("li").each(function(b,c){if(0<a(c).position().top)return d=a(c),!1}),d.addClass("ui-timepicker-selected"));return!1;case 40:return d=e.find(".ui-timepicker-selected"),0===d.length?(e.find("li").each(function(b,c){if(0<a(c).position().top)return d=a(c),!1}),d.addClass("ui-timepicker-selected")):d.is(":last-child")||(d.removeClass("ui-timepicker-selected"),d.next().addClass("ui-timepicker-selected"),d.next().position().top+
2*d.outerHeight()>e.outerHeight()&&e.scrollTop(e.scrollTop()+d.outerHeight())),!1;case 27:e.find("li").removeClass("ui-timepicker-selected");G.hide();break;case 9:G.hide();break;default:return s(b,c)}}function s(a,b){return!b.data("timepicker-settings").disableTextInput||a.ctrlKey||a.altKey||a.metaKey||2!=a.keyCode&&8!=a.keyCode&&46>a.keyCode}function w(b){var c=a(this),e=c.data("timepicker-list");if(!e||!e.is(":visible"))return!0;switch(b.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:d(c,
e)}}function y(a){var b=a.data("timepicker-settings"),c=a.data("timepicker-list"),e=null,f=c.find(".ui-timepicker-selected");if(f.hasClass("ui-timepicker-disabled"))return!1;f.length?e=f.data("time"):q(a)&&(e=n(q(a)),d(a,c));null!==e&&(b=u(e,b.timeFormat),t(a,b,"select"));return!0}function r(a){a=Math.round(a/60);60>Math.abs(a)?a=[a,p.mins]:60==a?a=["1",p.hr]:(a=(a/60).toFixed(1),"."!=p.decimal&&(a=a.replace(".",p.decimal)),a=[a,p.hrs]);return a.join(" ")}function u(a,b){if(null!==a){for(var c=new Date(I.valueOf()+
1E3*a),e="",d,f=0;f<b.length;f++)switch(d=b.charAt(f),d){case "a":e+=11<c.getHours()?"pm":"am";break;case "A":e+=11<c.getHours()?"PM":"AM";break;case "g":d=c.getHours()%12;e+=0===d?"12":d;break;case "G":e+=c.getHours();break;case "h":d=c.getHours()%12;0!==d&&10>d&&(d="0"+d);e+=0===d?"12":d;break;case "H":d=c.getHours();a===L&&(d=24);e+=9<d?d:"0"+d;break;case "i":d=c.getMinutes();e+=9<d?d:"0"+d;break;case "s":a=c.getSeconds();e+=9<a?a:"0"+a;break;default:e+=d}return e}}function n(a){if(""===a)return null;
if(!a||a+0==a)return a;"object"==typeof a&&(a=a.getHours()+":"+C(a.getMinutes())+":"+C(a.getSeconds()));a=a.toLowerCase();var b;-1===a.indexOf(":")?(b=a.match(/^([0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/))||(b=a.match(/^([0-2][0-9]):?([0-5][0-9])?:?([0-5][0-9])?\s*([pa]?)m?$/)):b=a.match(/^(\d{1,2})(?::([0-5][0-9]))?(?::([0-5][0-9]))?\s*([pa]?)m?$/);if(!b)return null;a=parseInt(1*b[1],10);return 3600*(b[4]?12==a?"p"==b[4]?12:0:a+("p"==b[4]?12:0):a)+60*(1*b[2]||0)+(1*b[3]||0)}function C(a){return("0"+
a).slice(-2)}var I=new Date(1970,1,1,0,0,0),L=86400,H={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,timeFormat:"g:ia",scrollDefaultNow:!1,scrollDefaultTime:!1,selectOnBlur:!1,disableTouchKeyboard:!0,forceRoundTime:!1,appendTo:"body",disableTimeRanges:[],closeOnWindowScroll:!1,disableTextInput:!1},p={decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},G={init:function(c){return this.each(function(){var e=a(this);if("SELECT"==e[0].tagName){for(var d={type:"text",value:e.val()},
h=e[0].attributes,n=0;n<h.length;n++)d[h[n].nodeName]=h[n].nodeValue;d=a("<input />",d);e.replaceWith(d);e=d}d=a.extend({},H);c&&(d=a.extend(d,c));d.lang&&(p=a.extend(p,d.lang));d=b(d);e.data("timepicker-settings",d);e.prop("autocomplete","off");e.on("click.timepicker focus.timepicker",G.show);e.on("change.timepicker",f);e.on("keydown.timepicker",z);e.on("keyup.timepicker",w);e.addClass("ui-timepicker-input");f.call(e.get(0))})},show:function(b){b=a(this);var d=b.data("timepicker-settings");h(b)&&
b.blur();var f=b.data("timepicker-list");if(!b.prop("readonly")&&(f&&0!==f.length&&"function"!==typeof d.durationTime||(c(b),f=b.data("timepicker-list")),!f.is(":visible"))){G.hide();f.show();b.offset().top+b.outerHeight(!0)+f.outerHeight()>a(window).height()+a(window).scrollTop()?f.offset({left:b.offset().left+parseInt(f.css("marginLeft").replace("px",""),10),top:b.offset().top-f.outerHeight()+parseInt(f.css("marginTop").replace("px",""),10)}):f.offset({left:b.offset().left+parseInt(f.css("marginLeft").replace("px",
""),10),top:b.offset().top+b.outerHeight()+parseInt(f.css("marginTop").replace("px",""),10)});var u=f.find(".ui-timepicker-selected");u.length||(q(b)?u=m(b,f,n(q(b))):d.scrollDefaultNow?u=m(b,f,n(new Date)):!1!==d.scrollDefaultTime&&(u=m(b,f,n(d.scrollDefaultTime))));u&&u.length?(u=f.scrollTop()+u.position().top-u.outerHeight(),f.scrollTop(u)):f.scrollTop(0);a("body").on("touchstart.ui-timepicker mousedown.ui-timepicker",e);if(d.closeOnWindowScroll)a(window).on("scroll.ui-timepicker",e);b.trigger("showTimepicker")}},
hide:function(b){a(".ui-timepicker-wrapper:visible").each(function(){var b=a(this),c=b.data("timepicker-input"),e=c.data("timepicker-settings");e&&e.selectOnBlur&&y(c);b.hide();c.trigger("hideTimepicker")})},option:function(c,e){var d=this.data("timepicker-settings"),f=this.data("timepicker-list");if("object"==typeof c)d=a.extend(d,c);else if("string"==typeof c&&"undefined"!=typeof e)d[c]=e;else if("string"==typeof c)return d[c];d=b(d);this.data("timepicker-settings",d);f&&(f.remove(),this.data("timepicker-list",
!1));return this},getSecondsFromMidnight:function(){return n(q(this))},getTime:function(a){a||(a=new Date);a.setHours(0,0,0,0);return new Date(a.valueOf()+1E3*n(q(this)))},setTime:function(a){a=u(n(a),this.data("timepicker-settings").timeFormat);t(this,a);this.data("timepicker-list")&&d(this,this.data("timepicker-list"))},remove:function(){this.hasClass("ui-timepicker-input")&&(this.removeAttr("autocomplete","off"),this.removeClass("ui-timepicker-input"),this.removeData("timepicker-settings"),this.off(".timepicker"),
this.data("timepicker-list")&&this.data("timepicker-list").remove(),this.removeData("timepicker-list"))}};a.fn.timepicker=function(b){if(G[b])return G[b].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof b&&b)a.error("Method "+b+" does not exist on jQuery.timepicker");else return G.init.apply(this,arguments)}});(function(a){function b(a,b){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var c=a.originalEvent.changedTouches[0],e=document.createEvent("MouseEvents");e.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(e)}}a.support.touch="ontouchend"in document;if(a.support.touch){var c=a.ui.mouse.prototype,e=c._mouseInit,h;c._touchStart=function(a){!h&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(h=!0,this._touchMoved=!1,
b(a,"mouseover"),b(a,"mousemove"),b(a,"mousedown"))};c._touchMove=function(a){h&&(this._touchMoved=!0,b(a,"mousemove"))};c._touchEnd=function(a){h&&(b(a,"mouseup"),b(a,"mouseout"),this._touchMoved||b(a,"click"),h=!1)};c._mouseInit=function(){this.element.bind("touchstart",a.proxy(this,"_touchStart")).bind("touchmove",a.proxy(this,"_touchMove")).bind("touchend",a.proxy(this,"_touchEnd"));e.call(this)}}})(jQuery);(function(a,b){a.widget("ui.dragslider",a.ui.slider,{options:a.extend({},a.ui.slider.prototype.options,{rangeDrag:!1}),_create:function(){a.ui.slider.prototype._create.apply(this,arguments);this._rangeCapture=!1},_mouseCapture:function(b){var e=this.options;if(e.disabled)return!1;b.target==this.range.get(0)&&!0==e.rangeDrag&&!0==e.range?(this._rangeCapture=!0,this._rangeStart=null):this._rangeCapture=!1;a.ui.slider.prototype._mouseCapture.apply(this,arguments);!0==this._rangeCapture&&this.handles.removeClass("ui-state-active").blur();
return!0},_mouseStop:function(b){this._rangeStart=null;return a.ui.slider.prototype._mouseStop.apply(this,arguments)},_slide:function(b,e,h){if(!this._rangeCapture)return a.ui.slider.prototype._slide.apply(this,arguments);null==this._rangeStart&&(this._rangeStart=h);var m=this.options.values[0],d=this.options.values[1],f=h-this._rangeStart,q=m+f,t=d+f;this.options.values&&this.options.values.length&&(t>this._valueMax()&&0<f&&(f-=t-this._valueMax(),q=m+f,t=d+f),q<this._valueMin()&&(f+=this._valueMin()-
q,q=m+f,t=d+f),0!=f&&(newValues=this.values(),newValues[0]=q,newValues[1]=t,m=this._trigger("slide",b,{handle:this.handles[e],value:f,values:newValues}),!1!==m&&(this.values(0,q,!0),this.values(1,t,!0)),this._rangeStart=h))}})})(jQuery);(function(a){a.extend(a.fn,{validate:function(b){if(this.length){var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target);a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0)}),this.submit(function(b){function h(){var h;return c.settings.submitHandler?(c.submitButton&&(h=a("<input type='hidden'/>").attr("name",
c.submitButton.name).val(c.submitButton.value).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&h.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,h()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):h():(c.focusInvalid(),!1)})),c)}b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();
return this.each(function(){b&=c.element(this)}),b},removeAttrs:function(b){var c={},e=this;return a.each(b.split(/\s/),function(a,b){c[b]=e.attr(b);e.removeAttr(b)}),c},rules:function(b,c){var e=this[0];if(b){var h=a.data(e.form,"validator").settings,m=h.rules,d=a.validator.staticRules(e);switch(b){case "add":a.extend(d,a.validator.normalizeRule(c));m[e.name]=d;c.messages&&(h.messages[e.name]=a.extend(h.messages[e.name],c.messages));break;case "remove":if(!c)return delete m[e.name],d;var f={};return a.each(c.split(/\s/),
function(a,b){f[b]=d[b];delete d[b]}),f}}e=a.validator.normalizeRules(a.extend({},a.validator.metadataRules(e),a.validator.classRules(e),a.validator.attributeRules(e),a.validator.staticRules(e)),e);e.required&&(h=e.required,delete e.required,e=a.extend({required:h},e));return e}});a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+b.value)},filled:function(b){return!!a.trim(""+b.value)},unchecked:function(a){return!a.checked}});a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,
b);this.currentForm=c;this.init()};a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(2<arguments.length&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(RegExp("\\{"+a+"\\}","g"),c)}),b)};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,
errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,c){this.lastActive=a;this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,c){!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))&&this.element(a)},onkeyup:function(a,c){(9!==c.which||""!==this.elementValue(a))&&
(a.name in this.submitted||a===this.lastActive)&&this.element(a)},onclick:function(a,c){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,e){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(e):a(b).addClass(c).removeClass(e)},unhighlight:function(b,c,e){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(e):a(b).removeClass(c).addClass(e)}},setDefaults:function(b){a.extend(a.validator.defaults,
b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),
rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=
a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,e){a.each(e.split(/\s/),function(a,e){c[e]=b})});var e=this.settings.rules;a.each(e,function(b,c){e[b]=a.validator.normalizeRule(c)});
a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b);this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},
form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,c=this.currentElements=this.elements();c[a];a++)this.check(c[a]);return this.valid()},element:function(b){this.lastElement=b=this.validationTargetFor(this.clean(b));this.prepareElement(b);this.currentElements=a(b);var c=!1!==this.check(b);
return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b);this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&
a(this.currentForm).resetForm();this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var c=0,e;for(e in a)c++;return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||
this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",
this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();
this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),e=a(b).val();return"radio"===c||"checkbox"===c?a('input[name="'+a(b).attr("name")+'"]:checked').val():"string"==typeof e?e.replace(/\r/g,""):e},check:function(b){b=this.validationTargetFor(this.clean(b));var c=a(b).rules(),e=!1,h=this.elementValue(b),m,d;for(d in c){var f={method:d,parameters:c[d]};try{if(m=a.validator.methods[d].call(this,h,b,f.parameters),"dependency-mismatch"===m)e=!0;else{e=!1;if("pending"===m){this.toHide=
this.toHide.not(this.errorsFor(b));return}if(!m)return this.formatAndAdd(b,f),!1}}catch(q){throw this.settings.debug&&window.console&&console.log("exception occured when checking element "+b.id+", check the '"+f.method+"' method",q),q;}}if(!e)return this.objectLength(c)&&this.successList.push(b),!0},customMetaMessage:function(b,c){if(a.metadata){var e=this.settings.meta?a(b).metadata()[this.settings.meta]:a(b).metadata();return e&&e.messages&&e.messages[c]}},customDataMessage:function(b,c){return a(b).data("msg-"+
c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,c){var e=this.settings.messages[a];return e&&(e.constructor===String?e:e[c])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),this.customMetaMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+
b.name+"</strong>")},formatAndAdd:function(b,c){var e=this.defaultMessage(b,c.method),h=/\$?\{(\d+)\}/g;"function"==typeof e?e=e.call(this,c.parameters,b):h.test(e)&&(e=a.validator.format(e.replace(h,"{$1}"),c.parameters));this.errorList.push({message:e,element:b});this.errorMap[b.name]=e;this.submitted[b.name]=e},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,c;for(a=0;this.errorList[a];a++)c=this.errorList[a],
this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message);this.errorList.length&&(this.toShow=this.toShow.add(this.containers));if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,c=this.validElements();c[a];a++)this.settings.unhighlight.call(this,c[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow);
this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var e=this.errorsFor(b);e.length?(e.removeClass(this.settings.validClass).addClass(this.settings.errorClass),e.attr("generated")&&e.html(c)):(e=a("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(b),generated:!0}).addClass(this.settings.errorClass).html(c||
""),this.settings.wrapper&&(e=e.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(e).length||(this.settings.errorPlacement?this.settings.errorPlacement(e,a(b)):e.insertAfter(b)));!c&&this.settings.success&&(e.text(""),"string"==typeof this.settings.success?e.addClass(this.settings.success):this.settings.success(e,b));this.toShow=this.toShow.add(e)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===
c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find('[name="'+b+'"]')},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case "select":return a("option:selected",c).length;case "input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},
depend:function(a,c){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,c):!0},dependTypes:{"boolean":function(a,c){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,c){return a(c)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--;0>this.pendingRequest&&
(this.pendingRequest=0);delete this.pending[b.name];c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},
url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={};b=a(b).attr("class");return b&&a.each(b.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={};b=a(b);for(var e in a.validator.methods){var h;"required"===
e?(h=b.get(0).getAttribute(e),""===h&&(h=!0),h=!!h):h=b.attr(e);h?c[e]=h:b[0].getAttribute("type")===e&&(c[e]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},metadataRules:function(b){if(!a.metadata)return{};var c=a.data(b.form,"validator").settings.meta;return c?a(b).metadata()[c]:a(b).metadata()},staticRules:function(b){var c={},e=a.data(b.form,"validator");return e.settings.rules&&(c=a.validator.normalizeRule(e.settings.rules[b.name])||{}),c},normalizeRules:function(b,
c){return a.each(b,function(e,h){if(!1===h)delete b[e];else if(h.param||h.depends){var m=!0;switch(typeof h.depends){case "string":m=!!a(h.depends,c.form).length;break;case "function":m=h.depends.call(c,c)}m?b[e]=void 0!==h.param?h.param:!0:delete b[e]}}),a.each(b,function(e,h){b[e]=a.isFunction(h)?h(c):h}),a.each(["minlength","maxlength","min","max"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){b[this]&&(b[this]=[Number(b[this][0]),Number(b[this][1])])}),
a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b.messages&&delete b.messages,b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0});b=c}return b},addMethod:function(b,c,e){a.validator.methods[b]=c;a.validator.messages[b]=void 0!==e?e:a.validator.messages[b];3>c.length&&a.validator.addClassRules(b,
a.validator.normalizeRule(b))},methods:{required:function(b,c,e){return this.depend(e,c)?"select"===c.nodeName.toLowerCase()?(b=a(c).val())&&0<b.length:this.checkable(c)?0<this.getLength(b,c):0<a.trim(b).length:"dependency-mismatch"},remote:function(b,c,e){if(this.optional(c))return"dependency-mismatch";var h=this.previousValue(c);this.settings.messages[c.name]||(this.settings.messages[c.name]={});h.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=h.message;
e="string"==typeof e&&{url:e}||e;if(this.pending[c.name])return"pending";if(h.old===b)return h.valid;h.old=b;var m=this;this.startRequest(c);var d={};return d[c.name]=b,a.ajax(a.extend(!0,{url:e,mode:"abort",port:"validate"+c.name,dataType:"json",data:d,success:function(d){m.settings.messages[c.name].remote=h.originalMessage;var e=!0===d||"true"===d;if(e){var t=m.formSubmitted;m.prepareElement(c);m.formSubmitted=t;m.successList.push(c);delete m.invalid[c.name];m.showErrors()}else t={},d=d||m.defaultMessage(c,
"remote"),t[c.name]=h.message=a.isFunction(d)?d(b):d,m.invalid[c.name]=!0,m.showErrors(t);h.valid=e;m.stopRequest(c,e)}},e)),"pending"},minlength:function(b,c,e){b=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||b>=e},maxlength:function(b,c,e){b=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||b<=e},rangelength:function(b,c,e){b=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||b>=e[0]&&b<=e[1]},min:function(a,c,e){return this.optional(c)||
a>=e},max:function(a,c,e){return this.optional(c)||a<=e},range:function(a,c,e){return this.optional(c)||a>=e[0]&&a<=e[1]},email:function(a,c){return this.optional(c)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},
url:function(a,c){return this.optional(c)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,c){return this.optional(c)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,c){return this.optional(c)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,c){return this.optional(c)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,c){return this.optional(c)||/^\d+$/.test(a)},creditcard:function(a,c){if(this.optional(c))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var e=0,h=0,m=!1;a=a.replace(/\D/g,"");for(var d=a.length-1;0<=
d;d--)h=a.charAt(d),h=parseInt(h,10),m&&9<(h*=2)&&(h-=9),e+=h,m=!m;return 0===e%10},equalTo:function(b,c,e){e=a(e);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()}}});a.format=a.validator.format})(jQuery);
(function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,m){c=a.port;"abort"===a.mode&&(b[c]&&b[c].abort(),b[c]=m)});else{var c=a.ajax;a.ajax=function(e){var h=("port"in e?e:a.ajaxSettings).port;return"abort"===("mode"in e?e:a.ajaxSettings).mode?(b[h]&&b[h].abort(),b[h]=c.apply(this,arguments)):c.apply(this,arguments)}}})(jQuery);
(function(a){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&a.each({focus:"focusin",blur:"focusout"},function(b,c){function e(b){return b=a.event.fix(b),b.type=c,a.event.handle.call(this,b)}a.event.special[c]={setup:function(){this.addEventListener(b,e,!0)},teardown:function(){this.removeEventListener(b,e,!0)},handler:function(b){var e=arguments;return e[0]=a.event.fix(b),e[0].type=c,a.event.handle.apply(this,e)}}});a.extend(a.fn,{validateDelegate:function(b,
c,e){return this.bind(c,function(c){var m=a(c.target);if(m.is(b))return e.apply(m,arguments)})}})})(jQuery);window.Modernizr=function(a,b,c){function e(a,b){return typeof a===b}function h(a,b){for(var d in a){var e=a[d];if(!~(""+e).indexOf("-")&&z[e]!==c)return"pfx"==b?e:!0}return!1}function m(a,b,d){var f=a.charAt(0).toUpperCase()+a.slice(1),m=(a+" "+u.join(f+" ")+f).split(" ");if(e(b,"string")||e(b,"undefined"))return h(m,b);m=(a+" "+n.join(f+" ")+f).split(" ");a:{a=m;for(var p in a)if(f=b[a[p]],f!==c){b=!1===d?a[p]:e(f,"function")?f.bind(d||b):f;break a}b=!1}return b}function d(){f.input=function(c){for(var d=
0,e=c.length;d<e;d++)I[c[d]]=!!(c[d]in s);I.list&&(I.list=!(!b.createElement("datalist")||!a.HTMLDataListElement));return I}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));f.inputtypes=function(a){for(var d=0,e,f,h=a.length;d<h;d++){s.setAttribute("type",f=a[d]);if(e="text"!==s.type)s.value=w,s.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(f)&&s.style.WebkitAppearance!==c?(q.appendChild(s),e=b.defaultView,e=e.getComputedStyle&&"textfield"!==
e.getComputedStyle(s,null).WebkitAppearance&&0!==s.offsetHeight,q.removeChild(s)):/^(search|tel)$/.test(f)||(e=/^(url|email)$/.test(f)?s.checkValidity&&!1===s.checkValidity():s.value!=w);C[a[d]]=!!e}return C}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var f={},q=b.documentElement,t=b.createElement("modernizr"),z=t.style,s=b.createElement("input"),w=":)",y={}.toString,r=" -webkit- -moz- -o- -ms- ".split(" "),u=["Webkit","Moz","O","ms"],n=["webkit",
"moz","o","ms"],t={},C={},I={},L=[],H=L.slice,p,G=function(a,c,d,e){var f,h,n=b.createElement("div"),m=b.body,u=m||b.createElement("body");if(parseInt(d,10))for(;d--;)f=b.createElement("div"),f.id=e?e[d]:"modernizr"+(d+1),n.appendChild(f);d=['&#173;<style id="smodernizr">',a,"</style>"].join("");n.id="modernizr";(m?n:u).innerHTML+=d;u.appendChild(n);m||(u.style.background="",u.style.overflow="hidden",h=q.style.overflow,q.style.overflow="hidden",q.appendChild(u));a=c(n,a);m?n.parentNode.removeChild(n):
(u.parentNode.removeChild(u),q.style.overflow=h);return!!a},P=function(){var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(d,f){f=f||b.createElement(a[d]||"div");d="on"+d;var h=d in f;h||(f.setAttribute||(f=b.createElement("div")),f.setAttribute&&f.removeAttribute&&(f.setAttribute(d,""),h=e(f[d],"function"),e(f[d],"undefined")||(f[d]=c),f.removeAttribute(d)));return h}}(),Q={}.hasOwnProperty,U;U=e(Q,"undefined")||e(Q.call,"undefined")?
function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return Q.call(a,b)};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=H.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var e=new e,f=b.apply(e,c.concat(H.call(arguments)));return Object(f)===f?f:e}return b.apply(a,c.concat(H.call(arguments)))};return d});t.flexbox=function(){return m("flexWrap")};
t.flexboxlegacy=function(){return m("boxDirection")};t.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))};t.canvastext=function(){return!(!f.canvas||!e(b.createElement("canvas").getContext("2d").fillText,"function"))};t.webgl=function(){return!!a.WebGLRenderingContext};t.touch=function(){var c;"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:G(["@media (",r.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),
function(a){c=9===a.offsetTop});return c};t.geolocation=function(){return"geolocation"in navigator};t.postmessage=function(){return!!a.postMessage};t.websqldatabase=function(){return!!a.openDatabase};t.indexedDB=function(){return!!m("indexedDB",a)};t.hashchange=function(){return P("hashchange",a)&&(b.documentMode===c||7<b.documentMode)};t.history=function(){return!(!a.history||!history.pushState)};t.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in
a};t.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a};t.rgba=function(){z.cssText="background-color:rgba(150,255,150,.5)";return!!~(""+z.backgroundColor).indexOf("rgba")};t.hsla=function(){z.cssText="background-color:hsla(120,40%,100%,.5)";return!!~(""+z.backgroundColor).indexOf("rgba")||!!~(""+z.backgroundColor).indexOf("hsla")};t.multiplebgs=function(){z.cssText="background:url(https://),url(https://),red url(https://)";return/(url\s*\(.*?){3}/.test(z.background)};t.backgroundsize=
function(){return m("backgroundSize")};t.borderimage=function(){return m("borderImage")};t.borderradius=function(){return m("borderRadius")};t.boxshadow=function(){return m("boxShadow")};t.textshadow=function(){return""===b.createElement("div").style.textShadow};t.opacity=function(){var a=r.join("opacity:.55;")+"";z.cssText=a;return/^0.55$/.test(z.opacity)};t.cssanimations=function(){return m("animationName")};t.csscolumns=function(){return m("columnCount")};t.cssgradients=function(){var a=("background-image:-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));background-image:"+
r.join("linear-gradient(left top,#9f9, white);background-image:")).slice(0,-17);z.cssText=a;return!!~(""+z.backgroundImage).indexOf("gradient")};t.cssreflections=function(){return m("boxReflect")};t.csstransforms=function(){return!!m("transform")};t.csstransforms3d=function(){var a=!!m("perspective");a&&"webkitPerspective"in q.style&&G("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight});return a};
t.csstransitions=function(){return m("transition")};t.fontface=function(){var a;G('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),e=(e=e.sheet||e.styleSheet)?e.cssRules&&e.cssRules[0]?e.cssRules[0].cssText:e.cssText||"":"";a=/src/i.test(e)&&0===e.indexOf(d.split(" ")[0])});return a};t.generatedcontent=function(){var a;G(['#modernizr{font:0/0 a}#modernizr:after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=3<=b.offsetHeight});
return a};t.video=function(){var a=b.createElement("video"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(d){}return c};t.audio=function(){var a=b.createElement("audio"),c=!1;try{if(c=!!a.canPlayType)c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,
""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(d){}return c};t.localstorage=function(){try{return localStorage.setItem("modernizr","modernizr"),localStorage.removeItem("modernizr"),!0}catch(a){return!1}};t.sessionstorage=function(){try{return sessionStorage.setItem("modernizr","modernizr"),sessionStorage.removeItem("modernizr"),!0}catch(a){return!1}};
t.webworkers=function(){return!!a.Worker};t.applicationcache=function(){return!!a.applicationCache};t.svg=function(){return!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect};t.inlinesvg=function(){var a=b.createElement("div");a.innerHTML="<svg/>";return"http://www.w3.org/2000/svg"==(a.firstChild&&a.firstChild.namespaceURI)};t.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(y.call(b.createElementNS("http://www.w3.org/2000/svg","animate")))};t.svgclippaths=
function(){return!!b.createElementNS&&/SVGClipPath/.test(y.call(b.createElementNS("http://www.w3.org/2000/svg","clipPath")))};for(var D in t)U(t,D)&&(p=D.toLowerCase(),f[p]=t[D](),L.push((f[p]?"":"no-")+p));f.input||d();f.addTest=function(a,b){if("object"==typeof a)for(var d in a)U(a,d)&&f.addTest(d,a[d]);else{a=a.toLowerCase();if(f[a]!==c)return f;b="function"==typeof b?b():b;q.className+=" "+(b?"":"no-")+a;f[a]=b}return f};z.cssText="";t=s=null;(function(a,b){function c(){var a=C.elements;return"string"==
typeof a?a.split(" "):a}function d(a){var b=p[a[v]];b||(b={},u++,a[v]=u,p[u]=b);return b}function e(a,c,f){c||(c=b);if(q)return c.createElement(a);f||(f=d(c));c=f.cache[a]?f.cache[a].cloneNode():g.test(a)?(f.cache[a]=f.createElem(a)).cloneNode():f.createElem(a);return c.canHaveChildren&&!m.test(a)?f.frag.appendChild(c):c}function f(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(c){return C.shivMethods?e(c,
a,b):b.createElem(c)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(a){b.createElem(a);b.frag.createElement(a);return'c("'+a+'")'})+");return n}")(C,b.frag)}function h(a){a||(a=b);var c=d(a);if(C.shivCSS&&!l&&!c.hasCSS){var g,e=a;g=e.createElement("p");e=e.getElementsByTagName("head")[0]||e.documentElement;g.innerHTML="x<style>article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}</style>";
g=e.insertBefore(g.lastChild,e.firstChild);c.hasCSS=!!g}q||f(a,c);return a}var n=a.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,g=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,l,v="_html5shiv",u=0,p={},q;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";l="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var g=b.createDocumentFragment();c="undefined"==typeof g.cloneNode||
"undefined"==typeof g.createDocumentFragment||"undefined"==typeof g.createElement}q=c}catch(d){q=l=!0}})();var C={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==n.shivCSS,supportsUnknownElements:q,shivMethods:!1!==n.shivMethods,type:"default",shivDocument:h,createElement:e,createDocumentFragment:function(a,g){a||(a=b);if(q)return a.createDocumentFragment();
g=g||d(a);for(var e=g.frag.cloneNode(),f=0,h=c(),l=h.length;f<l;f++)e.createElement(h[f]);return e}};a.html5=C;h(b)})(this,b);f._version="2.6.2";f._prefixes=r;f._domPrefixes=n;f._cssomPrefixes=u;f.mq=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;G("@media "+b+" { #modernizr { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position});return d};f.hasEvent=P;f.testProp=function(a){return h([a])};f.testAllProps=
m;f.testStyles=G;f.prefixed=function(a,b,c){return b?m(a,b,c):m(a,"pfx")};q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+L.join(" "));return f}(this,this.document);(function(){function a(a){return function(b){this[a]=b}}function b(a){return function(){return this[a]}}function c(a,b,d){this.extend(c,google.maps.OverlayView);this.c=a;this.a=[];this.f=[];this.ca=[53,56,66,78,90];this.j=[];this.A=!1;d=d||{};this.g=d.gridSize||60;this.l=d.minimumClusterSize||2;this.J=d.maxZoom||y;this.j=d.styles||[];this.X=d.imagePath||this.Q;this.W=d.imageExtension||this.P;this.O=!0;void 0!=d.zoomOnClick&&(this.O=d.zoomOnClick);this.r=!1;void 0!=d.averageCenter&&(this.r=d.averageCenter);
e(this);this.setMap(a);this.K=this.c.getZoom();var f=this;google.maps.event.addListener(this.c,"zoom_changed",function(){var a=f.c.getZoom();f.K!=a&&(f.K=a,f.m())});google.maps.event.addListener(this.c,"idle",function(){f.i()});b&&b.length&&this.C(b,!1)}function e(a){if(!a.j.length)for(var b=0,c;c=a.ca[b];b++)a.j.push({url:a.X+(b+1)+"."+a.W,height:c,width:c})}function h(a,b){b.s=!1;b.draggable&&google.maps.event.addListener(b,"dragend",function(){b.s=!1;a.L()});a.a.push(b)}function m(a,b){var c=-1;
if(a.a.indexOf)c=a.a.indexOf(b);else for(var d=0,e;e=a.a[d];d++)if(e==b){c=d;break}if(-1==c)return!1;b.setMap(y);a.a.splice(c,1);return!0}function d(a){if(a.A)for(var b=a.v(new google.maps.LatLngBounds(a.c.getBounds().getSouthWest(),a.c.getBounds().getNorthEast())),c=0,d;d=a.a[c];c++)if(!d.s&&b.contains(d.getPosition())){for(var e=a,h=4E4,m=y,q=0,r=void 0;r=e.f[q];q++){var t=r.getCenter();if(t){var s=d.getPosition();if(t&&s)var z=(s.lat()-t.lat())*Math.PI/180,w=(s.lng()-t.lng())*Math.PI/180,t=Math.sin(z/
2)*Math.sin(z/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(s.lat()*Math.PI/180)*Math.sin(w/2)*Math.sin(w/2),t=12742*Math.atan2(Math.sqrt(t),Math.sqrt(1-t));else t=0;t<h&&(h=t,m=r)}}m&&m.F.contains(d.getPosition())?m.q(d):(r=new f(e),r.q(d),e.f.push(r))}}function f(a){this.k=a;this.c=a.getMap();this.g=a.w();this.l=a.l;this.r=a.r;this.d=y;this.a=[];this.F=y;this.n=new t(this,a.z(),a.w())}function q(a){a.F=a.k.v(new google.maps.LatLngBounds(a.d,a.d))}function t(a,b,c){a.k.extend(t,google.maps.OverlayView);
this.j=b;this.fa=c||0;this.u=a;this.d=y;this.c=a.getMap();this.B=this.b=y;this.t=!1;this.setMap(this.c)}function z(a,b){var c=a.getProjection().fromLatLngToDivPixel(b);c.x-=parseInt(a.p/2,10);c.y-=parseInt(a.h/2,10);return c}function s(a){a.b&&(a.b.style.display="none");a.t=!1}function w(a,b){var c=[];c.push("background-image:url("+a.da+");");c.push("background-position:"+(a.D?a.D:"0 0")+";");"object"===typeof a.e?("number"===typeof a.e[0]&&0<a.e[0]&&a.e[0]<a.h?c.push("height:"+(a.h-a.e[0])+"px; padding-top:"+
a.e[0]+"px;"):c.push("height:"+a.h+"px; line-height:"+a.h+"px;"),"number"===typeof a.e[1]&&0<a.e[1]&&a.e[1]<a.p?c.push("width:"+(a.p-a.e[1])+"px; padding-left:"+a.e[1]+"px;"):c.push("width:"+a.p+"px; text-align:center;")):c.push("height:"+a.h+"px; line-height:"+a.h+"px; width:"+a.p+"px; text-align:center;");c.push("cursor:pointer; top:"+b.y+"px; left:"+b.x+"px; color:"+(a.M?a.M:"black")+"; position:absolute; font-size:"+(a.N?a.N:11)+"px; font-family:Arial,sans-serif; font-weight:bold");return c.join("")}
var y=null,r;r=c.prototype;r.Q="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m";r.P="png";r.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])};r.onAdd=function(){this.A||(this.A=!0,d(this))};r.draw=function(){};r.S=function(){for(var a=this.o(),b=new google.maps.LatLngBounds,c=0,d;d=a[c];c++)b.extend(d.getPosition());this.c.fitBounds(b)};r.z=b("j");r.o=b("a");r.V=function(){return this.a.length};
r.ba=a("J");r.I=b("J");r.G=function(a,b){for(var c=0,d=a.length,e=d;0!==e;)e=parseInt(e/10,10),c++;c=Math.min(c,b);return{text:d,index:c}};r.$=a("G");r.H=b("G");r.C=function(a,b){for(var c=0,d;d=a[c];c++)h(this,d);b||this.i()};r.q=function(a,b){h(this,a);b||this.i()};r.Y=function(a,b){var c=m(this,a);return!b&&c?(this.m(),this.i(),!0):!1};r.Z=function(a,b){for(var c=!1,d=0,e;e=a[d];d++)e=m(this,e),c=c||e;if(!b&&c)return this.m(),this.i(),!0};r.U=function(){return this.f.length};r.getMap=b("c");r.setMap=
a("c");r.w=b("g");r.aa=a("g");r.v=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),c=b.fromLatLngToDivPixel(c);c.x+=this.g;c.y-=this.g;d=b.fromLatLngToDivPixel(d);d.x-=this.g;d.y+=this.g;c=b.fromDivPixelToLatLng(c);b=b.fromDivPixelToLatLng(d);a.extend(c);a.extend(b);return a};r.R=function(){this.m(!0);this.a=[]};r.m=function(a){for(var b=0,c;c=this.f[b];b++)c.remove();
for(b=0;c=this.a[b];b++)c.s=!1,a&&c.setMap(y);this.f=[]};r.L=function(){var a=this.f.slice();this.f.length=0;this.m();this.i();window.setTimeout(function(){for(var b=0,c;c=a[b];b++)c.remove()},0)};r.i=function(){d(this)};r=f.prototype;r.q=function(a){var b;a:if(this.a.indexOf)b=-1!=this.a.indexOf(a);else{b=0;for(var c;c=this.a[b];b++)if(c==a){b=!0;break a}b=!1}if(b)return!1;this.d?this.r&&(c=this.a.length+1,b=(this.d.lat()*(c-1)+a.getPosition().lat())/c,c=(this.d.lng()*(c-1)+a.getPosition().lng())/
c,this.d=new google.maps.LatLng(b,c),q(this)):(this.d=a.getPosition(),q(this));a.s=!0;this.a.push(a);b=this.a.length;b<this.l&&a.getMap()!=this.c&&a.setMap(this.c);if(b==this.l)for(c=0;c<b;c++)this.a[c].setMap(y);b>=this.l&&a.setMap(y);a=this.c.getZoom();if((b=this.k.I())&&a>b)for(a=0;b=this.a[a];a++)b.setMap(this.c);else this.a.length<this.l?s(this.n):(b=this.k.H()(this.a,this.k.z().length),this.n.setCenter(this.d),a=this.n,a.B=b,a.ga=b.text,a.ea=b.index,a.b&&(a.b.innerHTML=b.text),b=Math.max(0,
a.B.index-1),b=Math.min(a.j.length-1,b),b=a.j[b],a.da=b.url,a.h=b.height,a.p=b.width,a.M=b.textColor,a.e=b.anchor,a.N=b.textSize,a.D=b.backgroundPosition,this.n.show());return!0};r.getBounds=function(){for(var a=new google.maps.LatLngBounds(this.d,this.d),b=this.o(),c=0,d;d=b[c];c++)a.extend(d.getPosition());return a};r.remove=function(){this.n.remove();this.a.length=0;delete this.a};r.T=function(){return this.a.length};r.o=b("a");r.getCenter=b("d");r.getMap=b("c");r=t.prototype;r.onAdd=function(){this.b=
document.createElement("DIV");this.t&&(this.b.style.cssText=w(this,z(this,this.d)),this.b.innerHTML=this.B.text);this.getPanes().overlayMouseTarget.appendChild(this.b);var a=this;google.maps.event.addDomListener(this.b,"click",function(){var b=a.u.k;google.maps.event.trigger(b,"clusterclick",a.u);b.O&&a.c.fitBounds(a.u.getBounds())})};r.draw=function(){if(this.t){var a=z(this,this.d);this.b.style.top=a.y+"px";this.b.style.left=a.x+"px"}};r.show=function(){this.b&&(this.b.style.cssText=w(this,z(this,
this.d)),this.b.style.display="");this.t=!0};r.remove=function(){this.setMap(y)};r.onRemove=function(){this.b&&this.b.parentNode&&(s(this),this.b.parentNode.removeChild(this.b),this.b=y)};r.setCenter=a("d");window.MarkerClusterer=c;c.prototype.addMarker=c.prototype.q;c.prototype.addMarkers=c.prototype.C;c.prototype.clearMarkers=c.prototype.R;c.prototype.fitMapToMarkers=c.prototype.S;c.prototype.getCalculator=c.prototype.H;c.prototype.getGridSize=c.prototype.w;c.prototype.getExtendedBounds=c.prototype.v;
c.prototype.getMap=c.prototype.getMap;c.prototype.getMarkers=c.prototype.o;c.prototype.getMaxZoom=c.prototype.I;c.prototype.getStyles=c.prototype.z;c.prototype.getTotalClusters=c.prototype.U;c.prototype.getTotalMarkers=c.prototype.V;c.prototype.redraw=c.prototype.i;c.prototype.removeMarker=c.prototype.Y;c.prototype.removeMarkers=c.prototype.Z;c.prototype.resetViewport=c.prototype.m;c.prototype.repaint=c.prototype.L;c.prototype.setCalculator=c.prototype.$;c.prototype.setGridSize=c.prototype.aa;c.prototype.setMaxZoom=
c.prototype.ba;c.prototype.onAdd=c.prototype.onAdd;c.prototype.draw=c.prototype.draw;f.prototype.getCenter=f.prototype.getCenter;f.prototype.getSize=f.prototype.T;f.prototype.getMarkers=f.prototype.o;t.prototype.onAdd=t.prototype.onAdd;t.prototype.draw=t.prototype.draw;t.prototype.onRemove=t.prototype.onRemove})();(function(a){return"function"===typeof define&&define.amd?define(["jquery"],function(b){return a(b,window,document)}):a(jQuery,window,document)})(function(a,b,c){var e,h,m,d,f,q,t,z,s,w,y,r;f={paneClass:"nano-pane",sliderClass:"nano-slider",contentClass:"nano-content",iOSNativeScrolling:!1,preventPageScrolling:!1,disableResize:!1,alwaysVisible:!1,flashDelay:1500,sliderMinHeight:20,sliderMaxHeight:null,documentContext:null,windowContext:null};e="Microsoft Internet Explorer"===b.navigator.appName&&
/msie 7./i.test(b.navigator.appVersion)&&b.ActiveXObject;h=null;s=b.requestAnimationFrame;d=b.cancelAnimationFrame;y=c.createElement("div").style;r=function(){var a,b,c,d,e;c=["t","webkitT","MozT","msT","OT"];a=d=0;for(e=c.length;d<e;a=++d)if(b=c[a]+"ransform",b in y)return c[a].substr(0,c[a].length-1);return!1}();w=function(a){return!1===r?!1:""===r?a:r+a.charAt(0).toUpperCase()+a.substr(1)}("transform");t=!1!==w;q=function(){var a,b;a=c.createElement("div");b=a.style;b.position="absolute";b.width=
"100px";b.height="100px";b.overflow="scroll";b.top="-9999px";c.body.appendChild(a);b=a.offsetWidth-a.clientWidth;c.body.removeChild(a);return b};z=function(){var a,c;c=b.navigator.userAgent;a=/(?=.+Mac OS X)(?=.+Firefox)/.test(c);if(!a)return!1;(c=/Firefox\/\d{2}\./.exec(c))&&(c=c[0].replace(/\D+/g,""));return a&&23<+c};m=function(){function f(d,e){this.el=d;this.options=e;h||(h=q());this.$el=a(this.el);this.doc=a(this.options.documentContext||c);this.win=a(this.options.windowContext||b);this.body=
this.doc.find("body");this.$content=this.$el.children("."+e.contentClass);this.$content.attr("tabindex",this.options.tabIndex||0);this.content=this.$content[0];this.previousPosition=0;this.options.iOSNativeScrolling&&null!=this.el.style.WebkitOverflowScrolling?this.nativeScrolling():this.generate();this.createEvents();this.addEvents();this.reset()}f.prototype.preventScrolling=function(a,b){this.isActive&&("DOMMouseScroll"===a.type?("down"===b&&0<a.originalEvent.detail||"up"===b&&0>a.originalEvent.detail)&&
a.preventDefault():"mousewheel"===a.type&&a.originalEvent&&a.originalEvent.wheelDelta&&("down"===b&&0>a.originalEvent.wheelDelta||"up"===b&&0<a.originalEvent.wheelDelta)&&a.preventDefault())};f.prototype.nativeScrolling=function(){this.$content.css({WebkitOverflowScrolling:"touch"});this.isActive=this.iOSNativeScrolling=!0};f.prototype.updateScrollValues=function(){var a;a=this.content;this.maxScrollTop=a.scrollHeight-a.clientHeight;this.prevScrollTop=this.contentScrollTop||0;this.contentScrollTop=
a.scrollTop;a=this.contentScrollTop>this.previousPosition?"down":this.contentScrollTop<this.previousPosition?"up":"same";this.previousPosition=this.contentScrollTop;"same"!==a&&this.$el.trigger("update",{position:this.contentScrollTop,maximum:this.maxScrollTop,direction:a});this.iOSNativeScrolling||(this.maxSliderTop=this.paneHeight-this.sliderHeight,this.sliderTop=0===this.maxScrollTop?0:this.contentScrollTop*this.maxSliderTop/this.maxScrollTop)};f.prototype.setOnScrollStyles=function(){var a;t?
(a={},a[w]="translate(0, "+this.sliderTop+"px)"):a={top:this.sliderTop};s?(d&&this.scrollRAF&&d(this.scrollRAF),this.scrollRAF=s(function(b){return function(){b.scrollRAF=null;return b.slider.css(a)}}(this))):this.slider.css(a)};f.prototype.createEvents=function(){this.events={down:function(a){return function(b){a.isBeingDragged=!0;a.offsetY=b.pageY-a.slider.offset().top;a.slider.is(b.target)||(a.offsetY=0);a.pane.addClass("active");a.doc.bind("mousemove",a.events.drag).bind("mouseup",a.events.up);
a.body.bind("mouseenter",a.events.enter);return!1}}(this),drag:function(a){return function(b){a.sliderY=b.pageY-a.$el.offset().top-a.paneTop-(a.offsetY||0.5*a.sliderHeight);a.scroll();a.contentScrollTop>=a.maxScrollTop&&a.prevScrollTop!==a.maxScrollTop?a.$el.trigger("scrollend"):0===a.contentScrollTop&&0!==a.prevScrollTop&&a.$el.trigger("scrolltop");return!1}}(this),up:function(a){return function(b){a.isBeingDragged=!1;a.pane.removeClass("active");a.doc.unbind("mousemove",a.events.drag).unbind("mouseup",
a.events.up);a.body.unbind("mouseenter",a.events.enter);return!1}}(this),resize:function(a){return function(b){a.reset()}}(this),panedown:function(a){return function(b){a.sliderY=(b.offsetY||b.originalEvent.layerY)-0.5*a.sliderHeight;a.scroll();a.events.down(b);return!1}}(this),scroll:function(a){return function(b){a.updateScrollValues();a.isBeingDragged||(a.iOSNativeScrolling||(a.sliderY=a.sliderTop,a.setOnScrollStyles()),null!=b&&(a.contentScrollTop>=a.maxScrollTop?(a.options.preventPageScrolling&&
a.preventScrolling(b,"down"),a.prevScrollTop!==a.maxScrollTop&&a.$el.trigger("scrollend")):0===a.contentScrollTop&&(a.options.preventPageScrolling&&a.preventScrolling(b,"up"),0!==a.prevScrollTop&&a.$el.trigger("scrolltop"))))}}(this),wheel:function(a){return function(b){if(null!=b){if(b=b.delta||b.wheelDelta||b.originalEvent&&b.originalEvent.wheelDelta||-b.detail||b.originalEvent&&-b.originalEvent.detail)a.sliderY+=-b/3;a.scroll();return!1}}}(this),enter:function(a){return function(b){var c;if(a.isBeingDragged&&
1!==(b.buttons||b.which))return(c=a.events).up.apply(c,arguments)}}(this)}};f.prototype.addEvents=function(){var a;this.removeEvents();a=this.events;this.options.disableResize||this.win.bind("resize",a.resize);this.iOSNativeScrolling||(this.slider.bind("mousedown",a.down),this.pane.bind("mousedown",a.panedown).bind("mousewheel DOMMouseScroll",a.wheel));this.$content.bind("scroll mousewheel DOMMouseScroll touchmove",a.scroll)};f.prototype.removeEvents=function(){var a;a=this.events;this.win.unbind("resize",
a.resize);this.iOSNativeScrolling||(this.slider.unbind(),this.pane.unbind());this.$content.unbind("scroll mousewheel DOMMouseScroll touchmove",a.scroll)};f.prototype.generate=function(){var a,c,d,e;c=this.options;e=c.paneClass;c=c.sliderClass;(d=this.$el.children("."+e)).length||d.children("."+c).length||this.$el.append('<div class="'+e+'"><div class="'+c+'" /></div>');this.pane=this.$el.children("."+e);this.slider=this.pane.find("."+c);0===h&&z()?(a=b.getComputedStyle(this.content,null).getPropertyValue("padding-right").replace(/[^0-9.]+/g,
""),a={right:-14,paddingRight:+a+14}):h&&(a={right:-h},this.$el.addClass("has-scrollbar"));null!=a&&this.$content.css(a);return this};f.prototype.restore=function(){this.stopped=!1;this.iOSNativeScrolling||this.pane.show();this.addEvents()};f.prototype.reset=function(){var a,b,c,d,f,m,q,r;if(this.iOSNativeScrolling)this.contentHeight=this.content.scrollHeight;else return this.$el.find("."+this.options.paneClass).length||this.generate().stop(),this.stopped&&this.restore(),a=this.content,c=a.style,
d=c.overflowY,e&&this.$content.css({height:this.$content.height()}),b=a.scrollHeight+h,m=parseInt(this.$el.css("max-height"),10),0<m&&(this.$el.height(""),this.$el.height(a.scrollHeight>m?m:a.scrollHeight)),m=this.pane.outerHeight(!1),q=parseInt(this.pane.css("top"),10),f=parseInt(this.pane.css("bottom"),10),f=m+q+f,r=Math.round(f/b*f),r<this.options.sliderMinHeight?r=this.options.sliderMinHeight:null!=this.options.sliderMaxHeight&&r>this.options.sliderMaxHeight&&(r=this.options.sliderMaxHeight),
"scroll"===d&&"scroll"!==c.overflowX&&(r+=h),this.maxSliderTop=f-r,this.contentHeight=b,this.paneHeight=m,this.paneOuterHeight=f,this.sliderHeight=r,this.paneTop=q,this.slider.height(r),this.events.scroll(),this.pane.show(),this.isActive=!0,a.scrollHeight===a.clientHeight||this.pane.outerHeight(!0)>=a.scrollHeight&&"scroll"!==d?(this.pane.hide(),this.isActive=!1):this.el.clientHeight===a.scrollHeight&&"scroll"===d?this.slider.hide():this.slider.show(),this.pane.css({opacity:this.options.alwaysVisible?
1:"",visibility:this.options.alwaysVisible?"visible":""}),a=this.$content.css("position"),("static"===a||"relative"===a)&&(a=parseInt(this.$content.css("right"),10))&&this.$content.css({right:"",marginRight:a}),this};f.prototype.scroll=function(){if(this.isActive)return this.sliderY=Math.max(0,this.sliderY),this.sliderY=Math.min(this.maxSliderTop,this.sliderY),this.$content.scrollTop(this.maxScrollTop*this.sliderY/this.maxSliderTop),this.iOSNativeScrolling||(this.updateScrollValues(),this.setOnScrollStyles()),
this};f.prototype.scrollBottom=function(a){if(this.isActive)return this.$content.scrollTop(this.contentHeight-this.$content.height()-a).trigger("mousewheel"),this.stop().restore(),this};f.prototype.scrollTop=function(a){if(this.isActive)return this.$content.scrollTop(+a).trigger("mousewheel"),this.stop().restore(),this};f.prototype.scrollTo=function(a){if(this.isActive)return this.scrollTop(this.$el.find(a).get(0).offsetTop),this};f.prototype.stop=function(){d&&this.scrollRAF&&(d(this.scrollRAF),
this.scrollRAF=null);this.stopped=!0;this.removeEvents();this.iOSNativeScrolling||this.pane.hide();return this};f.prototype.destroy=function(){this.stopped||this.stop();!this.iOSNativeScrolling&&this.pane.length&&this.pane.remove();e&&this.$content.height("");this.$content.removeAttr("tabindex");this.$el.hasClass("has-scrollbar")&&(this.$el.removeClass("has-scrollbar"),this.$content.css({right:""}));return this};f.prototype.flash=function(){if(!this.iOSNativeScrolling&&this.isActive)return this.reset(),
this.pane.addClass("flashed"),setTimeout(function(a){return function(){a.pane.removeClass("flashed")}}(this),this.options.flashDelay),this};return f}();a.fn.nanoScroller=function(b){return this.each(function(){var c;(c=this.nanoscroller)||(c=a.extend({},f,b),this.nanoscroller=c=new m(this,c));if(b&&"object"===typeof b){a.extend(c.options,b);if(null!=b.scrollBottom)return c.scrollBottom(b.scrollBottom);if(null!=b.scrollTop)return c.scrollTop(b.scrollTop);if(b.scrollTo)return c.scrollTo(b.scrollTo);
if("bottom"===b.scroll)return c.scrollBottom(0);if("top"===b.scroll)return c.scrollTop(0);if(b.scroll&&b.scroll instanceof a)return c.scrollTo(b.scroll);if(b.stop)return c.stop();if(b.destroy)return c.destroy();if(b.flash)return c.flash()}return c.reset()})};a.fn.nanoScroller.Constructor=m});(function(a){"undefined"==typeof a.fn.each2&&a.extend(a.fn,{each2:function(b){for(var c=a([0]),e=-1,h=this.length;++e<h&&(c.context=c[0]=this[e])&&!1!==b.call(c[0],e,c););return this}})})(jQuery);
(function(a,b){function c(a){var b,c,d,e;if(!a||1>a.length)return a;b="";c=0;for(d=a.length;c<d;c++)e=a.charAt(c),b+=S[e]||e;return b}function e(a,b){for(var c=0,d=b.length;c<d;c+=1)if(m(a,b[c]))return c;return-1}function h(){var b=a(da);b.appendTo("body");var c={width:b.width()-b[0].clientWidth,height:b.height()-b[0].clientHeight};b.remove();return c}function m(a,c){return a===c?!0:a===b||c===b||null===a||null===c?!1:a.constructor===String?a+""===c+"":c.constructor===String?c+""===a+"":!1}function d(b,
c){var d,e,f;if(null===b||1>b.length)return[];d=b.split(c);e=0;for(f=d.length;e<f;e+=1)d[e]=a.trim(d[e]);return d}function f(a){return a.outerWidth(!1)-a.width()}function q(c){c.on("keydown",function(){a.data(c,"keyup-change-value")===b&&a.data(c,"keyup-change-value",c.val())});c.on("keyup",function(){var d=a.data(c,"keyup-change-value");d!==b&&c.val()!==d&&(a.removeData(c,"keyup-change-value"),c.trigger("keyup-change"))})}function t(c){c.on("mousemove",function(c){var g=T;g!==b&&g.x===c.pageX&&g.y===
c.pageY||a(c.target).trigger("mousemove-filtered",c)})}function z(a,c,d){d=d||b;var e;return function(){var b=arguments;window.clearTimeout(e);e=window.setTimeout(function(){c.apply(d,b)},a)}}function s(a){var b=!1,c;return function(){!1===b&&(c=a(),b=!0);return c}}function w(a,b){var c=z(a,function(a){b.trigger("scroll-debounced",a)});b.on("scroll",function(a){0<=e(a.target,b.get())&&c(a)})}function y(a){a[0]!==document.activeElement&&window.setTimeout(function(){var b=a[0],c=a.val().length;a.focus();
a.is(":visible")&&b===document.activeElement&&(b.setSelectionRange?b.setSelectionRange(c,c):b.createTextRange&&(b=b.createTextRange(),b.collapse(!1),b.select()))},0)}function r(a){a.preventDefault();a.stopPropagation()}function u(b,c,d){var e,f=[],h;(e=b.attr("class"))&&a((""+e).split(" ")).each2(function(){0===this.indexOf("select2-")&&f.push(this)});if(e=c.attr("class"))e=""+e,a(e.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(h=d(this))&&f.push(h)});b.attr("class",f.join(" "))}function n(a,
b,d,e){var f=c(a.toUpperCase()).indexOf(c(b.toUpperCase()));b=b.length;0>f?d.push(e(a)):(d.push(e(a.substring(0,f))),d.push("<span class='select2-match'>"),d.push(e(a.substring(f,f+b))),d.push("</span>"),d.push(e(a.substring(f+b,a.length))))}function C(a){var b={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(a).replace(/[&<>"'\/\\]/g,function(a){return b[a]})}function I(c){var d,e=null,f=c.quietMillis||100,h=c.url,m=this;return function(n){window.clearTimeout(d);
d=window.setTimeout(function(){var d=c.data,f=h,l=c.transport||a.fn.select2.ajaxDefaults.transport,q=a.extend({},a.fn.select2.ajaxDefaults.params,{type:c.type||"GET",cache:c.cache||!1,jsonpCallback:c.jsonpCallback||b,dataType:c.dataType||"json"}),d=d?d.call(m,n.term,n.page,n.context):null,f="function"===typeof f?f.call(m,n.term,n.page,n.context):f;e&&"function"===typeof e.abort&&e.abort();c.params&&(a.isFunction(c.params)?a.extend(q,c.params.call(m)):a.extend(q,c.params));a.extend(q,{url:f,dataType:c.dataType,
data:d,success:function(a){a=c.results(a,n.page);n.callback(a)}});e=l.call(m,q)},f)}}function L(b){var c=b,d,e,f=function(a){return""+a.text};a.isArray(c)&&(e=c,c={results:e});!1===a.isFunction(c)&&(e=c,c=function(){return e});b=c();b.text&&(f=b.text,a.isFunction(f)||(d=b.text,f=function(a){return a[d]}));return function(b){var d=b.term,g={results:[]},e;""===d?b.callback(c()):(e=function(c,g){var h,l;c=c[0];if(c.children){h={};for(l in c)c.hasOwnProperty(l)&&(h[l]=c[l]);h.children=[];a(c.children).each2(function(a,
b){e(b,h.children)});(h.children.length||b.matcher(d,f(h),c))&&g.push(h)}else b.matcher(d,f(c),c)&&g.push(c)},a(c().results).each2(function(a,b){e(b,g.results)}),b.callback(g))}}function H(c){var d=a.isFunction(c);return function(e){var f=e.term,h={results:[]};a(d?c():c).each(function(){var a=this.text!==b,c=a?this.text:this;(""===f||e.matcher(f,c))&&h.results.push(a?this:{id:this,text:this})});e.callback(h)}}function p(b,c){if(a.isFunction(b))return!0;if(!b)return!1;throw Error(c+" must be a function or a falsy value");
}function G(b){return a.isFunction(b)?b():b}function P(b){var c=0;a.each(b,function(a,b){b.children?c+=P(b.children):c++});return c}function Q(a,c,d,e){var f=a,h=!1,n,q,p,r;if(!e.createSearchChoice||!e.tokenSeparators||1>e.tokenSeparators.length)return b;for(;;){h=-1;q=0;for(p=e.tokenSeparators.length;q<p&&!(r=e.tokenSeparators[q],h=a.indexOf(r),0<=h);q++);if(0>h)break;n=a.substring(0,h);a=a.substring(h+r.length);if(0<n.length&&(n=e.createSearchChoice.call(this,n,c),n!==b&&null!==n&&e.id(n)!==b&&
null!==e.id(n))){h=!1;q=0;for(p=c.length;q<p;q++)if(m(e.id(n),e.id(c[q]))){h=!0;break}h||d(n)}}if(f!==a)return a}function U(b,c){var d=function(){};d.prototype=new b;d.prototype.constructor=d;d.prototype.parent=b.prototype;d.prototype=a.extend(d.prototype,c);return d}if(window.Select2===b){var D,J,N,ca,Z,O,T={x:0,y:0},W;D={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(a){a=a.which?
a.which:a;switch(a){case D.LEFT:case D.RIGHT:case D.UP:case D.DOWN:return!0}return!1},isControl:function(a){switch(a.which){case D.SHIFT:case D.CTRL:case D.ALT:return!0}return a.metaKey?!0:!1},isFunctionKey:function(a){a=a.which?a.which:a;return 112<=a&&123>=a}};var da="<div class='select2-measure-scrollbar'></div>",S={"\u24b6":"A","\uff21":"A","\u00c0":"A","\u00c1":"A","\u00c2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\u00c3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A",
"\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\u00c4":"A","\u01de":"A","\u1ea2":"A","\u00c5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\u00c6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C",
"\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u00c7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E",
"\u0114":"E","\u0116":"E","\u00cb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H",
"\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\u00cf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K",
"\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\u00d1":"N","\u1e44":"N","\u0147":"N",
"\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\u00d5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\u00d6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O",
"\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\u00d8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R",
"\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U",
"\uff35":"U","\u00d9":"U","\u00da":"U","\u00db":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\u00dc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V",
"\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\u00dd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z",
"\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\u00e3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\u00e4":"a","\u01df":"a","\u1ea3":"a","\u00e5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\u00e6":"ae","\u01fd":"ae",
"\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u00e7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d",
"\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\u00eb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g",
"\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\u00ef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i",
"\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l",
"\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\u00f1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\u00f5":"o",
"\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\u00f6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\u00f8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p",
"\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\u00df":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s",
"\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\u00fc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u",
"\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y",
"\u00fd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\u00ff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};J=a(document);Z=function(){var a=1;return function(){return a++}}();J.on("mousemove",function(a){T.x=a.pageX;T.y=a.pageY});J=U(Object,{bind:function(a){var b=this;return function(){a.apply(b,
arguments)}},init:function(c){var d,e;this.opts=c=this.prepareOpts(c);this.id=c.id;c.element.data("select2")!==b&&null!==c.element.data("select2")&&c.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(c.element.attr("id")||"autogen"+Z()).replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.containerSelector="#"+this.containerId;this.container.attr("id",this.containerId);this.body=s(function(){return c.element.closest("body")});u(this.container,
this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",c.element.attr("style"));this.container.css(G(c.containerCss));this.container.addClass(G(c.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",r);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");u(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);
this.dropdown.addClass(G(c.dropdownCssClass));this.dropdown.data("select2",this);this.dropdown.on("click",r);this.results=d=this.container.find(".select2-results");this.search=e=this.container.find("input.select2-input");this.resultsPage=this.queryCount=0;this.context=null;this.initContainer();this.container.on("click",r);t(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",".select2-results",this.bind(this.highlightUnderEvent));w(80,this.results);this.dropdown.on("scroll-debounced",
".select2-results",this.bind(this.loadMoreIfNeeded));a(this.container).on("change",".select2-input",function(a){a.stopPropagation()});a(this.dropdown).on("change",".select2-input",function(a){a.stopPropagation()});a.fn.mousewheel&&d.mousewheel(function(a,b,c,e){b=d.scrollTop();0<e&&0>=b-e?(d.scrollTop(0),r(a)):0>e&&d.get(0).scrollHeight-d.scrollTop()+e<=d.height()&&(d.scrollTop(d.get(0).scrollHeight-d.height()),r(a))});q(e);e.on("keyup-change input paste",this.bind(this.updateResults));e.on("focus",
function(){e.addClass("select2-focused")});e.on("blur",function(){e.removeClass("select2-focused")});this.dropdown.on("mouseup",".select2-results",this.bind(function(b){0<a(b.target).closest(".select2-result-selectable").length&&(this.highlightUnderEvent(b),this.selectHighlighted(b))}));this.dropdown.on("click mouseup mousedown",function(a){a.stopPropagation()});a.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());null!==c.maximumInputLength&&this.search.attr("maxlength",
c.maximumInputLength);var f=c.element.prop("disabled");f===b&&(f=!1);this.enable(!f);f=c.element.prop("readonly");f===b&&(f=!1);this.readonly(f);W=W||h();this.autofocus=c.element.prop("autofocus");c.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=b},destroy:function(){var a=this.opts.element,c=a.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);c!==b&&(c.container.remove(),c.dropdown.remove(),a.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",
this.autofocus||!1),this.elementTabIndex?a.attr({tabindex:this.elementTabIndex}):a.removeAttr("tabindex"),a.show())},optionToData:function(a){if(a.is("option"))return{id:a.prop("value"),text:a.text(),element:a.get(),css:a.attr("class"),disabled:a.prop("disabled"),locked:m(a.attr("locked"),"locked")||m(a.data("locked"),!0)};if(a.is("optgroup"))return{text:a.attr("label"),children:[],element:a.get(),css:a.attr("class")}},prepareOpts:function(c){var e,f,h,n=this;e=c.element;"select"===e.get(0).tagName.toLowerCase()&&
(this.select=f=c.element);f&&a.each("id multiple ajax query createSearchChoice initSelection data tags".split(" "),function(){if(this in c)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");});c=a.extend({},{populateResults:function(d,e,f){var h,l=this.opts.id;h=function(d,e,m){var v,q,p,k,r,t,s;d=c.sortResults(d,e,f);v=0;for(q=d.length;v<q;v+=1)p=d[v],r=!0===p.disabled,k=!r&&l(p)!==b,t=p.children&&0<p.children.length,s=a("<li></li>"),s.addClass("select2-results-dept-"+
m),s.addClass("select2-result"),s.addClass(k?"select2-result-selectable":"select2-result-unselectable"),r&&s.addClass("select2-disabled"),t&&s.addClass("select2-result-with-children"),s.addClass(n.opts.formatResultCssClass(p)),s.attr("role","presentation"),k=a(document.createElement("div")),k.addClass("select2-result-label"),k.attr("id","select2-result-label-"+Z()),k.attr("role","option"),r=c.formatResult(p,k,f,n.opts.escapeMarkup),r!==b&&k.html(r),s.append(k),t&&(t=a("<ul></ul>"),t.addClass("select2-result-sub"),
h(p.children,t,m+1),s.append(t)),s.data("select2-data",p),e.append(s)};h(e,d,0)}},a.fn.select2.defaults,c);"function"!==typeof c.id&&(h=c.id,c.id=function(a){return a[h]});if(a.isArray(c.element.data("select2Tags"))){if("tags"in c)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+c.element.attr("id");c.tags=c.element.data("select2Tags")}f?(c.query=this.bind(function(a){var c={results:[],more:!1},d=a.term,g,f,h;h=function(b,c){var e;b.is("option")?a.matcher(d,
b.text(),b)&&c.push(n.optionToData(b)):b.is("optgroup")&&(e=n.optionToData(b),b.children().each2(function(a,b){h(b,e.children)}),0<e.children.length&&c.push(e))};g=e.children();this.getPlaceholder()!==b&&0<g.length&&(f=this.getPlaceholderOption())&&(g=g.not(f));g.each2(function(a,b){h(b,c.results)});a.callback(c)}),c.id=function(a){return a.id}):"query"in c||("ajax"in c?((f=c.element.data("ajax-url"))&&0<f.length&&(c.ajax.url=f),c.query=I.call(c.element,c.ajax)):"data"in c?c.query=L(c.data):"tags"in
c&&(c.query=H(c.tags),c.createSearchChoice===b&&(c.createSearchChoice=function(b){return{id:a.trim(b),text:a.trim(b)}}),c.initSelection===b&&(c.initSelection=function(b,e){var f=[];a(d(b.val(),c.separator)).each(function(){var b={id:this,text:this},d=c.tags;a.isFunction(d)&&(d=d());a(d).each(function(){if(m(this.id,b.id))return b=this,!1});f.push(b)});e(f)})));if("function"!==typeof c.query)throw"query function not defined for Select2 "+c.element.attr("id");return c},monitorSource:function(){var a=
this.opts.element,c,d;a.on("change.select2",this.bind(function(a){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}));c=this.bind(function(){var c=a.prop("disabled");c===b&&(c=!1);this.enable(!c);c=a.prop("readonly");c===b&&(c=!1);this.readonly(c);u(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(G(this.opts.containerCssClass));u(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(G(this.opts.dropdownCssClass))});
a.on("propertychange.select2",c);this.mutationCallback===b&&(this.mutationCallback=function(a){a.forEach(c)});d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;d!==b&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new d(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(b){b=a.Event("select2-selecting",{val:this.id(b),object:b});this.opts.element.trigger(b);
return!b.isDefaultPrevented()},triggerChange:function(b){b=b||{};b=a.extend({},b,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(b);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var a=this._enabled&&!this._readonly;if(a===this.enabledInterface)return!1;this.container.toggleClass("select2-container-disabled",
!a);this.close();this.enabledInterface=a;return!0},enable:function(a){a===b&&(a=!0);this._enabled!==a&&(this._enabled=a,this.opts.element.prop("disabled",!a),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(a){a===b&&(a=!1);if(this._readonly===a)return!1;this._readonly=a;this.opts.element.prop("readonly",a);this.enableInterface();return!0},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var b=this.dropdown,c=this.container.offset(),
d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),h=a(window),m=h.width(),n=h.height(),q=h.scrollLeft()+m,n=h.scrollTop()+n,d=c.top+d,p=c.left,r=d+f<=n,t=c.top-f>=this.body().scrollTop(),s=b.outerWidth(!1),u=p+s<=q,y;b.hasClass("select2-drop-above")?(n=!0,!t&&r&&(y=!0,n=!1)):(n=!1,!r&&t&&(n=y=!0));y&&(b.hide(),c=this.container.offset(),d=this.container.outerHeight(!1),e=this.container.outerWidth(!1),f=b.outerHeight(!1),q=h.scrollLeft()+m,h.scrollTop(),d=c.top+d,
p=c.left,s=b.outerWidth(!1),u=p+s<=q,b.show());this.opts.dropdownAutoWidth?(h=a(".select2-results",b)[0],b.addClass("select2-drop-auto-width"),b.css("width",""),s=b.outerWidth(!1)+(h.scrollHeight===h.clientHeight?0:W.width),s>e?e=s:s=e,u=p+s<=q):this.container.removeClass("select2-drop-auto-width");"static"!==this.body().css("position")&&(q=this.body().offset(),d-=q.top,p-=q.left);u||(p=c.left+this.container.outerWidth(!1)-s);e={left:p,width:e};n?(e.top=c.top-f,e.bottom="auto",this.container.addClass("select2-drop-above"),
b.addClass("select2-drop-above")):(e.top=d,e.bottom="auto",this.container.removeClass("select2-drop-above"),b.removeClass("select2-drop-above"));e=a.extend(e,G(this.opts.dropdownCss));b.css(e)},shouldOpen:function(){var b;if(this.opened()||!1===this._enabled||!0===this._readonly)return!1;b=a.Event("select2-opening");this.opts.element.trigger(b);return!b.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},
open:function(){if(!this.shouldOpen())return!1;this.opening();return!0},opening:function(){var b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body());b=a("#select2-drop-mask");0==b.length&&(b=a(document.createElement("div")),b.attr("id","select2-drop-mask").attr("class",
"select2-drop-mask"),b.hide(),b.appendTo(this.body()),b.on("mousedown touchstart click",function(b){var c=a("#select2-drop");0<c.length&&(c=c.data("select2"),c.opts.selectOnBlur&&c.selectHighlighted({noFocus:!0}),c.close({focus:!0}),b.preventDefault(),b.stopPropagation())}));this.dropdown.prev()[0]!==b[0]&&this.dropdown.before(b);a("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");b.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");
var f=this;this.container.parents().add(window).each(function(){a(this).on(d+" "+c+" "+e,function(a){f.positionDropdown()})})},close:function(){if(this.opened()){var b=this.containerId,c="scroll."+b,d="resize."+b,e="orientationchange."+b;this.container.parents().add(window).each(function(){a(this).off(c).off(d).off(e)});this.clearDropdownAlignmentPreference();a("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");
this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(a.Event("select2-close"))}},externalSearch:function(a){this.open();this.search.val(a);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return G(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var b=this.results,c,d,e,f;d=this.highlight();0>d||(0==d?b.scrollTop(0):(c=this.findHighlightableChoices().find(".select2-result-label"),e=a(c[d]),
f=e.offset().top+e.outerHeight(!0),d===c.length-1&&(c=b.find("li.select2-more-results"),0<c.length&&(f=c.offset().top+c.outerHeight(!0))),c=b.offset().top+b.outerHeight(!0),f>c&&b.scrollTop(b.scrollTop()+(f-c)),f=e.offset().top-b.offset().top,0>f&&"none"!=e.css("display")&&b.scrollTop(b.scrollTop()+f)))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(b){for(var c=this.findHighlightableChoices(),
d=this.highlight();-1<d&&d<c.length;){var d=d+b,e=a(c[d]);if(e.hasClass("select2-result-selectable")&&!e.hasClass("select2-disabled")&&!e.hasClass("select2-selected")){this.highlight(d);break}}},highlight:function(b){var c=this.findHighlightableChoices();if(0===arguments.length)return e(c.filter(".select2-highlighted")[0],c.get());b>=c.length&&(b=c.length-1);0>b&&(b=0);this.removeHighlight();c=a(c[b]);c.addClass("select2-highlighted");this.search.attr("aria-activedescendant",c.find(".select2-result-label").attr("id"));
this.ensureHighlightVisible();(c=c.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(c),choice:c})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(b){b=a(b.target).closest(".select2-result-selectable");if(0<b.length&&!b.is(".select2-highlighted")){var c=this.findHighlightableChoices();this.highlight(c.index(b))}else 0==
b.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var a=this.results,b=a.find("li.select2-more-results"),c,d=this.resultsPage+1,e=this,f=this.search.val(),h=this.context;0!==b.length&&(c=b.offset().top-a.offset().top-a.height(),c<=this.opts.loadMorePadding&&(b.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:d,context:h,matcher:this.opts.matcher,callback:this.bind(function(c){e.opened()&&(e.opts.populateResults.call(this,a,c.results,{term:f,page:d,context:h}),
e.postprocessResults(c,!1,!1),!0===c.more?(b.detach().appendTo(a).text(e.opts.formatLoadMore(d+1)),window.setTimeout(function(){e.loadMoreIfNeeded()},10)):b.remove(),e.positionDropdown(),e.resultsPage=d,e.context=c.context,this.opts.element.trigger({type:"select2-loaded",items:c}))})})))},tokenize:function(){},updateResults:function(c){function d(){f.removeClass("select2-active");r.positionDropdown()}function e(a){h.html(a);d()}var f=this.search,h=this.results,n=this.opts,q,r=this;q=f.val();var t=
a.data(this.container,"select2-last-term"),s;if(!0===c||!t||!m(q,t))if(a.data(this.container,"select2-last-term",q),!0===c||!1!==this.showSearchInput&&this.opened()){s=++this.queryCount;t=this.getMaximumSelectionSize();if(1<=t&&(q=this.data(),a.isArray(q)&&q.length>=t&&p(n.formatSelectionTooBig,"formatSelectionTooBig"))){e("<li class='select2-selection-limit'>"+n.formatSelectionTooBig(t)+"</li>");return}f.val().length<n.minimumInputLength?(p(n.formatInputTooShort,"formatInputTooShort")?e("<li class='select2-no-results'>"+
n.formatInputTooShort(f.val(),n.minimumInputLength)+"</li>"):e(""),c&&this.showSearch&&this.showSearch(!0)):n.maximumInputLength&&f.val().length>n.maximumInputLength?p(n.formatInputTooLong,"formatInputTooLong")?e("<li class='select2-no-results'>"+n.formatInputTooLong(f.val(),n.maximumInputLength)+"</li>"):e(""):(n.formatSearching&&0===this.findHighlightableChoices().length&&e("<li class='select2-searching'>"+n.formatSearching()+"</li>"),f.addClass("select2-active"),this.removeHighlight(),q=this.tokenize(),
q!=b&&null!=q&&f.val(q),this.resultsPage=1,n.query({element:n.element,term:f.val(),page:this.resultsPage,context:null,matcher:n.matcher,callback:this.bind(function(q){var t;s==this.queryCount&&(this.opened()?(this.context=q.context===b?null:q.context,this.opts.createSearchChoice&&""!==f.val()&&(t=this.opts.createSearchChoice.call(r,f.val(),q.results),t!==b&&null!==t&&r.id(t)!==b&&null!==r.id(t)&&0===a(q.results).filter(function(){return m(r.id(this),r.id(t))}).length&&q.results.unshift(t)),0===q.results.length&&
p(n.formatNoMatches,"formatNoMatches")?e("<li class='select2-no-results'>"+n.formatNoMatches(f.val())+"</li>"):(h.empty(),r.opts.populateResults.call(this,h,q.results,{term:f.val(),page:this.resultsPage,context:null}),!0===q.more&&p(n.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+r.opts.escapeMarkup(n.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){r.loadMoreIfNeeded()},10)),this.postprocessResults(q,c),d(),this.opts.element.trigger({type:"select2-loaded",
items:q}))):this.search.removeClass("select2-active"))})}))}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){y(this.search)},selectHighlighted:function(a){var b=this.highlight(),
c=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");c?(this.highlight(b),this.onSelect(c,a)):a&&a.noFocus&&this.close()},getPlaceholder:function(){var a;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((a=this.getPlaceholderOption())!==b?a.text():b)},getPlaceholderOption:function(){if(this.select){var a=this.select.children("option").first();if(this.opts.placeholderOption!==
b)return"first"===this.opts.placeholderOption&&a||"function"===typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===a.text()&&""===a.val())return a}},initContainerWidth:function(){var c=function(){var c,d,e,g;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){c=this.opts.element.attr("style");if(c!==b)for(c=
c.split(";"),e=0,g=c.length;e<g;e+=1)if(d=c[e].replace(/\s/g,""),d=d.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==d&&1<=d.length)return d[1];return"resolve"===this.opts.width?(c=this.opts.element.css("width"),0<c.indexOf("%")?c:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return a.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==c&&this.container.css("width",c)}});N=U(J,{createContainer:function(){return a(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span></a><input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' /><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'       aria-autocomplete='list' title='Search field' />   </div>   <ul class='select2-results' role='listbox'>   </ul></div>")},
enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var c,d;0<=this.opts.minimumResultsForSearch&&this.showSearch(!0);this.parent.opening.apply(this,arguments);!1!==this.showSearchInput&&this.search.val(this.focusser.val());this.search.focus();c=this.search.get(0);c.createTextRange?(c=c.createTextRange(),c.collapse(!1),c.select()):c.setSelectionRange&&(d=this.search.val().length,c.setSelectionRange(d,
d));""===this.search.val()&&this.nextSearchTerm!=b&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(a.Event("select2-open"))},close:function(a){this.opened()&&(this.parent.close.apply(this,arguments),a=a||{focus:!0},this.focusser.prop("disabled",!1),a.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.prop("disabled",!1),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},
cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",!1);this.focusser.focus()},destroy:function(){a("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var b,c=this.container,d=this.dropdown,e=Z();0>this.opts.minimumResultsForSearch?this.showSearch(!1):this.showSearch(!0);this.selection=b=c.find(".select2-choice");this.focusser=c.find(".select2-focusser");b.find(".select2-chosen").attr("id",
"select2-chosen-"+e);this.focusser.attr("aria-labelledby","select2-chosen-"+e);this.results.attr("id","select2-results-"+e);this.search.attr("aria-owns","select2-results-"+e);this.focusser.attr("id","s2id_autogen"+e);c=a("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));e=this.opts.element.attr("title");this.opts.element.attr("title",e||c.text());this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled())if(a.which===
D.PAGE_UP||a.which===D.PAGE_DOWN)r(a);else switch(a.which){case D.UP:case D.DOWN:this.moveHighlight(a.which===D.UP?-1:1);r(a);break;case D.ENTER:this.selectHighlighted();r(a);break;case D.TAB:this.selectHighlighted({noFocus:!0});break;case D.ESC:this.cancel(a),r(a)}}));this.search.on("blur",this.bind(function(a){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(a){if(this.isInterfaceEnabled()&&
a.which!==D.TAB&&!D.isControl(a)&&!D.isFunctionKey(a)&&a.which!==D.ESC)if(!1===this.opts.openOnEnter&&a.which===D.ENTER)r(a);else if(a.which==D.DOWN||a.which==D.UP||a.which==D.ENTER&&this.opts.openOnEnter)a.altKey||a.ctrlKey||a.shiftKey||a.metaKey||(this.open(),r(a));else if(a.which==D.DELETE||a.which==D.BACKSPACE)this.opts.allowClear&&this.clear(),r(a)}));q(this.focusser);this.focusser.on("keyup-change input",this.bind(function(a){0<=this.opts.minimumResultsForSearch&&(a.stopPropagation(),this.opened()||
this.open())}));b.on("mousedown touchstart","abbr",this.bind(function(a){this.isInterfaceEnabled()&&(this.clear(),a.preventDefault(),a.stopImmediatePropagation(),this.close(),this.selection.focus())}));b.on("mousedown touchstart",this.bind(function(b){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();r(b)}));d.on("mousedown touchstart",this.bind(function(){this.search.focus()}));
b.on("focus",this.bind(function(a){r(a)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(a.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||
this.opts.element.trigger(a.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(b){var c=this.selection.data("select2-data");if(c){var d=a.Event("select2-clearing");this.opts.element.trigger(d);d.isDefaultPrevented()||(d=this.getPlaceholderOption(),this.opts.element.val(d?d.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),
this.setPlaceholder(),!1!==b&&(this.opts.element.trigger({type:"select2-removed",val:this.id(c),choice:c}),this.triggerChange({removed:c})))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var a;return this.getPlaceholder()?(a=this.getPlaceholderOption())!==
b&&a.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===b||null===this.opts.element.val():!1},prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=a.find("option").filter(function(){return this.selected});b(c.optionToData(d))}:"data"in b&&(b.initSelection=b.initSelection||function(c,d){var e=c.val(),f=null;b.query({matcher:function(a,c,d){(a=m(e,b.id(d)))&&(f=d);
return a},callback:a.isFunction(d)?function(){d(f)}:a.noop})});return b},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===b?b:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var a=this.getPlaceholder();!this.isPlaceholderOptionSelected()||a===b||this.select&&this.getPlaceholderOption()===b||(this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(a)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear"))},
postprocessResults:function(a,b,c){var d=0,e=this;this.findHighlightableChoices().each2(function(a,b){if(m(e.id(b.data("select2-data")),e.opts.element.val()))return d=a,!1});!1!==c&&(!0===b&&0<=d?this.highlight(d):this.highlight(0));!0===b&&(b=this.opts.minimumResultsForSearch,0<=b&&this.showSearch(P(a.results)>=b))},showSearch:function(b){this.showSearchInput!==b&&(this.showSearchInput=b,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!b),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",
!b),a(this.dropdown,this.container).toggleClass("select2-with-searchbox",b))},onSelect:function(a,b){if(this.triggerSelect(a)){var c=this.opts.element.val(),d=this.data();this.opts.element.val(this.id(a));this.updateSelection(a);this.opts.element.trigger({type:"select2-selected",val:this.id(a),choice:a});this.nextSearchTerm=this.opts.nextSearchTerm(a,this.search.val());this.close();b&&b.noFocus||this.focusser.focus();m(c,this.id(a))||this.triggerChange({added:a,removed:d})}},updateSelection:function(a){var c=
this.selection.find(".select2-chosen"),d;this.selection.data("select2-data",a);c.empty();null!==a&&(d=this.opts.formatSelection(a,c,this.opts.escapeMarkup));d!==b&&c.append(d);a=this.opts.formatSelectionCssClass(a,c);a!==b&&c.addClass(a);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==b&&this.container.addClass("select2-allowclear")},val:function(){var a,c=!1,d=null,e=this,f=this.data();if(0===arguments.length)return this.opts.element.val();a=arguments[0];
1<arguments.length&&(c=arguments[1]);if(this.select)this.select.val(a).find("option").filter(function(){return this.selected}).each2(function(a,b){d=e.optionToData(b);return!1}),this.updateSelection(d),this.setPlaceholder(),c&&this.triggerChange({added:d,removed:f});else if(a||0===a){if(this.opts.initSelection===b)throw Error("cannot call val() if initSelection() is not defined");this.opts.element.val(a);this.opts.initSelection(this.opts.element,function(a){e.opts.element.val(a?e.id(a):"");e.updateSelection(a);
e.setPlaceholder();c&&e.triggerChange({added:a,removed:f})})}else this.clear(c)},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(a){var c,d=!1;if(0===arguments.length)return c=this.selection.data("select2-data"),c==b&&(c=null),c;1<arguments.length&&(d=arguments[1]);a?(c=this.data(),this.opts.element.val(a?this.id(a):""),this.updateSelection(a),d&&this.triggerChange({added:a,removed:c})):this.clear(d)}});ca=U(J,{createContainer:function(){return a(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  </li></ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   </ul></div>")},
prepareOpts:function(){var b=this.parent.prepareOpts.apply(this,arguments),c=this;"select"===b.element.get(0).tagName.toLowerCase()?b.initSelection=function(a,b){var d=[];a.find("option").filter(function(){return this.selected}).each2(function(a,b){d.push(c.optionToData(b))});b(d)}:"data"in b&&(b.initSelection=b.initSelection||function(c,e){var f=d(c.val(),b.separator),h=[];b.query({matcher:function(c,d,e){(c=a.grep(f,function(a){return m(a,b.id(e))}).length)&&h.push(e);return c},callback:a.isFunction(e)?
function(){for(var a=[],c=0;c<f.length;c++)for(var d=f[c],l=0;l<h.length;l++){var n=h[l];if(m(d,b.id(n))){a.push(n);h.splice(l,1);break}}e(a)}:a.noop})});return b},selectChoice:function(a){var b=this.container.find(".select2-search-choice-focus");b.length&&a&&a[0]==b[0]||(b.length&&this.opts.element.trigger("choice-deselected",b),b.removeClass("select2-search-choice-focus"),a&&a.length&&(this.close(),a.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",a)))},destroy:function(){a("label[for='"+
this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var b;this.searchContainer=this.container.find(".select2-search-field");this.selection=b=this.container.find(".select2-choices");var c=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(b){c.search[0].focus();c.selectChoice(a(this))});this.search.attr("id","s2id_autogen"+Z());a("label[for='"+this.opts.element.attr("id")+"']").attr("for",
this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(c){var d,e;if(this.isInterfaceEnabled()){++this.keydowns;var f=b.find(".select2-search-choice-focus"),h=f.prev(".select2-search-choice:not(.select2-locked)"),l=f.next(".select2-search-choice:not(.select2-locked)");d=this.search;d=a(d)[0];var m=0;e=0;"selectionStart"in
d?(m=d.selectionStart,e=d.selectionEnd-m):"selection"in document&&(d.focus(),m=document.selection.createRange(),e=document.selection.createRange().text.length,m.moveStart("character",-d.value.length),m=m.text.length-e);d=m;if(!f.length||c.which!=D.LEFT&&c.which!=D.RIGHT&&c.which!=D.BACKSPACE&&c.which!=D.DELETE&&c.which!=D.ENTER)if((c.which!==D.BACKSPACE||1!=this.keydowns)&&c.which!=D.LEFT||0!=d||e){this.selectChoice(null);if(this.opened())switch(c.which){case D.UP:case D.DOWN:this.moveHighlight(c.which===
D.UP?-1:1);r(c);return;case D.ENTER:this.selectHighlighted();r(c);return;case D.TAB:this.selectHighlighted({noFocus:!0});this.close();return;case D.ESC:this.cancel(c);r(c);return}c.which===D.TAB||D.isControl(c)||D.isFunctionKey(c)||c.which===D.BACKSPACE||c.which===D.ESC||c.which===D.ENTER&&(!1===this.opts.openOnEnter||c.altKey||c.ctrlKey||c.shiftKey||c.metaKey)||(this.open(),c.which!==D.PAGE_UP&&c.which!==D.PAGE_DOWN||r(c),c.which===D.ENTER&&r(c))}else this.selectChoice(b.find(".select2-search-choice:not(.select2-locked)").last()),
r(c);else e=f,c.which==D.LEFT&&h.length?e=h:c.which==D.RIGHT?e=l.length?l:null:c.which===D.BACKSPACE?(this.unselect(f.first()),this.search.width(10),e=h.length?h:l):c.which==D.DELETE?(this.unselect(f.first()),this.search.width(10),e=l.length?l:null):c.which==D.ENTER&&(e=null),this.selectChoice(e),r(c),e&&e.length||this.open()}}));this.search.on("keyup",this.bind(function(a){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(b){this.container.removeClass("select2-container-active");
this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();b.stopImmediatePropagation();this.opts.element.trigger(a.Event("select2-blur"))}));this.container.on("click",".select2-choices",this.bind(function(b){!this.isInterfaceEnabled()||0<a(b.target).closest(".select2-search-choice").length||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.open(),
this.focusSearch(),b.preventDefault())}));this.container.on("focus",".select2-choices",this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(a.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,
arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch());if(this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(c){c!==b&&null!==c&&(a.updateSelection(c),a.close(),a.clearSearch())})}},clearSearch:function(){var a=this.getPlaceholder(),c=this.getMaxSearchWidth();a!==b&&0===this.getVal().length&&
!1===this.search.hasClass("select2-focused")?(this.search.val(a).addClass("select2-default"),this.search.width(0<c?c:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(!0);this.search.focus();this.opts.element.trigger(a.Event("select2-open"))},
close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(b){var c=[],d=[],f=this;a(b).each(function(){0>e(f.id(this),c)&&(c.push(f.id(this)),d.push(this))});b=d;this.selection.find(".select2-search-choice").remove();a(b).each(function(){f.addSelectedChoice(this)});f.postprocessResults()},tokenize:function(){var a=this.search.val(),a=this.opts.tokenizer.call(this,
a,this.data(),this.bind(this.onSelect),this.opts);null!=a&&a!=b&&(this.search.val(a),0<a.length&&this.open())},onSelect:function(a,b){this.triggerSelect(a)&&(this.addSelectedChoice(a),this.opts.element.trigger({type:"selected",val:this.id(a),choice:a}),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(a,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):0<this.countSelectableResults()?(this.search.width(10),
this.resizeSearch(),0<this.getMaximumSelectionSize()&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:a}),b&&b.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(c){var d=!c.locked,e=a("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),
f=a("<li class='select2-search-choice select2-locked'><div></div></li>"),e=d?e:f,f=this.id(c),h=this.getVal(),m;m=this.opts.formatSelection(c,e.find("div"),this.opts.escapeMarkup);m!=b&&e.find("div").replaceWith("<div>"+m+"</div>");m=this.opts.formatSelectionCssClass(c,e.find("div"));m!=b&&e.addClass(m);if(d)e.find(".select2-search-choice-close").on("mousedown",r).on("click dblclick",this.bind(function(b){this.isInterfaceEnabled()&&(a(b.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(a(b.target));
this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),r(b))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));e.data("select2-data",c);e.insertBefore(this.searchContainer);h.push(f);this.setVal(h)},unselect:function(b){var c=this.getVal(),d,f;b=b.closest(".select2-search-choice");if(0===b.length)throw"Invalid argument: "+
b+". Must be .select2-search-choice";if(d=b.data("select2-data")){for(;0<=(f=e(this.id(d),c));)c.splice(f,1),this.setVal(c),this.select&&this.postprocessResults();c=a.Event("select2-removing");c.val=this.id(d);c.choice=d;this.opts.element.trigger(c);c.isDefaultPrevented()||(b.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(d),choice:d}),this.triggerChange({removed:d}))}},postprocessResults:function(a,b,c){var d=this.getVal();b=this.results.find(".select2-result");var f=this.results.find(".select2-result-with-children"),
h=this;b.each2(function(a,b){var c=h.id(b.data("select2-data"));0<=e(c,d)&&(b.addClass("select2-selected"),b.find(".select2-result-selectable").addClass("select2-selected"))});f.each2(function(a,b){b.is(".select2-result-selectable")||0!==b.find(".select2-result-selectable:not(.select2-selected)").length||b.addClass("select2-selected")});-1==this.highlight()&&!1!==c&&h.highlight(0);!this.opts.createSearchChoice&&0<!b.filter(".select2-result:not(.select2-selected)").length&&(!a||a&&!a.more&&0===this.results.find(".select2-no-results").length)&&
p(h.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+h.opts.formatNoMatches(h.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-f(this.search)},resizeSearch:function(){var b,c,d,e,h=f(this.search);b=this.search;O||(d=b[0].currentStyle||window.getComputedStyle(b[0],null),O=a(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,
fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),O.attr("class","select2-sizer"),a("body").append(O));O.text(b.val());b=O.width()+10;c=this.search.offset().left;d=this.selection.width();e=this.selection.offset().left;c=d-(c-e)-h;c<b&&(c=d-h);40>c&&(c=d-h);0>=c&&(c=b);this.search.width(Math.floor(c))},getVal:function(){var a;if(this.select)return a=this.select.val(),null===a?[]:a;a=this.opts.element.val();return d(a,this.opts.separator)},setVal:function(b){var c;
this.select?this.select.val(b):(c=[],a(b).each(function(){0>e(this,c)&&c.push(this)}),this.opts.element.val(0===c.length?"":c.join(this.opts.separator)))},buildChangeDetails:function(a,b){b=b.slice(0);a=a.slice(0);for(var c=0;c<b.length;c++)for(var d=0;d<a.length;d++)m(this.opts.id(b[c]),this.opts.id(a[d]))&&(b.splice(c,1),0<c&&c--,a.splice(d,1),d--);return{added:b,removed:a}},val:function(c,d){var e,f=this;if(0===arguments.length)return this.getVal();e=this.data();e.length||(e=[]);if(c||0===c){this.setVal(c);
if(this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),d&&this.triggerChange(this.buildChangeDetails(e,this.data()));else{if(this.opts.initSelection===b)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(b){var c=a.map(b,f.id);f.setVal(c);f.updateSelection(b);f.clearSearch();d&&f.triggerChange(f.buildChangeDetails(e,f.data()))})}this.clearSearch()}else this.opts.element.val(""),this.updateSelection([]),
this.clearSearch(),d&&this.triggerChange({added:this.data(),removed:e})},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var b=[],c=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){b.push(c.opts.id(a(this).data("select2-data")))});
this.setVal(b);this.triggerChange()},data:function(b,c){var d=this,e,f;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return a(this).data("select2-data")}).get();f=this.data();b||(b=[]);e=a.map(b,function(a){return d.opts.id(a)});this.setVal(e);this.updateSelection(b);this.clearSearch();c&&this.triggerChange(this.buildChangeDetails(f,this.data()))}});a.fn.select2=function(){var c=Array.prototype.slice.call(arguments,0),d,f,h,m,n,q="val destroy opened open close focus isFocused container dropdown onSortStart onSortEnd enable disable readonly positionDropdown data search".split(" "),
p=["opened","isFocused","container","dropdown"],r=["val","data"],t={search:"externalSearch"};this.each(function(){if(0===c.length||"object"===typeof c[0])d=0===c.length?{}:a.extend({},c[0]),d.element=a(this),"select"===d.element.get(0).tagName.toLowerCase()?n=d.element.prop("multiple"):(n=d.multiple||!1,"tags"in d&&(d.multiple=n=!0)),f=n?new ca:new N,f.init(d);else if("string"===typeof c[0]){if(0>e(c[0],q))throw"Unknown method: "+c[0];m=b;f=a(this).data("select2");if(f!==b&&(h=c[0],"container"===
h?m=f.container:"dropdown"===h?m=f.dropdown:(t[h]&&(h=t[h]),m=f[h].apply(f,c.slice(1))),0<=e(c[0],p)||e(c[0],r)&&1==c.length))return!1}else throw"Invalid arguments to select2 plugin: "+c;});return m===b?this:m};a.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(a,b,c,d){b=[];n(a.text,c.term,b,d);return b.join("")},formatSelection:function(a,c,d){return a?d(a.text):b},sortResults:function(a,
b,c){return a},formatResultCssClass:function(a){return a.css},formatSelectionCssClass:function(a,c){return b},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(a,b){var c=b-a.length;return"Please enter "+c+" more character"+(1==c?"":"s")},formatInputTooLong:function(a,b){var c=a.length-b;return"Please delete "+c+" character"+(1==c?"":"s")},formatSelectionTooBig:function(a){return"You can only select "+a+" item"+(1==a?"":"s")},formatLoadMore:function(a){return"Loading more results..."},
formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(a){return a==b?null:a.id},matcher:function(a,b){return 0<=c(""+b).toUpperCase().indexOf(c(""+a).toUpperCase())},separator:",",tokenSeparators:[],tokenizer:Q,escapeMarkup:C,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(a){return a},adaptDropdownCssClass:function(a){return null},nextSearchTerm:function(a,c){return b}};a.fn.select2.ajaxDefaults=
{transport:a.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:I,local:L,tags:H},util:{debounce:z,markMatch:n,escapeMarkup:C,stripDiacritics:c},"class":{"abstract":J,single:N,multi:ca}}}})(jQuery);(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function b(a){m(function(){var b,c;for(b=0;a.length>b;b++)c=a[b],c.obj.css(c.css)})}var c,e,h;h=function(a,b){return function(){return a.apply(b,arguments)}};e={align:"center",autoResize:!1,comparator:null,container:a("body"),direction:void 0,ignoreInactiveItems:!0,itemWidth:0,fillEmptySpace:!1,flexibleWidth:0,offset:2,outerOffset:0,onLayoutChanged:void 0,possibleFilters:[],resizeDelay:50,verticalOffset:void 0};
var m=window.requestAnimationFrame||function(a){a()},d=a(window);c=function(){function c(b,f){this.handler=b;this.columns=this.containerWidth=this.resizeTimer=null;this.activeItemCount=0;this.itemHeightsDirty=!0;this.placeholders=[];a.extend(!0,this,e,f);this.verticalOffset=this.verticalOffset||this.offset;this.update=h(this.update,this);this.onResize=h(this.onResize,this);this.onRefresh=h(this.onRefresh,this);this.getItemWidth=h(this.getItemWidth,this);this.layout=h(this.layout,this);this.layoutFull=
h(this.layoutFull,this);this.layoutColumns=h(this.layoutColumns,this);this.filter=h(this.filter,this);this.clear=h(this.clear,this);this.getActiveItems=h(this.getActiveItems,this);this.refreshPlaceholders=h(this.refreshPlaceholders,this);this.sortElements=h(this.sortElements,this);this.updateFilterClasses=h(this.updateFilterClasses,this);this.updateFilterClasses();this.autoResize&&d.bind("resize.wookmark",this.onResize);this.container.bind("refreshWookmark",this.onRefresh)}return c.prototype.updateFilterClasses=
function(){for(var b,c,d,e=0,f=0,h=0,m={},u=this.possibleFilters;this.handler.length>e;e++)if(c=this.handler.eq(e),b=c.data("filterClass"),"object"==typeof b&&0<b.length)for(f=0;b.length>f;f++)d=a.trim(b[f]).toLowerCase(),void 0===m[d]&&(m[d]=[]),m[d].push(c[0]);for(;u.length>h;h++)b=a.trim(u[h]).toLowerCase(),b in m||(m[b]=[]);this.filterClasses=m},c.prototype.update=function(b){this.itemHeightsDirty=!0;a.extend(!0,this,b)},c.prototype.onResize=function(){clearTimeout(this.resizeTimer);this.itemHeightsDirty=
0!==this.flexibleWidth;this.resizeTimer=setTimeout(this.layout,this.resizeDelay)},c.prototype.onRefresh=function(){this.itemHeightsDirty=!0;this.layout()},c.prototype.filter=function(b,c,d){var e,f,h,m=[],u=a();if(b=b||[],c=c||"or",d=d||!1,b.length){for(f=0;b.length>f;f++)h=a.trim(b[f]).toLowerCase(),h in this.filterClasses&&m.push(this.filterClasses[h]);if(e=m.length,"or"==c||1==e)for(f=0;e>f;f++)u=u.add(m[f]);else if("and"==c){var n,C,I;b=m[0];c=!0;for(f=1;e>f;f++)m[f].length<b.length&&(b=m[f]);
b=b||[];for(f=0;b.length>f;f++){C=b[f];c=!0;for(e=0;m.length>e&&c;e++)if(I=m[e],b!=I){h=0;for(n=!1;I.length>h&&!n;h++)n=I[h]==C;c&=n}c&&u.push(b[f])}}d||this.handler.not(u).addClass("inactive")}else u=this.handler;return d||(u.removeClass("inactive"),this.columns=null,this.layout()),u},c.prototype.refreshPlaceholders=function(b,c){for(var d,e,f,h,m,u,n=this.placeholders.length,C=this.columns.length,I=this.container.innerHeight();C>n;n++)d=a('<div class="wookmark-placeholder"/>').appendTo(this.container),
this.placeholders.push(d);u=this.offset+2*parseInt(this.placeholders[0].css("borderLeftWidth"),10);for(n=0;this.placeholders.length>n;n++)if(d=this.placeholders[n],f=this.columns[n],n>=C||!f[f.length-1])d.css("display","none");else if(e=f[f.length-1],e)m=e.data("wookmark-top")+e.data("wookmark-height")+this.verticalOffset,h=I-m-u,d.css({position:"absolute",display:0<h?"block":"none",left:n*b+c,top:m,width:b-u,height:h})},c.prototype.getActiveItems=function(){return this.ignoreInactiveItems?this.handler.not(".inactive"):
this.handler},c.prototype.getItemWidth=function(){var a=this.itemWidth,b=this.container.width()-2*this.outerOffset,c=this.handler.eq(0),d=this.flexibleWidth;if(void 0===this.itemWidth||0===this.itemWidth&&!this.flexibleWidth?a=c.outerWidth():"string"==typeof this.itemWidth&&0<=this.itemWidth.indexOf("%")&&(a=parseFloat(this.itemWidth)/100*b),d)"string"==typeof d&&0<=d.indexOf("%")&&(d=parseFloat(d)/100*b),c=b+this.offset,c=Math.max(~~(0.5+c/(d+this.offset)),~~(c/(a+this.offset))),b=Math.min(d,~~((b-
(c-1)*this.offset)/c)),a=Math.max(a,b),this.handler.css("width",a);return a},c.prototype.layout=function(a){if(this.container.is(":visible")){var b,c=this.getItemWidth()+this.offset,d=this.container.width()-2*this.outerOffset,e=~~((d+this.offset)/c),f=b=0,f=0,h=this.getActiveItems(),m=h.length;if(this.itemHeightsDirty||!this.container.data("itemHeightsInitialized")){for(;m>f;f++)b=h.eq(f),b.data("wookmark-height",b.outerHeight());this.itemHeightsDirty=!1;this.container.data("itemHeightsInitialized",
!0)}e=Math.max(1,Math.min(e,m));b=this.outerOffset;"center"==this.align&&(b+=~~(0.5+(d-(e*c-this.offset))>>1));this.direction=this.direction||("right"==this.align?"right":"left");f=a||null===this.columns||this.columns.length!=e||this.activeItemCount!=m?this.layoutFull(c,e,b):this.layoutColumns(c,b);this.activeItemCount=m;this.container.css("height",f);this.fillEmptySpace&&this.refreshPlaceholders(c,b);void 0!==this.onLayoutChanged&&"function"==typeof this.onLayoutChanged&&this.onLayoutChanged()}},
c.prototype.sortElements=function(a){return"function"==typeof this.comparator?a.sort(this.comparator):a},c.prototype.layoutFull=function(c,d,e){var f,h,m=0;h=0;var r=a.makeArray(this.getActiveItems()),u=r.length,n=null,C=null,I=[],L=[],H="left"==this.align?!0:!1;this.columns=[];for(r=this.sortElements(r);d>I.length;)I.push(this.outerOffset),this.columns.push([]);for(;u>m;m++){f=a(r[m]);n=I[0];for(h=C=0;d>h;h++)n>I[h]&&(n=I[h],C=h);f.data("wookmark-top",n);h=e;(0<C||!H)&&(h+=C*c);(L[m]={obj:f,css:{position:"absolute",
top:n}}).css[this.direction]=h;I[C]+=f.data("wookmark-height")+this.verticalOffset;this.columns[C].push(f)}return b(L),Math.max.apply(Math,I)},c.prototype.layoutColumns=function(a,c){for(var d,e,f,h,m=[],u=[],n=0,C=0,I=0;this.columns.length>n;n++){m.push(this.outerOffset);e=this.columns[n];h=n*a+c;d=m[n];for(C=0;e.length>C;C++,I++)f=e[C].data("wookmark-top",d),(u[I]={obj:f,css:{top:d}}).css[this.direction]=h,d+=f.data("wookmark-height")+this.verticalOffset;m[n]=d}return b(u),Math.max.apply(Math,m)},
c.prototype.clear=function(){clearTimeout(this.resizeTimer);d.unbind("resize.wookmark",this.onResize);this.container.unbind("refreshWookmark",this.onRefresh);this.handler.wookmarkInstance=null},c}();a.fn.wookmark=function(a){return this.wookmarkInstance?this.wookmarkInstance.update(a||{}):this.wookmarkInstance=new c(this,a||{}),this.wookmarkInstance.layout(!0),this.show()}});(function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}var c=a.prototype;c.getListeners=function(a){var b=this._getEvents(),c,d;if("object"===typeof a)for(d in c={},b)b.hasOwnProperty(d)&&a.test(d)&&(c[d]=b[d]);else c=b[a]||(b[a]=[]);return c};c.flattenListeners=function(a){var b=[],c;for(c=0;c<a.length;c+=1)b.push(a[c].listener);return b};c.getListenersAsObject=function(a){var b=this.getListeners(a),c;b instanceof Array&&(c={},c[a]=b);return c||b};
c.addListener=function(a,c){var m=this.getListenersAsObject(a),d="object"===typeof c,f;for(f in m)m.hasOwnProperty(f)&&-1===b(m[f],c)&&m[f].push(d?c:{listener:c,once:!1});return this};c.on=c.addListener;c.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})};c.once=c.addOnceListener;c.defineEvent=function(a){this.getListeners(a);return this};c.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this};c.removeListener=function(a,c){var m=this.getListenersAsObject(a),
d,f;for(f in m)m.hasOwnProperty(f)&&(d=b(m[f],c),-1!==d&&m[f].splice(d,1));return this};c.off=c.removeListener;c.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)};c.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)};c.manipulateListeners=function(a,b,c){var d,f,q=a?this.removeListener:this.addListener;a=a?this.removeListeners:this.addListeners;if("object"!==typeof b||b instanceof RegExp)for(d=c.length;d--;)q.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&
(f=b[d])&&("function"===typeof f?q.call(this,d,f):a.call(this,d,f));return this};c.removeEvent=function(a){var b=typeof a,c=this._getEvents(),d;if("string"===b)delete c[a];else if("object"===b)for(d in c)c.hasOwnProperty(d)&&a.test(d)&&delete c[d];else delete this._events;return this};c.emitEvent=function(a,b){var c=this.getListenersAsObject(a),d,f,q,t;for(q in c)if(c.hasOwnProperty(q))for(f=c[q].length;f--;)d=c[q][f],t=d.listener.apply(this,b||[]),t!==this._getOnceReturnValue()&&!0!==d.once||this.removeListener(a,
c[q][f].listener);return this};c.trigger=c.emitEvent;c.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)};c.setOnceReturnValue=function(a){this._onceReturnValue=a;return this};c._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0};c._getEvents=function(){return this._events||(this._events={})};"function"===typeof define&&define.amd?define("eventEmitter/EventEmitter",function(){return a}):"undefined"!==typeof module&&
module.exports?module.exports=a:this.EventEmitter=a}).call(this);
(function(a){var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(b,c,d){b[c+d]=d.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement;d.handleEvent.call(d,b)}:function(){var c=a.event;c.target=c.target||c.srcElement;d.call(b,c)};b.attachEvent("on"+c,b[c+d])});var e=function(){};b.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+
b,a[b+c]);try{delete a[b+c]}catch(e){a[b+c]=void 0}});b={bind:c,unbind:e};"function"===typeof define&&define.amd?define("eventie/eventie",b):a.eventie=b})(this);
(function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){var b=[];if("[object Array]"===f.call(a))b=a;else if("number"===typeof a.length)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function e(a,e){function f(a,d,e){if(!(this instanceof f))return new f(a,d);"string"===typeof a&&(a=document.querySelectorAll(a));this.elements=c(a);this.options=b({},this.options);"function"===typeof d?e=d:b(this.options,d);if(e)this.on("always",e);this.getImages();h&&(this.jqDeferred=
new h.Deferred);var m=this;setTimeout(function(){m.check()})}function s(a){this.img=a}f.prototype=new a;f.prototype.options={};f.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;a<b;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var c=c.querySelectorAll("img"),d=0,e=c.length;d<e;d++)this.addImage(c[d])}};f.prototype.addImage=function(a){a=new s(a);this.images.push(a)};f.prototype.check=function(){function a(f,h){b.options.debug&&d&&m.log("confirm",
f,h);b.progress(f);c++;c===e&&b.complete();return!0}var b=this,c=0,e=this.images.length;this.hasAnyBroken=!1;if(e)for(var f=0;f<e;f++){var h=this.images[f];h.on("confirm",a);h.check()}else this.complete()};f.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a);b.jqDeferred&&b.jqDeferred.notify(b,a)})};f.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){b.emit(a,
b);b.emit("always",b);if(b.jqDeferred)b.jqDeferred[b.hasAnyBroken?"reject":"resolve"](b)})};h&&(h.fn.imagesLoaded=function(a,b){return(new f(this,a,b)).jqDeferred.promise(h(this))});var w={};s.prototype=new a;s.prototype.check=function(){var a=w[this.img.src];a?this.useCached(a):(w[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(a=this.proxyImage=new Image,e.bind(a,"load",this),e.bind(a,"error",this),a.src=this.img.src))};
s.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var b=this;a.on("confirm",function(a){b.confirm(a.isLoaded,"cache emitted confirmed");return!0})}};s.prototype.confirm=function(a,b){this.isConfirmed=!0;this.isLoaded=a;this.emit("confirm",this,b)};s.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b])this[b](a)};s.prototype.onload=function(){this.confirm(!0,"onload");this.unbindProxyEvents()};s.prototype.onerror=function(){this.confirm(!1,
"onerror");this.unbindProxyEvents()};s.prototype.unbindProxyEvents=function(){e.unbind(this.proxyImage,"load",this);e.unbind(this.proxyImage,"error",this)};return f}var h=a.jQuery,m=a.console,d="undefined"!==typeof m,f=Object.prototype.toString;"function"===typeof define&&define.amd?define("imagesLoaded",["eventEmitter/EventEmitter","eventie/eventie"],e):a.imagesLoaded=e(a.EventEmitter,a.eventie)})(window);(function(){function a(b,d){function e(a){if(e[a]!==Q)return e[a];var b;if("bug-string-char-index"==a)b="a"!="a"[0];else if("json"==a)b=e("json-stringify")&&e("json-parse");else{var c;if("json-stringify"==a){b=d.stringify;var g="function"==typeof b&&U;if(g){(c=function(){return 1}).toJSON=c;try{g="0"===b(0)&&"0"===b(new f)&&'""'==b(new m)&&b(p)===Q&&b(Q)===Q&&b()===Q&&"1"===b(c)&&"[1]"==b([c])&&"[null]"==b([Q])&&"null"==b(null)&&"[null,null,null]"==b([Q,p,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
b({a:[c,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===b(null,c)&&"[\n 1,\n 2\n]"==b([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==b(new n(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==b(new n(864E13))&&'"-000001-01-01T00:00:00.000Z"'==b(new n(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==b(new n(-1))}catch(h){g=!1}}b=g}if("json-parse"==a){b=d.parse;if("function"==typeof b)try{if(0===b("0")&&!b(!1)){c=b('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var l=5==c.a.length&&1===c.a[0];if(l){try{l=!b('"\t"')}catch(q){}if(l)try{l=
1!==b("01")}catch(t){}if(l)try{l=1!==b("1.")}catch(k){}}}}catch(u){l=!1}b=l}}return e[a]=!!b}b||(b=h.Object());d||(d=h.Object());var f=b.Number||h.Number,m=b.String||h.String,q=b.Object||h.Object,n=b.Date||h.Date,t=b.SyntaxError||h.SyntaxError,I=b.TypeError||h.TypeError,L=b.Math||h.Math,H=b.JSON||h.JSON;"object"==typeof H&&H&&(d.stringify=H.stringify,d.parse=H.parse);var q=q.prototype,p=q.toString,G,P,Q,U=new n(-0xc782b5b800cec);try{U=-109252==U.getUTCFullYear()&&0===U.getUTCMonth()&&1===U.getUTCDate()&&
10==U.getUTCHours()&&37==U.getUTCMinutes()&&6==U.getUTCSeconds()&&708==U.getUTCMilliseconds()}catch(D){}if(!e("json")){var J=e("bug-string-char-index");if(!U)var N=L.floor,ca=[0,31,59,90,120,151,181,212,243,273,304,334],Z=function(a,b){return ca[b]+365*(a-1970)+N((a-1969+(b=+(1<b)))/4)-N((a-1901+b)/100)+N((a-1601+b)/400)};(G=q.hasOwnProperty)||(G=function(a){var b={},c;(b.__proto__=null,b.__proto__={toString:1},b).toString!=p?G=function(a){var b=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=
b;return a}:(c=b.constructor,G=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])});b=null;return G.call(this,a)});P=function(a,b){var d=0,e,f,g;(e=function(){this.valueOf=0}).prototype.valueOf=0;f=new e;for(g in f)G.call(f,g)&&d++;e=f=null;d?P=2==d?function(a,b){var c={},d="[object Function]"==p.call(a),e;for(e in a)d&&"prototype"==e||G.call(c,e)||!(c[e]=1)||!G.call(a,e)||b(e)}:function(a,b){var c="[object Function]"==p.call(a),d,e;for(d in a)c&&"prototype"==
d||!G.call(a,d)||(e="constructor"===d)||b(d);(e||G.call(a,d="constructor"))&&b(d)}:(f="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),P=function(a,b){var d="[object Function]"==p.call(a),e,g=!d&&"function"!=typeof a.constructor&&c[typeof a.hasOwnProperty]&&a.hasOwnProperty||G;for(e in a)d&&"prototype"==e||!g.call(a,e)||b(e);for(d=f.length;e=f[--d];g.call(a,e)&&b(e));});return P(a,b)};if(!e("json-stringify")){var O={92:"\\\\",34:'\\"',8:"\\b",
12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T=function(a,b){return("000000"+(b||0)).slice(-a)},W=function(a){for(var b='"',c=0,d=a.length,e=!J||10<d,f=e&&(J?a.split(""):a);c<d;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=O[g];break;default:if(32>g){b+="\\u00"+T(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},da=function(a,b,c,d,e,f,g){var h,k,l,m,n,q,r,t,s;try{h=b[a]}catch(u){}if("object"==typeof h&&h)if(k=p.call(h),"[object Date]"!=k||G.call(h,
"toJSON"))"function"==typeof h.toJSON&&("[object Number]"!=k&&"[object String]"!=k&&"[object Array]"!=k||G.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&h<1/0){if(Z){m=N(h/864E5);for(k=N(m/365.2425)+1970-1;Z(k+1,0)<=m;k++);for(l=N((m-Z(k,0))/30.42);Z(k,l+1)<=m;l++);m=1+m-Z(k,l);n=(h%864E5+864E5)%864E5;q=N(n/36E5)%24;r=N(n/6E4)%60;t=N(n/1E3)%60;n%=1E3}else k=h.getUTCFullYear(),l=h.getUTCMonth(),m=h.getUTCDate(),q=h.getUTCHours(),r=h.getUTCMinutes(),t=h.getUTCSeconds(),n=h.getUTCMilliseconds();
h=(0>=k||1E4<=k?(0>k?"-":"+")+T(6,0>k?-k:k):T(4,k))+"-"+T(2,l+1)+"-"+T(2,m)+"T"+T(2,q)+":"+T(2,r)+":"+T(2,t)+"."+T(3,n)+"Z"}else h=null;c&&(h=c.call(b,a,h));if(null===h)return"null";k=p.call(h);if("[object Boolean]"==k)return""+h;if("[object Number]"==k)return h>-1/0&&h<1/0?""+h:"null";if("[object String]"==k)return W(""+h);if("object"==typeof h){for(a=g.length;a--;)if(g[a]===h)throw I();g.push(h);s=[];b=f;f+=e;if("[object Array]"==k){l=0;for(a=h.length;l<a;l++)k=da(l,h,c,d,e,f,g),s.push(k===Q?"null":
k);a=s.length?e?"[\n"+f+s.join(",\n"+f)+"\n"+b+"]":"["+s.join(",")+"]":"[]"}else P(d||h,function(a){var b=da(a,h,c,d,e,f,g);b!==Q&&s.push(W(a)+":"+(e?" ":"")+b)}),a=s.length?e?"{\n"+f+s.join(",\n"+f)+"\n"+b+"}":"{"+s.join(",")+"}":"{}";g.pop();return a}};d.stringify=function(a,b,d){var e,f,g,h;if(c[typeof b]&&b)if("[object Function]"==(h=p.call(b)))f=b;else if("[object Array]"==h){g={};for(var l=0,k=b.length,m;l<k;m=b[l++],(h=p.call(m),"[object String]"==h||"[object Number]"==h)&&(g[m]=1));}if(d)if("[object Number]"==
(h=p.call(d))){if(0<(d-=d%1))for(e="",10<d&&(d=10);e.length<d;e+=" ");}else"[object String]"==h&&(e=10>=d.length?d:d.slice(0,10));return da("",(m={},m[""]=a,m),f,g,e,"",[])}}if(!e("json-parse")){var S=m.fromCharCode,g={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},l,v,R=function(){l=v=null;throw t();},K=function(){for(var a=v,b=a.length,c,d,e,f,h;l<b;)switch(h=a.charCodeAt(l),h){case 9:case 10:case 13:case 32:l++;break;case 123:case 125:case 91:case 93:case 58:case 44:return c=
J?a.charAt(l):a[l],l++,c;case 34:c="@";for(l++;l<b;)if(h=a.charCodeAt(l),32>h)R();else if(92==h)switch(h=a.charCodeAt(++l),h){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c+=g[h];l++;break;case 117:d=++l;for(e=l+4;l<e;l++)h=a.charCodeAt(l),48<=h&&57>=h||97<=h&&102>=h||65<=h&&70>=h||R();c+=S("0x"+a.slice(d,l));break;default:R()}else{if(34==h)break;h=a.charCodeAt(l);for(d=l;32<=h&&92!=h&&34!=h;)h=a.charCodeAt(++l);c+=a.slice(d,l)}if(34==a.charCodeAt(l))return l++,c;R();default:d=
l;45==h&&(f=!0,h=a.charCodeAt(++l));if(48<=h&&57>=h){for(48==h&&(h=a.charCodeAt(l+1),48<=h&&57>=h)&&R();l<b&&(h=a.charCodeAt(l),48<=h&&57>=h);l++);if(46==a.charCodeAt(l)){for(e=++l;e<b&&(h=a.charCodeAt(e),48<=h&&57>=h);e++);e==l&&R();l=e}h=a.charCodeAt(l);if(101==h||69==h){h=a.charCodeAt(++l);43!=h&&45!=h||l++;for(e=l;e<b&&(h=a.charCodeAt(e),48<=h&&57>=h);e++);e==l&&R();l=e}return+a.slice(d,l)}f&&R();if("true"==a.slice(l,l+4))return l+=4,!0;if("false"==a.slice(l,l+5))return l+=5,!1;if("null"==a.slice(l,
l+4))return l+=4,null;R()}return"$"},aa=function(a){var b,c;"$"==a&&R();if("string"==typeof a){if("@"==(J?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];;c||(c=!0)){a=K();if("]"==a)break;c&&(","==a?(a=K(),"]"==a&&R()):R());","==a&&R();b.push(aa(a))}return b}if("{"==a){for(b={};;c||(c=!0)){a=K();if("}"==a)break;c&&(","==a?(a=K(),"}"==a&&R()):R());","!=a&&"string"==typeof a&&"@"==(J?a.charAt(0):a[0])&&":"==K()||R();b[a.slice(1)]=aa(K())}return b}R()}return a},V=function(a,b,c){c=ga(a,b,c);
c===Q?delete a[b]:a[b]=c},ga=function(a,b,c){var d=a[b],e;if("object"==typeof d&&d)if("[object Array]"==p.call(d))for(e=d.length;e--;)V(d,e,c);else P(d,function(a){V(d,a,c)});return c.call(a,b,d)};d.parse=function(a,b){var c,d;l=0;v=""+a;c=aa(K());"$"!=K()&&R();l=v=null;return b&&"[object Function]"==p.call(b)?ga((d={},d[""]=c,d),"",b):c}}}d.runInContext=a;return d}var b="function"===typeof define&&define.amd,c={"function":!0,object:!0},e=c[typeof exports]&&exports&&!exports.nodeType&&exports,h=c[typeof window]&&
window||this,m=e&&c[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;!m||m.global!==m&&m.window!==m&&m.self!==m||(h=m);if(e&&!b)a(h,e);else{var d=h.JSON,f=h.JSON3,q=!1,t=a(h,h.JSON3={noConflict:function(){q||(q=!0,h.JSON=d,h.JSON3=f,d=f=null);return t}});h.JSON={parse:t.parse,stringify:t.stringify}}b&&define(function(){return t})}).call(this);var app={APPNAME:"EVENT DAWG",API_BASEPATH:"http://eventdawg.local3:8080/server/index.php/",NETWORK_DAWG:1,NETWORK_FACEBOOK:2,NETWORK_GOOGLE:3,NETWORK_PLANVINE:4,IMAGE_DIR:"img/",EVENT_IMAGE_UPLOAD_DIR:"image_upload/events/",DATE_RANGE_DAY:0,DATE_RANGE_WEEK:1,DATE_RANGE_MONTH:2,DATE_RANGE_YEAR:3,DATE_RANGE_CUSTOM:4,TRIANGLE_DOWN:"&#x25BC;",TRIANGLE_UP:"&#x25B2;",MOMENT_MYSQL_DATE_FORMAT:"YYYY-MM-DD hh:mm:ss",curScreenWidth:window.innerWidth,task_count:0,location:{},clearTasks:function(){},tasksStart:function(){$("#loading").show()},
tasksStop:function(){$("#loading").hide()},handleError:function(a){debug("error: "+a);$("#loading").hide();this.task_count=0},ajaxAbort:function(){$("#loading").hide();this.task_count=0},getBookmarks:function(a){var b=[];switch(a){case app.NETWORK_DAWG:b=getCookie("dawg_bookmarks");break;case app.NETWORK_FACEBOOK:b=getCookie("facebook_bookmarks")}return b?b.split(","):[]},isBookmarked:function(a,b){for(var c=app.getBookmarks(a),e=!1,h=0;h<c.length;h++)if(c[h]==b){e=!0;break}return e},hideIOSKeyboard:function(){document.activeElement.blur();
$("input").blur()},getMyLocation:function(){var a=this;this.location={country:"UK",city:"London",region:"London",ip:null,hostname:null};$.get("http://ipinfo.io",function(b){a.location.country=b.country;a.location.city=b.city;a.location.region=b.region;a.location.ip=b.ip;a.location.hostname=b.hostname;b=b.loc.split(",");a.location.lat=parseFloat(b[0]);a.location.lon=parseFloat(b[1]);debug("getMyLocation: response ");debug(a.location);Backbone.trigger("locationChange")},"jsonp")}};app=app||{};app.DawgEventCollection=Backbone.Collection.extend({model:app.DawgEvent,url:"/api/v1/search/format/json"});app=app||{};app.DawgEvent=Backbone.Model.extend({idAttribute:"id",url:"/api/v1/getEventDetails/format/json",defaults:{nm:"NA",sd:null,ed:null,ct:[],lat:-33.848352,lng:151.207873,marked:null},initialize:function(a){}});app=app||{};
app.DawgModel=Backbone.Model.extend({defaults:{active:!0,events:new app.DawgEventCollection,start:1,searching:!1},initialize:function(a){this.search_model=a.search_model;this.fetchXHR=null;this.searching=!1},abort:function(){this.fetchXhr&&0<this.fetchXhr.readyState&&4>this.fetchXhr.readyState&&(this.fetchXhr.abort(),this.fetchXhr=null,Backbone.trigger("taskStop"),this.searching=!1)},search:function(){this.abort();var a=this.search_model.get("bounds");this.search_data={start:0,limit:this.search_model.get("EVENT_LIMIT"),tags:this.search_model.get("search_string"),
sw_lat:a.sw_lat,sw_lng:a.sw_lng,ne_lat:a.ne_lat,ne_lng:a.ne_lng,start_date:this.search_model.get("start_date").toMySQLDate(),end_date:this.search_model.get("end_date").toMySQLDate()};debug("dawg search:");debug(this.search_date);Backbone.trigger("taskStart");this.get("events").reset();this.search2()},search2:function(){var a=this;this.fetchXhr=a.get("events").fetch({data:this.search_data,timeout:this.search_model.get("TIMEOUT")}).done(function(b){a.get("events").forEach(function(a){a.set("sd",new Date(1E3*
a.get("sd")));a.set("ed",new Date(1E3*a.get("ed")));a.set("bookmarked",!1)});a.onSearchFinish();a.search_data.start+=a.get("events").length}).fail(function(a){Backbone.trigger("taskStop");Backbone.trigger("error",a.status+": "+a.statusText)})},onSearchFinish:function(){this.fetchXhr=null;Backbone.trigger("taskStop");Backbone.trigger("statusMessage","found "+this.get("events").length+" dawg events");Backbone.trigger("dawgEventCountChange",this.get("events").length);debug("dawg search finished");for(var a=
app.getBookmarks(app.NETWORK_DAWG),b=0;b<a.length;b++){var c=this.get("events").get(a[b]);c&&c.set("bookmarked",!0)}}});app=app||{};app.EventMemberModel=Backbone.Model.extend({defaults:{eid:null,uid:null,rsvp_status:null},initialize:function(){}});app=app||{};
app.EventModel=Backbone.Model.extend({idAttribute:"eid",initialize:function(){},defaults:{name:"",description:"",location:null,start_time:null,end_time:null,privacy:null,ticket_uri:null,pic:null,pic_big:null,pic_small:null,pic_square:null,owner_id:null,owner_name:null,venue_id:null,in_range:!1,dm1:null,dm2:null,venue_id:null,latitude:null,longitude:null,city:null,country:null,state:null,street:null,zip:null,in_range:!1},validation:{name:{required:!0,msg:"Please enter a valid name"},start_date:{required:!0,msg:"Please enter a start date"}},
filterByDate:function(a,b){var c=moment().range(a,b);if(this.get("dm1").within(c))return this.set("in_range",!0),!0;this.set("in_range",!1);return!1},inBounds:function(a){return!empty(a)&&!empty(this.get("latitude"))&&!empty(this.get("longitude"))&&this.get("latitude")>=a.sw_lat&&this.get("latitude")<=a.ne_lat&&this.get("longitude")>=a.sw_lng&&this.get("longitude")<=a.ne_lng?!0:!1}});app=app||{};app.FriendModel=Backbone.Model.extend({idAttribute:"uid",defaults:{uid:null,name:null,email:null,pic_square:null},initialize:function(){}});app=app||{};
app.EventCollection=Backbone.Collection.extend({model:app.EventModel,initialize:function(){},comparator:function(a,b){if(!a||!b)return 0;var c=a.get("dm1"),e=b.get("dm1");if(empty(c)||empty(e))c||debug("facebookEventCollection:comparator: no aval"),e||debug("facebookEventCollection:comparator: no bval");else{c=a.get("dm1").unix();e=b.get("dm1").unix();if(c>e)return 1;if(c<e)return-1}return 0},filterByDate:function(a,b){var c=0;this.forEach(function(e,h){a.overlap(a,b,e.get("dm1").toDate(),e.get("dm2").toDate())?
(e.set("in_range",!0),c++):e.set("in_range",!1)});this.updateEventCount();return c},updateEventCount:function(){var a=0;this.forEach(function(b,c){b.get("in_range")&&a++});Backbone.trigger("facebookEventCountChange",a+"/"+this.length+" events")}});app=app||{};app.EventMemberCollection=Backbone.Collection.extend({model:app.EventMemberModel});app=app||{};app.FriendCollection=Backbone.Collection.extend({model:app.FriendModel});app=app||{};
app.FacebookModel=Backbone.Model.extend({API_PATH:"../client/api/index.php/",DOMINIC_REID:"782640483",CRAIG_WALKER:"514314208",SYDNEY_LAT:-33.848352,SYDNEY_LNG:151.207873,LONDON_LAT:51.517,LONDON_LNG:0.106,task_count:0,onComplete:null,connections:[],app_domains:"rtessler.com nicepontes.com eventdawg.com roberttessler.com eventdawg.local eventdawg.local3".split(" "),APP_ID:0x93ba4d21967e,APP_DOMAIN_NAME:"eventdawg.com",api_loaded:!1,access_token:null,userid:null,event_type:"friend",USER_FIELDS:"id,name,email,picture",PUBLIC_EVENT_FIELDS:"id,name,description,location,start_time,end_time,privacy,ticket_uri,cover,picture,venue,owner",
EVENT_FIELDS:"id,name,description,location,start_time,end_time,rsvp_status,privacy,ticket_uri,cover,picture,venue,owner",FQL_EVENT_FIELDS:"eid, name, venue, pic_square, pic_cover, location, start_time, end_time, privacy, ticket_uri",BASEPATH:"/",defaults:{me:null,friends:null,event_members:null,friend_events:null,public_events:null,featured_events:null},initialize:function(a){this.search_model=a.search_model;this.set("me",new app.FriendModel);this.set("friends",new app.FriendCollection);this.set("event_members",
new app.EventMemberCollection);this.set("friend_events",new app.EventCollection);this.set("public_events",new app.EventCollection);this.set("featured_events",new app.EventCollection);this.jqxhr=null},initSearch:function(){this.task_count=0;this.onComplete=null;this.connections=[]},appDomainOK:function(){var a=document.location.href;return _.some(this.app_domains,function(b){return 0<=a.indexOf(b)})},isAPILoaded:function(){return this.api_loaded},loadAPI:function(a,b){var c=this;this.appDomainOK()?
(FB.init({appId:c.APP_ID,channelUrl:"//www."+c.APP_DOMAIN_NAME+"/channel.html",status:!0,cookie:!0,xfbml:!0}),c.api_loaded=!0,FB.Event.subscribe("auth.logout",function(a){c.access_token=null;c.userid=null;debug("logged out of facebook")}),a&&a(b)):(Backbone.trigger("error","cant load facebook api, bad app domain"),debug("error","cant load facebook api, bad app domain"))},statusOK:function(a){return this.isAPILoaded()&&this.isLoggedIn()?!0:!1},getLoginStatus:function(){var a=this,b=jQuery.Deferred();
if(this.isAPILoaded())return FB.getLoginStatus(function(c){c.error?(Backbone.trigger("error","getLoginStatus: "+c.error.message),b.reject(c.error.message)):("connected"===c.status?(a.access_token=c.authResponse.accessToken,a.userid=c.authResponse.userID):"not_authorized"===c.status?debug("getLoginStatus: not_authorized"):debug("getLoginStatus: not_logged_in"),b.resolve(c))}),b.promise();b.reject("api not loaded")},login:function(){var a=this,b=jQuery.Deferred();if(this.isAPILoaded())return FB.login(function(c){c.error?
(Backbone.trigger("error","login: "+c.error.message),b.reject(c.error.message)):c.authResponse?(c.authResponse&&"connected"==c.status&&(a.userid=c.authResponse.userID,a.access_token=c.authResponse.accessToken,Backbone.trigger("facebookLogin")),b.resolve(c)):b.reject("user cancelled login")},{scope:"email,user_events,friends_events,rsvp_event,friends_online_presence"}),b.promise();b.reject("api not loaded")},logout:function(){var a=this,b=jQuery.Deferred();if(this.isAPILoaded())return FB.logout(function(c){c.authResponse?
(a.access_token=null,a.userid=null,b.resolve(c),Backbone.trigger("facebookLogout")):b.reject(thrownError)}),b.promise();b.reject("api not loaded")},isLoggedIn:function(){return!empty(this.access_token)&&!empty(this.userid)},getPermissions:function(){var a=jQuery.Deferred();if(this.statusOK(void 0))if(empty(this.access_token))a.reject("getPermissions: access_token is null");else return FB.api(this.userid+"/permissions?access_token="+this.access_token,function(b){a.resolve(b)}),a.promise();else a.reject(void 0)},
taskStart:function(){this.task_count++},taskStop:function(){this.task_count--;0>=this.task_count&&(this.task_count=0,debug("facebookModel.taskStop: all tasks complete"),this.onComplete&&(this.onComplete(),this.onComplete=null))},_abortAjax:function(){_.each(this.connections,function(a){a&&!a.complete&&a.abort()});this.task_count=0;this.connections=[];this.onComplete=null},_setMomentDates:function(a){var b=null,c=null,b=empty(a.start_time)?moment():moment(a.start_time);empty(a.end_time)?(c=b.add("days",
1),c.hour(0),c.minute(0),c.second(0)):c=moment(a.end_time);a.dm1=b;a.dm2=c},_createUser:function(a){return{uid:a.id,name:a.name,email:a.email,pic_square:a.picture&&a.picture.data?a.picture.data.url:null}},_createEvent:function(a){var b={eid:a.id,name:a.name,description:a.description,pic:null,pic_big:a.cover?a.cover.source:null,pic_cover:a.cover?a.cover.source:null,pic_small:a.picture&&a.picture.data?a.picture.data.url:null,pic_square:a.picture&&a.picture.data?a.picture.data.url:null,location:a.location,
start_time:a.start_time,end_time:a.end_time,privacy:a.privacy,ticket_uri:a.ticket_uri,owner_id:a.owner?a.owner.id:null,owner_name:a.owner?a.owner.name:null};this._setMomentDates(a);b.dm1=a.dm1;b.dm2=a.dm2;var c=this.search_model.get("start_date"),e=this.search_model.get("end_date");b.in_range=c.overlap(c,e,a.dm1.toDate(),a.dm2.toDate());a.venue&&a.venue.latitude&&a.venue.longitude&&(b.venue_id=a.venue.id,b.latitude=a.venue.latitude,b.longitude=a.venue.longitude,b.city=a.venue.city,b.country=a.venue.country,
b.state=a.venue.state,b.street=a.venue.street,b.zip=a.venue.zip);return b},_addEvent:function(a,b){var c=this.get("friend_events"),e=this.get("event_members"),h=a.id+b;e.get(h)||e.add({id:h,eid:a.id,uid:b,rsvp_status:a.rsvp_status});return c.get(a.id)?!1:(c.add(this._createEvent(a)),!0)},_addPublicEvent:function(a){var b=this.get("public_events");return b.get(a.id)?!1:(b.add(this._createEvent(a)),!0)},getMyDetailsAndEvents:function(){var a=this,b=jQuery.Deferred();if(this.statusOK(void 0)){var c=
this.userid+"?fields="+this.USER_FIELDS+",events.fields("+this.EVENT_FIELDS+").limit(100000)",e=timeStart(e);this.taskStart();FB.api(c,function(c){debug("getMyDetailsAndEvents: completed in "+timeEnd(e)+" ms");if(c.error)Backbone.trigger("error","getMyDetailsAndEvents: "+c.error.message),b.reject(c.error.message);else if(a.get("me").set(a._createUser(c)),c.events){var m=moment().unix();_.each(c.events.data,function(b){a._setMomentDates(b);(b.dm1.unix()>=m||b.dm2.unix()>=m)&&a._addEvent(b,c.id)});
c.events.paging&&c.events.paging.next&&a.getNextEvents(c.events.paging.next,c.id,0)}a.taskStop();b.resolve(c)});return b.promise()}b.reject(void 0)},getMyDetails:function(){var a=this,b=jQuery.Deferred();if(this.statusOK(void 0)){var c="me?fields="+this.USER_FIELDS,e=timeStart();Backbone.trigger("tasksStart");FB.api(c,function(c){c.error?(Backbone.trigger("error","getMyDetails: "+c.error.message),b.reject(c.error.message)):(debug("getMyDetails: completed in "+timeEnd(e)+" ms"),a.get("me").set(a.createUser(c)),
Backbone.trigger("gotMyDetails"),b.resolve(c));Backbone.trigger("tasksStop")});return b.promise()}b.reject(void 0)},getFriendsAndEvents:function(){var a=this,b=jQuery.Deferred();if(this.statusOK(void 0)){var c=this.userid+"/friends?fields="+this.USER_FIELDS+",events.fields("+this.EVENT_FIELDS+").limit(100000)",e=a.get("friends");a.get("event_members");a.get("friend_events");var h=timeStart();this.taskStart();FB.api(c,function(c){c.error?(Backbone.trigger("error","getFriends: "+c.error.message),b.reject(c.error.message)):
(debug("getFriendsAndEvents: complete: found "+c.data.length+" friends in "+timeEnd(h)+" ms"),_.each(c.data,function(b){if(b.events){var c=!1,h=moment().unix();_.each(b.events.data,function(e){a._setMomentDates(e);e.dm1.unix()>=h||e.dm2.unix()>=h?a._addEvent(e,b.id):c=!0});b.events.paging&&b.events.paging.next&&!c&&a.getNextEvents(b.events.paging.next,b.id,0)}e.add(a._createUser(b))}),c.paging&&c.paging.next&&a.getNextFriends(c.paging.next),Backbone.trigger("gotFriends",c.data.length),b.resolve(c.data));
a.taskStop()});return b.promise()}b.reject(void 0)},getFriends:function(){var a=this,b=jQuery.Deferred();if(this.statusOK(void 0)){var c="me/friends?fields="+this.USER_FIELDS,e=timeStart();Backbone.trigger("tasksStart");FB.api(c,function(c){if(c.error)Backbone.trigger("error","getFriends: "+c.error.message),b.reject(c.error.message);else{debug("getFriends: complete: found "+c.data.length+" friends in "+timeEnd(e)+" ms");a.get("friends").reset();var m=a.get("friends");_.each(c.data,function(b){m.add(a._createUser(b))});
Backbone.trigger("gotFriends",c.data.length);b.resolve(c.data)}Backbone.trigger("tasksStop")});return b.promise()}b.reject(void 0)},getNextFriends:function(a){var b=this;this.taskStart();a=$.ajax({type:"GET",url:a,contentType:"application/json; charset=utf-8",success:function(a){debug("getNextFriends: success");var e=b.get("friends");_.each(a.data,function(a){e.add(b.createUser(a));if(a.events){var c=!1,d=moment().unix();_.each(a.events.data,function(e){b._setMomentDates(e);e.dm1.unix()>=d||e.dm2.unix()>=
d?b._addEvent(e,a.id):c=!0});a.events.paging&&a.events.paging.next&&!c&&b.getNextEvents(a.events.paging.next,a.id,0)}})},error:function(a,b,h){debug(h)},complete:function(a,e){a.complete=!0;b.taskStop()}});b.connections.push(a)},getNextEvents:function(a,b,c){var e=this;e.taskStart();a=$.ajax({type:"GET",url:a,contentType:"application/json; charset=utf-8",success:function(a){debug("getNextEvents: success: depth "+c);var m=!1,d=moment().unix();_.each(a.data,function(a){e._setMomentDates(a);a.dm1.unix()>=
d||a.dm2.unix()>=d?e._addEvent(a,b):m=!0});a.paging&&a.paging.next&&!m&&e.getNextEvents(a.paging.next,b,c+1)},error:function(a,b,c){debug(c)},complete:function(a,b){a.complete=!0;e.taskStop()}});e.connections.push(a)},friendEventSearchComplete:function(){debug("friendEventSearchComplete: found "+this.get("friend_events").length+" events");Backbone.trigger("getEvents:stop");Backbone.trigger("gotEvents");Backbone.trigger("gotFriends",this.get("friends").length);Backbone.trigger("gotEventMembers");Backbone.trigger("gotFriendEvents");
Backbone.trigger("facebookGotMyDetails");Backbone.trigger("tasksStop");var a=this.get("friend_events");a.updateEventCount();var b=this.search_model.get("bounds");if(0<a.length){var c=!1;a.forEach(function(a){a.get("in_range")&&a.inBounds(b)&&(c=!0,Backbone.trigger("showEventDetails",a))});c||Backbone.trigger("showEventDetails",a.at(0))}},publicEventSearchComplete:function(){Backbone.trigger("publicEventsLoaded",{network:app.NETWORK_FACEBOOK});Backbone.trigger("tasksStop")},getCurrentEvents:function(){var a=
this.get("friend_events");"public"==this.get("event_type")&&(a=this.get("public_events"));return a},getEventDetails:function(a){var b=jQuery.Deferred();if(this.statusOK(void 0))return a="/"+a+"?fields="+this.EVENT_FIELDS,Backbone.trigger("tasksStart"),FB.api(a,function(a){a.error?(Backbone.trigger("error","getEventDetails: "+a.error.message),b.reject(a.error.message)):b.resolve(a);Backbone.trigger("tasksStop")}),b.promise();b.reject(void 0)},getPublicEventDetails:function(a){var b=this;a="/"+a+"?fields="+
this.PUBLIC_EVENT_FIELDS;this.taskStart();FB.api(a,function(a){a.error?(Backbone.trigger("error","getPublicEventDetails: "+a.error.message),deferred.reject(a.error.message)):b._addPublicEvent(a);b.taskStop()})},getPlace:function(a,b){var c=jQuery.Deferred();if(this.statusOK(void 0))return FB.api("/search?q="+a+"&type=place&center="+b.lat+","+b.lng+"&fields=location,name,id,picture&limit=10",function(a){c.resolve(a)}),c.promise();c.reject(void 0)},postEvent:function(a){var b=jQuery.Deferred();if(this.isLoggedIn())return FB.api(this.userid+
"/events","post",{name:a.name,start_time:a.start_time,end_time:a.end_time,description:a.description,location_id:a.location_id,privacy_type:a.privacy_type},function(a){b.resolve(a)}),b.promise();b.reject("postEvent: not logged in")},getRSVPStatus:function(a,b,c){var e=jQuery.Deferred();if(this.isLoggedIn())return empty(c)?FB.api(a+"/"+b,"get",{},function(a){e.resolve(a)}):FB.api(a+"/"+b+"/"+c,"get",{},function(a){e.resolve(a)}),e.promise();e.reject("getRSVPStatus: not logged in")},setRSVPStatus:function(a,
b,c){var e=jQuery.Deferred();if(this.isLoggedIn())return FB.api(a+"/"+b+"/"+c,"post",{},function(a){e.resolve(a)}),e.promise();e.reject("setRSVPStatus: not logged in")},myEvents:function(a){var b=jQuery.Deferred();FB.api(this.userid+"/events","get",{},function(a){b.resolve(a)});return b.promise()},getUserEvents:function(a){var b=[],c=[],e=this.get("friend_events");this.get("event_members").forEach(function(h){if(h.get("uid")==a){var m=e.get(h.get("eid"));m&&m.get("in_range")&&(b.push(m),c.push(h.get("rsvp_status")))}});
return{in_range_events:b,rsvp_status:c}},uiPostFeed:function(a){FB.ui({method:"feed",picture:"http://www.eventdawg.com/client/img/paw-print-md-50x50-black.png",link:a.link,caption:a.caption,description:a.description},function(a){a&&a.post_id?Backbone.trigger("showMessage","Post was published."):debug("Post was not published.")})},uiSendMessage:function(a){FB.ui({method:"send",link:a.link,redirect_uri:a.redirect_uri})},uiFriendPicker:function(a){var b=jQuery.Deferred();FB.ui({method:"apprequests",
message:a},function(a){debug("facebookModel: friendPicker");debug(a);b.resolve(a)});return b.promise()},eventSearch:function(a){var b=this;timeStart();var c="/search?q="+a.search_string+"&type=event&limit=1000";(empty(a.clear)||!0==a.clear)&&this.get("public_events").reset();this.taskStart();FB.api(c,function(a){a&&a.data&&0<a.data.length&&_.each(a.data,function(a){b.getPublicEventDetails(a.id)});b.taskStop()})},getFeaturedEvents:function(){var a=this,b=this.API_PATH+"featured",c=a.get("featured_events");
c.reset();var e=this.search_model.get("start_date"),h=this.search_model.get("end_date"),m=a.search_model.get("bounds");params="?sw_lat="+m.sw_lat;params+="&sw_lng="+m.sw_lng;params+="&ne_lat="+m.ne_lat;params+="&ne_lng="+m.ne_lng;Backbone.trigger("featuredEventsLoading");this.jqxhr=$.ajax({type:"GET",url:b+params,dataType:"json",success:function(b){_.each(b.events,function(b){a._setMomentDates(b);b.in_range=e.overlap(e,h,b.dm1.toDate(),b.dm2.toDate())});c.reset(b.events);Backbone.trigger("featuredEventsLoaded")},
error:function(a,b,c){"abort"!=c&&Backbone.trigger("error",c)}});return a.jqxhr},addFeaturedEvent:function(a){var b=this,c=this.API_PATH+"addFeaturedEvent",e=a.event,h=e.toJSON();a={eid:h.eid,name:h.name,description:h.description.substring(0,5E3),start_time:h.start_time,end_time:h.end_time,start_date:e.get("dm1").unix(),end_date:e.get("dm2").unix(),location:h.location,pic:h.pic,pic_big:h.pic_big,pic_small:h.pic_small,pic_cover:h.pic_cover,pic_square:h.pic_square,privacy:h.privacy,ticket_uri:h.ticket_uri,
venue_id:h.venue_id,latitude:h.latitude,longitude:h.longitude,city:h.city,country:h.country,state:h.state,street:h.street,zip:h.zip,userid:b.userid,featured_start_date:a.featured_start_date,featured_end_date:a.featured_end_date};Backbone.trigger("addFeaturedEventStart");debug("addFeaturedEvent: post data");debug(a);this.jqxhr=$.ajax({type:"POST",url:c,dataType:"text",contentType:"application/json; charset=utf-8",data:JSON.stringify(a),success:function(a){debug("success");debug(a);Backbone.trigger("addFeaturedEventComplete");
b.getFeaturedEvents();Backbone.trigger("infoMessage","event promoted")},error:function(a,b,c){Backbone.trigger("addFeaturedEventComplete");debug("error "+c);"abort"!=c&&Backbone.trigger("error",c)}});return b.jqxhr},getEvents:function(a){this._abortAjax();"public"==a.type?(this.onComplete=this.publicEventSearchComplete,Backbone.trigger("tasksStart"),this.eventSearch(a)):(this.onComplete=this.friendEventSearchComplete,this.get("friends").reset(),this.get("event_members").reset(),this.get("friend_events").reset(),
Backbone.trigger("tasksStart"),this.getMyDetailsAndEvents(),this.getFriendsAndEvents(),this.getFeaturedEvents())}});app=app||{};
app.SearchModel=Backbone.Model.extend({defaults:{EVENT_LIMIT:1E3,MAX_EVENTS:5E3,TIMEOUT:5E4,date_range:app.DATE_RANGE_DAY,bounds:{sw_lat:-90,sw_lng:-180,ne_lat:90,ne_lng:180},center:{lat:51.517,lng:0.106},search_string:app.location.city,where_string:null},initialize:function(a){this.listenTo(Backbone,"saveBounds",this.saveBounds);this.listenTo(Backbone,"saveCenter",this.saveCenter);a=moment().startOf("day");this.set("start_date",a.toDate());this.set("end_date",a.add("days",1).toDate())},clear:function(){this.date_range=
app.DATE_RANGE_DAY;this.bounds={sw_lat:-90,sw_lng:-180,ne_lat:90,ne_lng:180};this.center={lat:51.517,lng:0.106};var a=moment().startOf("day");this.set("start_date",a.toDate());this.set("end_date",a.add("days",1).toDate());this.search_string=app.location.city;this.where_string=null},saveBounds:function(a){this.set("bounds",a)},saveCenter:function(a){this.set("center",a)}});app=app||{};app.BaseView=Backbone.View.extend({close:function(){this.stopListening();this.unbind();this.remove()}});app=app||{};
app.AttendingView=app.BaseView.extend({className:"attending-view",template:_.template($("#attending-template").html()),initialize:function(a){this.event=a.event;this.facebook_model=a.facebook_model},events:{"mouseover a.user":"mouseoverUser","click a.user":"showUser"},render:function(){var a=this,b=[],c=[],e=[],h=a.facebook_model.get("me"),m=a.facebook_model.get("friends");this.facebook_model.get("event_members").forEach(function(d){if(d.get("eid")==a.event.get("eid")){var f=m.get(d.get("uid"));f||
h.get("uid")==d.get("uid")&&(f=h);if(f)switch(d.get("rsvp_status")){case "attending":b.push({uid:f.get("uid"),name:f.get("name"),pic_square:f.get("pic_square")});break;case "maybe":case "unsure":c.push({uid:f.get("id"),name:f.get("name"),pic_square:f.get("pic_square")});break;case "invited":case "not_replied":e.push({uid:f.get("id"),name:f.get("name"),pic_square:f.get("pic_square")})}}return this});this.$el.html(this.template({going:b,maybe:c,invited:e}));return this},mouseoverUser:function(a){a.preventDefault()},
showUser:function(a){a.prevendDefault()}});app=app||{};
app.EventDetailsDialogView=app.BaseView.extend({EVENT_DETAILS_DATE_FORMAT:"DD MMM YYYY hh:mm",MAX_EVENT_NAME_LEN:23,MAX_ADDRESS_LEN:45,FADE_IN_DURATION:250,className:"event-details-dialog",template:_.template($("#event-details-dialog-template").html()),initialize:function(a){this.model=a.model;this.network=a.network;this.map_type=a.map_type.toLowerCase();this.map=a.map;this.facebook_model=a.facebook_model;this.listenTo(Backbone,"closeEventDetailsDialog",this.close)},events:{"click .btn-facebook":"facebook","click .btn-twitter":"twitter",
"click .btn-google":"google","click .btn-linkedin":"linkedin"},join:function(a){a.preventDefault();this.facebook_model.setRSVPStatus(this.model.id,"attending",this.facebook_model.get("userid"))},maybe:function(a){a.preventDefault();this.facebook_model.setRSVPStatus(this.model.id,"maybe",this.facebook_model.get("userid"))},decline:function(a){a.preventDefault();this.facebook_model.setRSVPStatus(this.model.id,"declined",this.facebook_model.get("userid"))},newPopup:function(a){popupWindow=window.open(a,
"popUpWindow","resizable = yes, scrollbars = yes, toolbar = yes, menubar = no, location = no, directories = no, status = yes,width = 626, height = 436, top = "+(screen.height/2-218)+", left = "+(screen.width/2-313))},facebook:function(a){a.preventDefault();this.newPopup("https://www.facebook.com/sharer/sharer.php?u="+this.dawgurl)},google:function(a){a.preventDefault();this.newPopup("https://plus.google.com/share?url="+this.dawgurl)},linkedin:function(a){a.preventDefault();a="http://www.linkedin.com/shareArticle?mini=true&url="+
this.dawgurl+"/&title="+this.model.get("name")+"&source=EventDawg";this.newPopup(a)},twitter:function(a){a.preventDefault();a="https://twitter.com/intent/tweet?text="+this.model.get("name")+"&url="+this.dawgurl+"/&via=EventDawg";this.newPopup(a)},render:function(){if(this.network==app.NETWORK_FACEBOOK){var a="";empty(this.model.get("location"))||(a+=this.model.get("location"));var b=this.model.get("venue");b&&(empty(b.street)||(a+=" "+b.street),empty(b.city)||(a+=" "+b.city),empty(b.state)||(a+=" "+
b.state),empty(b.zip)||(a+=" "+b.zip),empty(b.country)||(a+=" "+b.country));var c="";empty(this.model.get("pic_cover"))?empty(this.model.get("cover"))?empty(this.model.get("picture"))?this.model.get("pic_square")&&(c=this.model.get("pic_square")):c=this.model.get("picture").data.url:c=this.model.get("cover").source:c=this.model.get("pic_cover").source;var e="";if(!b||empty(b.latitude)||empty(b.longitude))e="(no map location)";b="";empty(this.model.get("ticket_uri"))||(b="<a class='_42ft _42fu _42g-' href='"+
this.model.get("ticket_uri")+"' target='_blank'>Get Tickets</a>");if(privacy=this.model.get("privacy"))privacy=privacy.toLowerCase(),"open"==privacy&&(privacy="Public");var h=this.facebook_model.get("me"),m=this.facebook_model.get("event_members"),d=this.model.id+h.id,m=m.get(d),h="";m&&(h=m.get("rsvp_status"));this.dawgurl=escape("http://eventdawg.com/client?event="+this.model.id);m=m="#";a={id:this.model.id,name:this.model.get("name"),address:a,description:this.model.get("description"),start_date:this.model.get("dm1").format(this.EVENT_DETAILS_DATE_FORMAT),
end_date:this.model.get("dm2").format(this.EVENT_DETAILS_DATE_FORMAT),image:c,location:e,ticket_uri:b,privacy:privacy,rsvp_status:h,dawgurl:this.dawgurl,facebook_url:"#",twitter_url:m,google_url:"#",linkedin_url:"#",stumbleupon_url:"#"};this.$el.html(this.template(a));a=new app.AttendingView({event:this.model,facebook_model:this.facebook_model});this.$(".people").html(a.render().el)}else Api().getEventDetails(event_id,function(a){var b=a[0],c="",e="";0<b.cats.length&&(c=b.cats[0].name);1<b.cats.length&&
(e="/"+b.cats[1].name);c={event_id:d,name:b.name,address:b.address,description:b.short_description,start_date:moment(new Date(1E3*b.start_date)).format(EVENT_DETAILS_DATE_FORMAT),end_date:moment(new Date(1E3*b.end_date)).format(EVENT_DETAILS_DATE_FORMAT),cat1:c,cat2:e,image:""};c=_.template($("#event-details-template").html(),c);$el.html(c);$el.find(".contents .image").css("background-image","url('"+app.EVENT_IMAGE_UPLOAD_DIR+b.filename+"')");b=app.IMAGE_DIR+"star_empty.png";isBookmarked(d)&&(b=app.IMAGE_DIR+
"star.png");$el.find(".contents .star").attr("src",b);(a=a[0].website)&&-1==a.indexOf("http://")&&(a="http://"+a);$el.find(".contents .link").attr("href",a);$el.fadeIn(250,function(){});$el.css("visibility","visible");initNanoScroller("nano3",!1)});return this},postRender:function(){this.$el.fadeIn(this.FADE_IN_DURATION,function(){});this.$(".event-details-nano").nanoScroller()}});app=app||{};
app.EventDetailsView=app.BaseView.extend({EVENT_DETAILS_DATE_FORMAT:"DD MMM YYYY hh:mm",MAX_EVENT_NAME_LEN:23,MAX_ADDRESS_LEN:45,FADE_IN_DURATION:250,className:"event-details-view",template:_.template($("#event-details-template").html()),initialize:function(a){this.model=a.model;this.facebook_model=a.facebook_model},events:{"click .btn-facebook":"facebook","click .btn-twitter":"twitter","click .btn-google":"google","click .btn-linkedin":"linkedin","click .btn.promote":"promote"},promote:function(a){a.preventDefault();(new app.PromoteView({model:this.model,
search_model:this.search_model,facebook_model:this.facebook_model})).render().showModal({showCloseButton:!1,bodyOverflowHidden:!1})},join:function(a){a.preventDefault();this.facebook_model.setRSVPStatus(this.model.get("eid"),"attending",this.facebook_model.get("userid"))},maybe:function(a){a.preventDefault();this.facebook_model.setRSVPStatus(this.model.get("eid"),"maybe",this.facebook_model.get("userid"))},decline:function(a){a.preventDefault();this.facebook_model.setRSVPStatus(this.model.get("eid"),
"declined",this.facebook_model.get("userid"))},newPopup:function(a){popupWindow=window.open(a,"popUpWindow","resizable = yes, scrollbars = yes, toolbar = yes, menubar = no, location = no, directories = no, status = yes,width = 626, height = 436, top = "+(screen.height/2-218)+", left = "+(screen.width/2-313))},facebook:function(a){a.preventDefault();this.newPopup("https://www.facebook.com/sharer/sharer.php?u="+this.dawgurl)},google:function(a){a.preventDefault();this.newPopup("https://plus.google.com/share?url="+
this.dawgurl)},linkedin:function(a){a.preventDefault();a="http://www.linkedin.com/shareArticle?mini=true&url="+this.dawgurl+"/&title="+this.model.get("name")+"&source=EventDawg";this.newPopup(a)},twitter:function(a){a.preventDefault();a="https://twitter.com/intent/tweet?text="+this.model.get("name")+"&url="+this.dawgurl+"/&via=EventDawg";this.newPopup(a)},render:function(){var a="",b=this.model.toJSON();empty(b.location)||(a+=b.location);var c=b.venue_id;c&&(empty(b.street)||(a+=" "+b.street),empty(b.city)||
(a+=" "+b.city),empty(b.state)||(a+=" "+b.state),empty(b.zip)||(a+=" "+b.zip),empty(b.country)||(a+=" "+b.country));var e="";empty(b.pic_cover)?b.pic_square&&(e=b.pic_square):e=b.pic_cover;var h="";if(!c||empty(b.latitude)||empty(b.longitude))h="(no map location)";c="";empty(b.ticket_uri)||(c=b.ticket_uri);if(privacy=b.privacy)privacy=privacy.toLowerCase(),"open"==privacy&&(privacy="Public");var m=this.facebook_model.get("me"),b=this.facebook_model.get("event_members"),m=this.model.get("eid")+m.get("uid"),
m=b.get(m),b="";m&&(b=m.get("rsvp_status"));empty(b)&&(b="Not Going");this.dawgurl=escape("http://eventdawg.com/client?event="+this.model.id);m=m="#";a={id:this.model.get("eid"),name:this.model.get("name"),address:a,description:this.model.get("description"),start_date:this.model.get("dm1").format(this.EVENT_DETAILS_DATE_FORMAT),end_date:this.model.get("dm2").format(this.EVENT_DETAILS_DATE_FORMAT),image:e,location:h,ticket_uri:c,privacy:privacy,rsvp_status:b,dawgurl:this.dawgurl,facebook_url:"#",twitter_url:m,
google_url:"#",linkedin_url:"#",stumbleupon_url:"#",pic_big:this.model.get("pic_big")};this.$el.html(this.template(a));a=new app.AttendingView({event:this.model,facebook_model:this.facebook_model});this.$(".people").html(a.render().el);return this},postRender:function(){this.$(".event-details-nano").nanoScroller()}});app=app||{};
app.EventListView=app.BaseView.extend({className:"event-list-view",template:_.template($("#event-list-template").html()),initialize:function(a){this.search_model=a.search_model;this.facebook_model=a.facebook_model;this.listenTo(Backbone,"sliderChange",this.redraw);this.listenTo(Backbone,"dateRangeChange",this.redraw);this.listenTo(Backbone,"publicEventsLoaded",this.redraw);this.listenTo(Backbone,"redraw",this.redraw)},render:function(){this.filtered_events=this.facebook_model.getCurrentEvents().filter(function(a){return a.get("in_range")});this.filtered_events=
new Backbone.Collection(this.filtered_events);this.image_count=0;this.$el.html(this.template({events:this.filtered_events.toJSON()}));return this},imageLoaded:function(a){a=a.data.self;a.image_count++;a.image_count==a.filtered_events.length&&a.$("ul.tiles li").trigger("refreshWookmark")},postRender:function(){var a=this.$("ul.tiles li"),b=0,c={align:"left",autoResize:!0,container:this.$el,offset:5,outerOffset:5,itemWidth:195,fillEmptySpace:!0};Backbone.trigger("tasksStart");this.$("ul.tiles").imagesLoaded(function(){a.wookmark(c)}).progress(function(c,
h){b++;b==a.length&&Backbone.trigger("tasksStop")})},redraw:function(){this.render();this.postRender()}});app=app||{};
app.EditEventView=Backbone.ModalView.extend({className:"edit-event-view",template:_.template($("#edit-event-template").html()),model:new app.EventModel,initialize:function(a){this.search_model=a.search_model;this.facebook_model=a.facebook_model;this.new_location_id=-1;this.selected_location=null},render:function(){var a=this;this.$el.html(this.template(this.model.toJSON()));this.$(".start-date").datepicker({dateFormat:"d M yy",changeMonth:!0,changeYear:!0});this.$(".end-date").datepicker({dateFormat:"d M yy",changeMonth:!0,
changeYear:!0});this.$(".start-time").timepicker();this.$(".end-time").timepicker();this.$(".start-date").val(moment().format("D MMM YYYY"));this.$(".end-date").val(moment().add("d",1).format("D MMM YYYY"));this.$(".start-time").val("7:00pm");this.$(".end-time").val("10:00pm");a.$(".where").autocomplete({minLength:2,source:function(b,c){a.facebook_model.getPlace(b.term,a.search_model.get("center")).then(function(a){a?c($.map(a.data,function(a){return{label:a.name,value:{id:a.id,location:a.location,
name:a.name,icon:a.picture.data.url}}})):c([])})},focus:function(b,c){a.$(".where").val(c.item.label);a.selected_location=c.item.value;return!1},select:function(b,c){debug("autocomplete select value = ");debug(c.item);a.selected_location=c.item.value;a.$(".where").val(c.item.label);return!1}}).data("ui-autocomplete")._renderItem=function(a,c){var e;e="<a style='position: relative; '>"+("<img src='"+c.value.icon+"' style='width: 50px; '/>");e=e+"<div style='position: absolute; left: 70px; top: 15px;'>"+
("<span class='label' style='font-weight:bold;'>"+c.label+"</span> ");e+="</div>";e+="</a>";return $("<li>").append(e).appendTo(a)};this.$(".privacy-type").select2({data:[{id:"OPEN",text:"Public",imgpath:"public"},{id:"FRIENDS",text:"Friends of Guests",imgpath:"friends-of-guests"},{id:"SECRET",text:"Invite Only",imgpath:"invite-only"}],formatResult:function(a){return"<p class='privacy-result'><img src='img/"+a.imgpath.toLowerCase()+".png'/><span >"+a.text+"</span></p>"},formatSelection:function(a){return"<p class='privacy-selection'><img src='img/"+
a.imgpath.toLowerCase()+".png'/><span >"+a.text+"</span></p>"},dropdownCssClass:"bigdrop",escapeMarkup:function(a){return a}});this.$(".privacy-type").select2("val","FRIENDS");return this},events:{"click .create":"save","click .cancel":"cancel","keypress form":"keypress","change .start_date":"dateChange","change .end_date":"dateChange"},dateChange:function(){this.search_model.set("start_date",moment(this.$(".start_date").val()).toDate());this.search_model.set("end_date",moment(this.$(".end_date").val()).toDate())},
keypress:function(a){if(13===a.which){var b=this.$(".name").val();this.model.set("name",b);this.save(a)}},save:function(a){a.preventDefault();this.$(".name-error-msg").html("");this.$(".description-error-msg").html("");this.$(".where-error-msg").html("");this.$(".start-time-error-msg").html("");this.$(".end-time-error-msg").html("");this.$(".privacy-error-msg").html("");a=this.$(".name").val().trim();if(empty(a))this.$(".name-error-msg").html("Must enter an event name");else{var b=this.$(".description").val().trim();
if(empty(b))this.$(".description-error-msg").html("Must enter event details");else{var c=moment(this.$(".start_date").val()),e=moment(this.$(".end_date").val());this.$(".start-time").val();this.$(".end-time").val();var h=this.$(".start-time").timepicker("getTime",new Date);c.hour(h.getHours());c.minute(h.getMinutes());h=this.$(".end-time").timepicker("getTime",new Date);e.hour(h.getHours());e.minute(h.getMinutes());var m=-1,h=null,m=this.$(".where").val();empty(this.selected_location)||this.selected_location.name!=
m?(h=m,m=-1,debug("unknown location selected: "+h)):(debug("selected location"),debug(this.selected_location),m=this.selected_location.id);if(empty(m))this.$(".where-error-msg").html("Must enter place");else{var d=this.$(".privacy-type").select2("val");a=0>parseInt(m)?{name:a,description:b,start_time:c.format(),end_time:e.format(),location:h,ticket_uri:"http://www.roberttesslermusic.com",privacy_type:d}:{name:a,description:b,location_id:empty(m)?"":m,start_time:c.format(),end_time:e.format(),ticket_uri:"http://www.roberttesslermusic.com",
privacy_type:d};this.hideModal();this.close();this.facebook_model.postEvent(a).then(function(a){Backbone.trigger("showMessage","event created")})}}}},cancel:function(){this.hideModal();this.close()},close:function(){this.$(".where").select2("close");this.$(".privacy-type").select2("close");this.stopListening();this.unbind();this.remove()}});app=app||{};
app.EventsView=Backbone.View.extend({className:"events-view",child_views:null,template:_.template($("#facebook-events-template").html()),initialize:function(a){this.search_model=a.search_model;this.facebook_model=a.facebook_model},render:function(){var a=this,b=this.facebook_model.get("friend_events");this.closeChildViews();this.$el.html(this.template({title:""}));b.forEach(function(b,e){if(b.get("in_range")){var h=new app.EventView({model:b,facebook_model:a.facebook_model,index:e+1});a.$("ul.events").append(h.render().el);
a.child_views.push(h)}});return this},closeChildViews:function(){_.each(this.child_views,function(a){a.close()});this.child_views=[]},close:function(){this.closeChildViews();this.stopListening();this.unbind();this.remove()}});app=app||{};
app.EventView=app.BaseView.extend({tagName:"li",template:_.template($("#facebook-event-template").html()),initialize:function(a){this.model=a.model;this.facebook_model=a.facebook_model;this.index=a.index;this.render()},render:function(){var a=this,b=[],c=this.facebook_model.get("event_members"),e=this.facebook_model.get("friends");c.filter(function(b){return b.get("eid")==a.model.get("eid")}).forEach(function(a){(a=e.get(a.get("uid")))&&b.push(a.get("name"))});this.$el.html(this.template({model:this.model.toJSON(),marker:"facebook-marker.png",
people:b}));return this},events:{"click .event":"select"},select:function(a){a.preventDefault();this.$(".people").slideToggle("fast");Backbone.trigger("showEventDetails",this.model)}});app=app||{};
app.FeaturedEventsView=Backbone.View.extend({className:"featured-events-view",child_views:null,template:_.template($("#facebook-events-template").html()),initialize:function(a){this.facebook_model=a.facebook_model},render:function(){var a=this,b=this.facebook_model.get("featured_events");this.closeChildViews();this.$el.html(this.template({title:"Featured Events"}));b.forEach(function(b,e){var h=new app.EventView({model:b,facebook_model:a.facebook_model,index:e+1});a.$("ul.events").append(h.render().el);a.child_views.push(h)});
return this},closeChildViews:function(){_.each(this.child_views,function(a){a.close()});this.child_views=[]},close:function(){this.closeChildViews();this.stopListening();this.unbind();this.remove()}});app=app||{};
app.FilterView=Backbone.View.extend({className:"filters-view",child_views:null,FRIEND_VIEW:1,EVENT_VIEW:2,PUBLIC_VIEW:3,current_view:0,expanded:!1,template:_.template($("#facebook-filter-template").html()),initialize:function(a){this.search_model=a.search_model;this.facebook_model=a.facebook_model;this.listenTo(Backbone,"dateRangeChange",this.render);this.listenTo(Backbone,"loggedOut",this.loggedOut);this.listenTo(Backbone,"gotEvents",this.gotEvents)},gotEvents:function(){this.current_view=this.FRIEND_VIEW;
this.render()},render:function(){this.$el.html(this.template());switch(this.current_view){case this.FRIEND_VIEW:this.showFriends();break;case this.EVENT_VIEW:this.showEvents();break;case this.PUBLIC_VIEW:this.showPublicEvents()}return this},events:{"click .friends-btn":"showFriends","click .events-btn":"showEvents","click .public-btn":"showPublicEvents","click .add-btn":"add","click .expand-btn":"expandCollapse","click .list-btn":"toggleList"},toggleList:function(){$(".event-list-view").is(":visible")?
(this.$(".list-btn img").attr("src","img/list3.png"),Backbone.trigger("showMap")):(this.$(".list-btn img").attr("src","img/public2.png"),Backbone.trigger("showList"))},loggedOut:function(){this.closeChildViews();this.current_view=null},showFriends:function(a){var b=this;a&&a.preventDefault();Backbone.trigger("closeEventDetails");this.closeChildViews();this.$(".list").html("");"public"==b.facebook_model.get("event_type")&&(this.facebook_model.set("event_type","friend"),Backbone.trigger("redraw",{network:app.NETWORK_FACEBOOK}));
this.facebook_model.getLoginStatus().then(function(a){a.authResponse&&"connected"==a.status?(a=new app.FriendsView({search_model:b.search_model,facebook_model:b.facebook_model}),b.$(".list").append(a.render().el),b.child_views.push(a),b.current_view=b.FRIEND_VIEW):Backbone.trigger("login")})},showEvents:function(a){var b=this;a&&a.preventDefault();Backbone.trigger("closeEventDetails");this.closeChildViews();this.$(".list").html("");"public"==b.facebook_model.get("event_type")&&(this.facebook_model.set("event_type",
"friend"),Backbone.trigger("redraw",{network:app.NETWORK_FACEBOOK}));this.facebook_model.set("event_type","friend");this.facebook_model.getLoginStatus().then(function(a){a.authResponse&&"connected"==a.status?(a=new app.EventsView({search_model:b.search_model,facebook_model:b.facebook_model}),b.$(".list").append(a.render().el),b.child_views.push(a),b.current_view=b.EVENT_VIEW):Backbone.trigger("login")})},showPublicEvents:function(a){a&&a.preventDefault();Backbone.trigger("closeEventDetails");"friend"==
this.facebook_model.get("event_type")&&(this.facebook_model.set("event_type","public"),Backbone.trigger("redraw",{network:app.NETWORK_FACEBOOK}));this.closeChildViews();this.$(".list").html("");a=new app.PublicEventsView({search_model:this.search_model,facebook_model:this.facebook_model});this.$(".list").append(a.render().el);this.child_views.push(a);this.current_view=this.PUBLIC_VIEW},add:function(a){a.preventDefault();Backbone.trigger("closeEventDetails");(new app.EditEventView({search_model:this.search_model,
facebook_model:this.facebook_model})).render().showModal({showCloseButton:!1,bodyOverflowHidden:!1})},expandCollapse:function(a){this.expanded?(this.$(".friend-events").slideUp("fast",function(){}),this.$(".events .people").slideUp("fast",function(){}),this.$(".expand-btn").html(app.TRIANGLE_DOWN),this.expanded=!1):(this.$(".friend-events").slideDown("fast",function(){}),this.$(".events .people").slideDown("fast",function(){}),this.$(".expand-btn").html(app.TRIANGLE_UP),this.expanded=!0)},closeChildViews:function(){_.each(this.child_views,
function(a){a.close()});this.child_views=[]},close:function(){this.closeChildViews();this.stopListening();this.unbind();this.remove()}});app=app||{};app.FooterView=app.BaseView.extend({el:"#footer",template:_.template($("#footer-template").html()),initialize:function(a){this.render()},render:function(){this.$el.html(this.template());return this}});app=app||{};
app.FriendsView=Backbone.View.extend({className:"friends-view",child_views:null,template:_.template($("#facebook-friends-template").html()),initialize:function(a){this.search_model=a.search_model;this.facebook_model=a.facebook_model},render:function(){var a=this;this.closeChildViews();this.$el.html(this.template());var b=this.facebook_model.get("me"),c=this.facebook_model.get("friends");b&&(o=this.facebook_model.getUserEvents(b.get("uid")),b=new app.FriendView({model:b,in_range_events:o.in_range_events,facebook_model:this.facebook_model,
rsvp_status:o.rsvp_status}),this.$("ul.friends").append(b.render().el),this.child_views.push(b));var e=1;c.forEach(function(b){var c=a.facebook_model.getUserEvents(b.get("uid"));0<c.in_range_events.length&&(b=new app.FriendView({model:b,in_range_events:c.in_range_events,facebook_model:a.facebook_model,rsvp_status:c.rsvp_status}),a.$("ul.friends").append(b.render().el),a.child_views.push(b),e++)});Backbone.trigger("facebookFriendCountChange",e+"/"+c.length+" friends");return this},closeChildViews:function(){_.each(this.child_views,
function(a){a.close()});this.child_views=[]},close:function(){this.closeChildViews();this.stopListening();this.unbind();this.remove()}});app=app||{};
app.FriendView=app.BaseView.extend({tagName:"li",template:_.template($("#facebook-friend-template").html()),initialize:function(a){this.model=a.model;this.in_range_events=a.in_range_events;this.facebook_model=a.facebook_model;this.rsvp_status=a.rsvp_status},render:function(){var a="0 events",a=1==this.in_range_events.length?"1 event":this.in_range_events.length+" events";this.$el.html(this.template({id:this.model.id,image:this.model.get("pic_square"),name:this.model.get("name"),count:a,events:this.in_range_events,
rsvp_status:this.rsvp_status}));return this},events:{"click a.item.friend":"select","click .event":"selectEvent"},select:function(a){a.preventDefault();this.$(".friend-events").slideToggle("fast")},selectEvent:function(a){a.preventDefault();a=$(a.currentTarget).attr("data-id");a=this.facebook_model.get("friend_events").get(a);Backbone.trigger("showEventDetails",a)}});app=app||{};
app.HeaderView=app.BaseView.extend({el:"#header",template:_.template($("#header-template").html()),initialize:function(a){this.search_model=a.search_model;this.dawg_model=a.dawg_model;this.facebook_model=a.facebook_model;this.render();this.listenTo(Backbone,"facebookGotMyDetails",this.facebookGotMyDetails);this.listenTo(Backbone,"loggedOut",this.loggedOut);this.listenTo(Backbone,"login",this.login);this.listenTo(Backbone,"showMessage",this.showMessage)},render:function(){this.$el.html(this.template({name:"EVENT DAWG"}));this.$(".menu li").hover(function(a){$(this).find("ul.submenu.enabled").show()},
function(a){$(this).find("ul.submenu.enabled").hide()});return this},events:{"click .login":"login","click .details":"details","click .change-password":"changePaassword","click .logout":"logout"},login:function(a){var b=this;this.facebook_model.login().then(function(a){a.authResponse&&"connected"==a.status&&b.facebook_model.getEvents({id:null,force:null})})},details:function(a){},changePassword:function(a){},logout:function(a){this.facebook_model.logout().then(function(a){Backbone.trigger("loggedOut")})},
facebookGotMyDetails:function(){var a=this.facebook_model.get("me");this.$(".submenu").addClass("enabled");this.$(".login span.text").html(a.get("name"));this.$(".login img.image").attr("src",a.get("pic_square"))},loggedOut:function(){this.$(".submenu").removeClass("enabled");this.$("ul.submenu").hide();this.$(".login span.text").html("login");this.$(".login img.image").attr("src","")},showMessage:function(a){var b=this;debug("showMessage: "+a);this.$(".message").html(a);this.$(".message").addClass("message-flash");
setTimeout(function(){b.$(".message").removeClass("message-flash");b.$(".message").html("")},2E3)}});app=app||{};
app.HomeView=app.BaseView.extend({el:"#content",id:null,template:_.template($("#home-template").html()),initialize:function(a){var b=this;app.getMyLocation();this.listenTo(Backbone,"locationChange",function(){b.render();b.search_model=app.search_model;b.facebook_model=new app.FacebookModel({search_model:b.search_model});var c={search_model:b.search_model,dawg_model:b.dawg_model,facebook_model:b.facebook_model};b.header_view=new app.HeaderView(c);b.sidebar_view=new app.SidebarView(c);b.top_panel_view=new app.TopPanelView(c);
b.map_view=new app.MapView(c);b.$("#main-content .map").html(b.map_view.render().el);b.map_view.init();b.list_view=null;new app.FooterView;a&&a.id&&(b.id=a.id);b.facebook_model.loadAPI(b.getEvents,b);b.listenTo(Backbone,"showMap",b.showMap);b.listenTo(Backbone,"showList",b.showList);b.listenTo(Backbone,"showEventDetails",b.showEventDetails);b.listenTo(Backbone,"featuredEventsLoaded",b.showFeaturedEvents)})},showEventDetails:function(a){a=new app.EventDetailsView({model:a,facebook_model:this.facebook_model});
this.$(".right-panel .event-details").html(a.render().el);a.postRender()},showFeaturedEvents:function(){var a=new app.FeaturedEventsView({facebook_model:this.facebook_model});this.$(".right-panel .featured-events").html(a.render().el)},getEvents:function(a){a.facebook_model.getLoginStatus().then(function(b){b.authResponse&&"connected"==b.status&&(a.id?a.facebook_model.getEvents({id:a.id,force:!1}):a.facebook_model.getEvents({id:null,force:!1}))})},showList:function(){this.map_view&&this.map_view.$el.hide();
this.list_view?(this.list_view.$el.show(),this.list_view.render()):(this.list_view=new app.EventListView({search_model:this.search_model,dawg_model:this.dawg_model,facebook_model:this.facebook_model}),this.$("#main-content .list").html(this.list_view.render().el));this.list_view.postRender()},showMap:function(){this.list_view&&this.list_view.$el.hide();this.map_view?this.map_view.$el.show():(this.map_view=new app.MapView({search_model:this.search_model,dawg_model:this.dawg_model,facebook_model:this.facebook_model}),
this.$("#main-content .map").html(this.map_view.render().el),this.map_view.init())},render:function(){this.$el.html(this.template())}});app=app||{};
app.MapView=app.BaseView.extend({map:null,search_on_idle:!1,offline:!1,dawg_markers:[],facebook_markers:[],featured_event_markers:[],google_markers:[],planvine_markers:[],markerCluster:null,marker_active_image:{},marker_active_dark_image:{},DETAILS_DATE_FORMAT:"D-M-Y h:m",MARKER_INACTIVE:0,MARKER_ACTIVE:1,CAT_ALL_YEAR_ROUND:9,CAT_EXHIBITIONS:2,CAT_FESTIVALS:3,CAT_MUSIC:5,CAT_FAMILY:4,CAT_SPORT:8,CAT_TALKS_AND_WORKSHOPS:6,CAT_THEATRE:7,CAT_CHARITY:1,template:_.template($("#map-template").html()),info_window:null,
initialize:function(a){this.search_model=a.search_model;this.dawg_model=a.dawg_model;this.facebook_model=a.facebook_model},startListening:function(){this.listenTo(Backbone,"dateRangeChange",this.dateRangeChange);this.listenTo(Backbone,"sliderChange",this.dateRangeChange);this.listenTo(Backbone,"showEventDetails",this.showEventDetails);this.listenTo(Backbone,"gotEvents",this.gotEvents);this.listenTo(Backbone,"publicEventsLoaded",this.gotEvents);this.listenTo(Backbone,"gotMoreEvents",this.gotMoreEvents);
this.listenTo(Backbone,"redraw",this.eventsLoaded);this.listenTo(Backbone,"loggedOut",this.loggedOut);this.listenTo(Backbone,"closeEventDetails",this.closeEventDetails);this.listenTo(Backbone,"gotFeaturedEvents",this.gotFeaturedEvents)},clearMap:function(){this.markerCluster.clearMarkers();this.deleteMarkers(app.NETWORK_DAWG);this.deleteMarkers(app.NETWORK_FACEBOOK)},loggedOut:function(){this.clearMap()},gotEvents:function(){this.createMarkers({network:app.NETWORK_FACEBOOK})},gotMoreEvents:function(a){var b=
this,c=this.facebook_model.get("friend_events");_.each(a.ids,function(a){var h=c.get(a);if((a=h.get("venue"))&&a.id){a=new google.maps.LatLng(a.latitude,a.longitude);var m=h.get("name")+" "+h.get("dm1").format(b.DETAILS_DATE_FORMAT)+" - "+h.get("dm2").format(b.DETAILS_DATE_FORMAT);a=new google.maps.Marker({position:a,map:b.map,title:m,icon:app.IMAGE_DIR+"markers/facebook/facebook-marker.png",id:h.id,visible:h.get("in_range")});b.facebook_markers.push(a);h.set("marker",a);google.maps.event.addListener(a,
"click",function(){Backbone.trigger("showEventDetails",h)})}});this.markerCluster.addMarkers(this.facebook_markers)},setMapStyle:function(){var a={Dark:[{stylers:[{color:"#000000"}]},{featureType:"road.arterial",stylers:[{visibility:"simplified"},{color:"#060505"}]},{featureType:"road.highway",stylers:[{visibility:"simplified"},{color:"#161616"}]},{featureType:"water",stylers:[{visibility:"simplified"},{color:"#1d1e1e"}]},{featureType:"transit",stylers:[{color:"#000b10"},{visibility:"simplified"}]},
{elementType:"labels",stylers:[{visibility:"off"}]},{}],Light:[],Chilled:[{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{hue:149},{saturation:-78},{lightness:0}]},{featureType:"road.highway",stylers:[{hue:-31},{saturation:-40},{lightness:2.8}]},{featureType:"poi",elementType:"label",stylers:[{visibility:"off"}]},{featureType:"landscape",stylers:[{hue:163},{saturation:-26},{lightness:-1.1}]},{featureType:"transit",stylers:[{visibility:"off"}]},
{featureType:"water",stylers:[{hue:3},{saturation:-24.24},{lightness:-38.57}]}]},b;for(b in a){var c=new google.maps.StyledMapType(a[b],{name:b});this.map.mapTypes.set(b,c)}this.map.setMapTypeId("Light")},savePosition:function(){Backbone.trigger("saveBounds",this.getBounds());Backbone.trigger("saveCenter",this.getCenter())},getMyPosition:function(){return{lat:app.location.lat,lng:app.location.lng}},init:function(){var a=this;if(!this.offline){this.initMarkers();var b=getCookie("lat"),c=getCookie("lng"),
b=app.location.lat,c=app.location.lon;this.my_position=new google.maps.LatLng(b,c);createCookie("lat",b);createCookie("lng",c);b={zoom:11,center:this.my_position,mapTypeControl:!0,mapTypeId:"Dark",mapTypeControlOptions:{mapTypeIds:["Light",,google.maps.MapTypeId.HYBRID,google.maps.MapTypeId.SATELITE,google.maps.MapTypeId.TERRAIN,"Dark","Chilled"]},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,
position:google.maps.ControlPosition.RIGHT_CENTER}};this.map=new google.maps.Map(document.getElementById("map_canvas"),b);this.markerCluster=new MarkerClusterer(this.map,[],{gridSize:30,maxZoom:8});this.setMapStyle();google.maps.event.addListener(this.map,"idle",function(){debug("mapview idle");Backbone.trigger("saveBounds",a.getBounds());a.search_on_idle&&(a.savePosition(),a.search_on_idle=!1)});google.maps.event.addListener(this.map,"click",function(){a.closeEventDetails()});google.maps.event.addListener(this.map,
"zoom_changed",function(){a.search_on_idle=!0});google.maps.event.addListener(this.map,"center_changed",function(){a.search_on_idle=!0});var b=document.getElementById("where"),e=new google.maps.places.Autocomplete(b);e.bindTo("bounds",this.map);google.maps.event.addListener(e,"place_changed",function(){var b=e.getPlace();b.geometry?($("#where").removeClass("notfound"),b.geometry.viewport?a.map.fitBounds(b.geometry.viewport):(a.map.setCenter(b.geometry.location),a.map.setZoom(17)),Backbone.trigger("what:clear"),
a.savePosition()):$("#where").addClass("notfound")});this.startListening();Backbone.trigger("saveCenter",this.getCenter());b=document.createElement("div");new this.HomeControl(b,this.map,this);b.index=2;this.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(b);b=document.createElement("div");new this.FrameAllControl(b,this.map,this);b.index=1;this.map.controls[google.maps.ControlPosition.TOP_RIGHT].push(b);debug("mapInitialized");Backbone.trigger("mapInitialized")}},reverseGeocode:function(a,
b){geocoder=new google.maps.Geocoder;var c=new google.maps.LatLng(a,b);geocoder.geocode({latLng:c},function(a,b){debug("reverseGeocode");debug(a)})},render:function(){this.$el.html(this.template());return this},initMarkers:function(){for(var a=[{key:this.CAT_ALL_YEAR_ROUND,name:"red"},{key:this.CAT_EXHIBITIONS,name:"darkgreen"},{key:this.CAT_FESTIVALS,name:"blue"},{key:this.CAT_MUSIC,name:"magenta"},{key:this.CAT_FAMILY,name:"cyan"},{key:this.CAT_SPORT,name:"purple"},{key:this.CAT_TALKS_AND_WORKSHOPS,
name:"orange"},{key:this.CAT_THEATRE,name:"green"},{key:this.CAT_CHARITY,name:"yellow"}],b=0;b<a.length;b++)this.marker_active_image[a[b].key]={url:app.IMAGE_DIR+"markers/pushpins/"+a[b].name+"-pushpin30x30.png",size:new google.maps.Size(30,30),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,30)},this.marker_active_dark_image[a[b].key]={url:app.IMAGE_DIR+"markers/pixel_markers/"+a[b].name+"-dot.png",size:new google.maps.Size(7,7),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(3,
3),scaledSize:new google.maps.Size(7,7)};this.white_marker={url:app.IMAGE_DIR+"markers/pushpins/white-pushpin30x30.png",size:new google.maps.Size(30,30),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,15)};this.white_dark_marker={url:app.IMAGE_DIR+"markers/pixel_markers/white-dot.png",size:new google.maps.Size(7,7),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(3,3)};this.shadow_marker={url:app.IMAGE_DIR+"markers/pushpins/shadow-red-pushpin30x30.png",size:new google.maps.Size(46,
30),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,30)}},createMarkers:function(a){var b=this;this.markerCluster.clearMarkers();this.deleteMarkers(a.network);a.network==app.NETWORK_DAWG&&(this.dawg_model.get("events").forEach(function(a){var c=new google.maps.LatLng(a.get("lt"),a.get("ln")),m=b.marker_active_image[1],d=a.get("nm")+" "+moment(a.get("sd")).format(b.DETAILS_DATE_FORMAT)+" - "+moment(a.get("ed")).format(b.DETAILS_DATE_FORMAT),c=new google.maps.Marker({position:c,map:b.map,
title:d,icon:m,shadow:b.shadow_marker,event_id:a.id});c.setFlat(!0);b.dawg_markers.push(c);google.maps.event.addListener(c,"click",function(){var b=this.infoWindowTemplate(a.toJSON());(new google.maps.InfoWindow({content:b,position:this.position})).open(map)})}),this.markerCluster.addMarkers(this.dawg_markers));if(a.network==app.NETWORK_FACEBOOK){var c=1;this.facebook_model.getCurrentEvents().forEach(function(a){var h=a.get("venue_id"),m=a.get("latitude"),d=a.get("longitude");h&&m&&d&&(h=new google.maps.LatLng(m,
d),m=a.get("name")+" "+a.get("dm1").format(b.DETAILS_DATE_FORMAT)+" - "+a.get("dm2").format(b.DETAILS_DATE_FORMAT),h=new google.maps.Marker({position:h,map:b.map,title:m,icon:app.IMAGE_DIR+"markers/facebook/facebook-marker.png",id:a.get("eid"),visible:a.get("in_range")}),b.facebook_markers.push(h),a.set("marker",h),google.maps.event.addListener(h,"click",function(){Backbone.trigger("showEventDetails",a)}),c++)});this.markerCluster.addMarkers(this.facebook_markers)}},gotFeaturedEvents:function(){var a=
this,b=1;this.facebook_model.get("featured_events").forEach(function(c){var e=c.get("venue_id"),h=c.get("latitude"),m=c.get("longitude");e&&h&&m&&(e=new google.maps.LatLng(parseFloat(h),parseFloat(m)),h=c.get("name")+" "+c.get("dm1").format(a.DETAILS_DATE_FORMAT)+" - "+c.get("dm2").format(a.DETAILS_DATE_FORMAT),11>b&&(image=app.IMAGE_DIR+"markers/facebook/"+b+".png"),e=new google.maps.Marker({position:e,map:a.map,title:h,icon:image,id:c.get("eid"),visible:!0}),a.featured_event_markers.push(e),c.set("marker",
e),google.maps.event.addListener(e,"click",function(){Backbone.trigger("showEventDetails",c)}),b++)})},showEventDetails:function(a){a&&a.get("venue_id")&&a.get("latitude")&&a.get("longitude")&&(a=new google.maps.LatLng(parseFloat(a.get("latitude")),parseFloat(a.get("longitude"))),this.map.panTo(a))},closeEventDetails:function(){this.info_window&&(Backbone.trigger("closeEventDetailsDialog"),this.info_window.close(),this.info_window=null)},dateRangeChange:function(){var a=this;if(!this.offline){var b=
this.facebook_model.getCurrentEvents();_.each(this.facebook_markers,function(a){var e=b.get(a.id);e&&(e.get("in_range")?a.setVisible(!0):a.setVisible(!1))});$.each(this.dawg_markers,function(){this.marker&&(1==this.st||start_date.overlap(start_date,end_date,this.sd,this.ed)?this.marker_state!=a.MARKER_ACTIVE&&(this.marker.setVisible(!0),this.marker_state=a.MARKER_ACTIVE):this.marker_state==a.MARKER_ACTIVE&&(this.marker.setVisible(!1),this.marker_state=a.MARKER_INACTIVE))})}},getBounds:function(){var a=
this.map.getBounds(),b=a.getSouthWest(),a=a.getNorthEast();return{sw_lat:b.lat(),sw_lng:b.lng(),ne_lat:a.lat(),ne_lng:a.lng()}},getCenter:function(){return{lat:this.map.getCenter().lat(),lng:this.map.getCenter().lng()}},deleteMarkers:function(a){var b=null;switch(a){case app.NETWORK_DAWG:b=this.dawg_markers;break;case app.NETWORK_FACEBOOK:b=this.facebook_markers;break;case app.NETWORK_GOOGLE:b=this.google_markers;break;case app.NETWORK_PLANVINE:b=this.planvine_markers}a=0;for(var c=b.length;a<c;a++)b[a].setMap(null);
b.length=0},deleteFeaturedMarkers:function(){for(var a=0,b=this.featured_event_markers.length;a<b;a++)this.featured_event_markers[a].setMap(null);this.featured_event_markers.length=0;this.featured_event_markers=[]},HomeControl:function(a,b,c){a.style.padding="5px";b=document.createElement("div");b.style.backgroundColor="white";b.style.borderStyle="solid";b.style.borderWidth="0px";b.style.cursor="pointer";b.style.textAlign="center";b.title="Click to go home";a.appendChild(b);a=document.createElement("div");
a.style.fontFamily="Arial,sans-serif";a.style.fontSize="12px";a.style.paddingLeft="4px";a.style.paddingRight="4px";a.innerHTML="<strong>Home</strong>";b.appendChild(a);google.maps.event.addDomListener(b,"click",function(){c.home()})},home:function(){this.map.setCenter(this.my_position);this.map.setZoom(11)},FrameAllControl:function(a,b,c){a.style.padding="5px";b=document.createElement("div");b.style.backgroundColor="white";b.style.borderStyle="solid";b.style.borderWidth="0px";b.style.cursor="pointer";
b.style.textAlign="center";b.title="Click to frame all events";a.appendChild(b);a=document.createElement("div");a.style.fontFamily="Arial,sans-serif";a.style.fontSize="12px";a.style.paddingLeft="4px";a.style.paddingRight="4px";a.innerHTML="<strong>Frame All</strong>";b.appendChild(a);google.maps.event.addDomListener(b,"click",function(){c.frameAll()})},frameAll:function(){var a=new google.maps.LatLngBounds;_.each(this.facebook_markers,function(b){a.extend(b.position)});this.map.fitBounds(a)}});app=app||{};
app.NetworkView=app.BaseView.extend({el:"#networks",template:_.template($("#network-template").html()),initialize:function(a){this.search_model=a.search_model;this.dawg_model=a.dawg_model;this.facebook_model=a.facebook_model;this.current_view=null;this.render();this.listenTo(Backbone,"facebookEventCountChange",this.facebookEventCountChange);this.listenTo(Backbone,"facebookFriendCountChange",this.facebookFriendCountChange);this.listenTo(Backbone,"gotFriends",this.gotFriends)},gotFriends:function(a){this.$(".message").html(a+" friends")},
render:function(){this.$el.html(this.template())},events:{},facebookFriendCountChange:function(a){this.$(".facebook .message").html(a)},facebookEventCountChange:function(a){this.$(".facebook .count").html(a)},dawgEventCountChange:function(a){this.$(".dawg .count").html(a)},bookmarkChange:function(){app.getBookmarks(app.NETWORK_DAWG);var a="facebook: "+app.getBookmarks(app.NETWORK_FACEBOOK).length;this.$(".favourites .count").html(a)},switchActive:function(a){a.preventDefault();this.$("#networks .active").removeClass("active");
$(a.target).parent().addClass("active")},dawg:function(a){this.switchActive(a);this.dawgInfo()},dawgInfo:function(){this.current_view&&this.current_view.close()},facebook:function(a){this.switchActive(a)}});app=app||{};
app.PromoteView=Backbone.ModalView.extend({className:"promote-view",template:_.template($("#promote-template").html()),initialize:function(a){this.model=a.model;this.search_model=a.search_model;this.facebook_model=a.facebook_model},events:{"click button.ok":"ok","click button.cancel":"cancel","keypress form":"keypress","change .start_date":"dateChange","change .end_date":"dateChange"},getAddress:function(){var a="",b=this.model.toJSON();empty(b.location)||(a+=b.location);var c=b.venue_id;c&&(empty(b.street)||
(a+=" "+b.street),empty(b.city)||(a+=" "+b.city),empty(b.state)||(a+=" "+b.state),empty(b.zip)||(a+=" "+b.zip),empty(b.country)||(a+=" "+b.country));var e="";if(!c||empty(b.latitude)||empty(b.longitude))e=" (no map location)";return a+e},render:function(){this.$el.html(this.template({model:this.model.toJSON(),address:this.getAddress()}));this.$(".start-date").datepicker({dateFormat:"d M yy",changeMonth:!0,changeYear:!0,minDate:"-7D",maxDate:"+1Y"});this.$(".end-date").datepicker({dateFormat:"d M yy",
changeMonth:!0,changeYear:!0,minDate:"-7D",maxDate:"+1Y"});this.$(".start-time").timepicker();this.$(".end-time").timepicker();this.$(".start-date").val(moment().format("D MMM YYYY"));this.$(".end-date").val(moment().add("d",1).format("D MMM YYYY"));this.$(".start-time").val("12:00am");this.$(".end-time").val("12:00am");return this},dateChange:function(){this.search_model.set("start_date",moment(this.$(".start_date").val()).toDate());this.search_model.set("end_date",moment(this.$(".end_date").val()).toDate())},
keypress:function(a){13===a.which&&this.ok(a)},ok:function(a){a.preventDefault();debug("ok");app.hideIOSKeyboard();this.$(".error-msg").html("");a=moment(this.$(".start-date").val());var b=moment(this.$(".end-date").val()),c=this.$(".start-time").val(),e=this.$(".end-time").val();debug("start_date = "+a);debug("end_date = "+b);debug("start_time = "+c);debug("end_time = "+e);c=this.$(".start-time").timepicker("getTime",new Date);a.hour(c.getHours());a.minute(c.getMinutes());c=this.$(".end-time").timepicker("getTime",
new Date);b.hour(c.getHours());b.minute(c.getMinutes());debug(moment(a).format());debug(moment(b).format());moment(a).unix()>moment(b).unix()?this.$(".error-msg.start").html("Start date must be before end date"):(this.hideModal(),this.close(),this.facebook_model.addFeaturedEvent({event:this.model,featured_start_date:moment(a).unix(),featured_end_date:moment(b).unix(),social_network_id:app.NETWORK_FACEBOOK}),Backbone.trigger("showMessage","event promoted"))},cancel:function(){this.hideModal();this.close()},
close:function(){this.stopListening();this.unbind();this.remove()}});app=app||{};
app.PublicEventsView=Backbone.View.extend({className:"public-events-view",child_views:null,template:_.template($("#facebook-public-events-template").html()),initialize:function(a){this.search_model=a.search_model;this.facebook_model=a.facebook_model;this.listenTo(Backbone,"publicEventsLoaded",this.render)},render:function(){var a=this,b=this.search_model.get("search_string"),c=this.facebook_model.get("public_events");this.closeChildViews();this.$el.html(this.template({search_string:b}));c.forEach(function(b,
c){if(b.get("in_range")){var m=new app.PublicEventView({model:b,index:c+1});a.$("ul.public-events").append(m.render().el);a.child_views.push(m)}});return this},events:{"click .search":"search"},search:function(a){a.preventDefault();a=this.$(".search-string").val();this.$(".error-text").html("");if(empty(a))return this.$(".error-text").html("must enter a search string"),!1;this.search_model.set("search_string",a);this.facebook_model.getEvents({type:"public",search_string:a});this.facebook_model.set("event_type",
"public")},closeChildViews:function(){_.each(this.child_views,function(a){a.close()});this.child_views=[]},close:function(){this.closeChildViews();this.stopListening();this.unbind();this.remove()}});app=app||{};app.PublicEventView=app.BaseView.extend({tagName:"li",template:_.template($("#facebook-public-event-template").html()),initialize:function(a){this.model=a.model;this.index=a.index;this.render()},render:function(){this.$el.html(this.template({model:this.model.toJSON(),marker:"facebook-marker.png"}));return this},events:{"click .public-event":"select"},select:function(a){a.preventDefault();Backbone.trigger("showEventDetails",this.model)}});app=app||{};app.SidebarView=app.BaseView.extend({el:"#sidebar",template:_.template($("#sidebar-template").html()),initialize:function(a){this.search_model=a.search_model;this.dawg_model=a.dawg_model;this.facebook_model=a.facebook_model;this.render(a)},render:function(a){this.$el.html(this.template());view=new app.FilterView({search_model:this.search_model,facebook_model:this.facebook_model});this.$("#network-info .facebook-info").html(view.render().el);return this}});app=app||{};
app.SliderView=app.BaseView.extend({SLIDER_MAX:300,T24_HOUR_TIME:!0,el:".time-slider-bar",template:_.template($("#slider-template").html()),initialize:function(a){var b=this;this.search_model=a.search_model;this.facebook_model=a.facebook_model;this.render();this.listenTo(Backbone,"dateRangeChange",this.redraw);var c;$("#slider").dragslider({range:!0,animate:!0,rangeDrag:!0,min:0,max:b.SLIDER_MAX,values:[0,b.SLIDER_MAX],slide:function(a,h){b.search_model.set("start_date",b.sliderToDate(h.values[0]));b.search_model.set("end_date",
b.sliderToDate(h.values[1]));c.filterByDate(b.search_model.get("start_date"),b.search_model.get("end_date"));Backbone.trigger("sliderChange")}});$("#slider").on("mousedown",function(a){Backbone.trigger("closeEventDetails");c=b.facebook_model.getCurrentEvents()})},render:function(){this.$el.html(this.template());this.redraw();return this},sliderToDate:function(a){a/=this.SLIDER_MAX;var b,c=this.search_model.get("start_date"),e=this.search_model.get("end_date"),c=c.getTime(),e=e.getTime();switch(this.search_model.get("date_range")){case app.DATE_RANGE_DAY:b=
24*a;break;case app.DATE_RANGE_WEEK:b=168*a;break;case app.DATE_RANGE_MONTH:b=720*a;break;case app.DATE_RANGE_YEAR:b=8760*a;break;case app.DATE_RANGE_CUSTOM:return new Date(c+a*(e-c))}return(new Date).addHours(b)},reset:function(){this.$("#slider").dragslider({range:!0,min:0,max:this.SLIDER_MAX,values:[0,this.SLIDER_MAX]})},redraw:function(){this.reset();var a="<table cellpadding='0' cellspacing='0'><tr>",b,c,e=this.search_model.get("start_date");switch(this.search_model.get("date_range")){case app.DATE_RANGE_DAY:c=
e.getHours();for(b=0;24>b;b++)0==c?a+="<td class='day'>12":this.T24_HOUR_TIME?(a+="<td class='day'>",a=12<c?a+(c-12):a+c):a+="<td class='day'>"+c,this.T24_HOUR_TIME||(a=12>c?a+"am":a+"pm"),a+="</td>",c++,23<c&&(c=0);break;case app.DATE_RANGE_WEEK:c=e.getDay();for(b=0;7>b;b++)a+="<td class='week'>"+Date.DAYS[c]+"</td>",c++,6<c&&(c=0);break;case app.DATE_RANGE_MONTH:c=e.getDate();var h=e.getMonth();for(b=0;31>b;b++)a+="<td class='month'>"+c+"</td>",c++,e.isLeapYear()&&1==h&&29<c?c=1:c>e.daysPerMonth()&&
(c=1);break;case app.DATE_RANGE_YEAR:for(c=e.getMonth(),b=0;12>b;b++)a+="<td class='year'>"+Date.MONTHS[c]+"</td>",c++,11<c&&(c=0)}a+="</tr></table>";this.$(".slider-markings").html(a)}});app=app||{};app.TopPanelView=app.BaseView.extend({el:"#top-panel",template:_.template($("#top-panel-template").html()),initialize:function(a){this.render();new app.NetworkView(a);new app.WhereView(a);new app.WhenView(a);new app.SliderView(a)},render:function(){this.$el.html(this.template())}});app=app||{};
app.WhenView=app.BaseView.extend({DATE_FORMAT:"DD MMM YYYY",el:".when-controls",template:_.template($("#when-template").html()),initialize:function(a){this.search_model=a.search_model;this.dawg_model=a.dawg_model;this.facebook_model=a.facebook_model;this.render()},render:function(){this.$el.html(this.template());this.$("#start_date").datepicker({dateFormat:"dd M yy",changeMonth:!0,changeYear:!0});this.$("#end_date").datepicker({dateFormat:"dd M yy",changeMonth:!0,changeYear:!0});this.setDates()},events:{"click .day":"day",
"click .week":"week","click .month":"month","click .year":"year","click .range":"range","change #start_date":"dateChange","change #end_date":"dateChange"},setDates:function(){this.$("#start_date").val(moment(this.search_model.get("start_date")).format(this.DATE_FORMAT));this.$("#end_date").val(moment(this.search_model.get("end_date")).format(this.DATE_FORMAT))},day:function(a){a.preventDefault();this.$(".active").removeClass("active");$(a.currentTarget).addClass("active");this.search_model.set("date_range",
app.DATE_RANGE_DAY);a=new Date;a.setHours(0,0,0,0);this.search_model.set("start_date",a);this.search_model.set("end_date",a.addDays(1));this.$("#start_date").hide();this.$("#end_date").hide();this.setDates();this.filter()},week:function(a){a.preventDefault();this.$(".active").removeClass("active");$(a.target).addClass("active");this.search_model.set("date_range",app.DATE_RANGE_WEEK);a=new Date;a.setHours(0,0,0,0);this.search_model.set("start_date",a);this.search_model.set("end_date",a.addDays(7));
this.$("#start_date").hide();this.$("#end_date").hide();this.setDates();this.filter()},month:function(a){a.preventDefault();this.$(".active").removeClass("active");$(a.currentTarget).addClass("active");this.search_model.set("date_range",app.DATE_RANGE_MONTH);a=new Date;a.setHours(0,0,0,0);this.search_model.set("start_date",a);this.search_model.set("end_date",a.addMonths(1));this.$("#start_date").hide();this.$("#end_date").hide();this.setDates();this.filter()},year:function(a){a.preventDefault();this.$(".active").removeClass("active");
$(a.currentTarget).addClass("active");this.search_model.set("date_range",app.DATE_RANGE_YEAR);a=new Date;a.setHours(0,0,0,0);this.search_model.set("start_date",a);this.search_model.set("end_date",a.addMonths(12));this.$("#start_date").hide();this.$("#end_date").hide();this.setDates();this.filter()},range:function(a){a.preventDefault();this.$(".active").removeClass("active");$(a.currentTarget).addClass("active");this.search_model.set("date_range",app.DATE_RANGE_CUSTOM);this.$("#start_date").show();
this.$("#end_date").show();Backbone.trigger("redrawSlider")},dateChange:function(){this.search_model.set("start_date",moment(this.$("#start_date").val()).toDate());this.search_model.set("end_date",moment(this.$("#end_date").val()).toDate());this.filter()},filter:function(){this.facebook_model.getCurrentEvents().filterByDate(this.search_model.get("start_date"),this.search_model.get("end_date"));Backbone.trigger("closeEventDetails");Backbone.trigger("dateRangeChange");Backbone.trigger("search")}});app=app||{};
app.WhereView=app.BaseView.extend({el:".where-controls",template:_.template($("#where-template").html()),initialize:function(a){this.search_model=a.search_model;this.dawg_model=a.dawg_model;this.facebook_model=a.facebook_model;Backbone.on("taskStart",this.searchingStart,this);Backbone.on("taskStop",this.searchingStop,this);Backbone.on("status",this.status,this);this.render()},render:function(){this.$el.html(this.template())},startSearching:function(){this.$("#wait-icon").show()},stopSearching:function(){this.$("#wait-icon").hide()},status:function(a){this.$("#status").html(a)}});app=app||{};app.AppRouter=Backbone.Router.extend({routes:{test:"test","event/:id":"event",home:"home","*path":"home"},home:function(){var a=getUrlVars(),b=null;1==a.length&&"event"==a[0]&&(b=a.event);empty(b)?new app.HomeView:new app.HomeView({id:b})},test:function(){var a=new app.FacebookTestView;$("#wrapper #content").html(a.render().el)},event:function(a){debug("event route: id = "+a);debug("event route: id = "+a);new app.HomeView({id:a})}});app=app||{};$(function(){app.search_model=new app.SearchModel;Backbone.on("tasksStart",app.tasksStart,this);Backbone.on("tasksStop",app.tasksStop,this);Backbone.on("getEvents:start",app.tasksStart,this);Backbone.on("getEvents:stop",app.tasksStop,this);Backbone.on("error",app.handleError,this);app.router=new app.AppRouter;app.starturl=window.location.href;Backbone.history.start()});
